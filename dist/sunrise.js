!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function intersect(a,b){return!(a.x>b.x+b.w||a.x+a.w<b.x||a.y>b.y+b.h||a.y+a.h<b.y)}function displaced(a,b){return a.x!==b.x||a.y!==b.y||a.w!==b.w||a.h!==b.h}function CanvasListeners(events){var self=this;events.forEach(function(eventname){self.canvas.addEventListener(eventname,function(_e){if(_e.target===self.canvas){var e=new CanvasEvent(_e),obj={x:e.clientX,y:e.clientY,w:1,h:1};self.collection.forEach(function(item){if(item.visible&&item.w&&item.h&&item.pointerEvents){var bool=intersect(obj,item);bool&&(e.target=item,e.type in item.events&&item.dispatchEvent(e))}}),self.dispatchEvent(e)}})})}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();require("../polyfills/requestAnimationFrame");var BACKGROUND_HASH="background",Canvas=function(){function Canvas(canvas){function hashchange(){window.location.hash==="#"+BACKGROUND_HASH?this.canvas.style.setProperty("z-index",1e4):this.canvas.style.removeProperty("z-index")}_classCallCheck(this,Canvas);var parent;this.events={},this.collection=[],"getContext"in document.createElement("canvas")&&(canvas&&canvas instanceof HTMLCanvasElement?this.canvas=canvas:(parent=canvas,canvas=document.createElement("canvas"),parent||(parent=document.body,canvas.style.cssText="position:fixed;z-index:-1;top:0;left:0;",canvas.setAttribute("tabindex",0),document.documentElement.style.cssText="min-height:100%;",document.body.style.cssText="min-height:100%;",window.addEventListener("resize",this.resize.bind(this))),parent.insertBefore(canvas,parent.firstElementChild),this.canvas=canvas,this.resize()),this.ctx=canvas.getContext("2d"),this.width=canvas.width,this.height=canvas.height,this.draw(),CanvasListeners.call(this,["click","mousedown","mouseup","mouseover","mousemove","mouseout","touchmove","touchstart","touchend"]),window.addEventListener("hashchange",hashchange.bind(this)),hashchange.call(this))}return _createClass(Canvas,[{key:"resize",value:function(){var parent=this.canvas.parentNode===document.body?document.documentElement:this.canvas.parentNode,height=parent.offsetHeight,width=parent.offsetWidth,changed=!1;this.width!==width&&(changed=!0,this.canvas.width=width,this.width=width),this.height!==height&&(changed=!0,this.canvas.height=height,this.height=height),changed&&this.dispatchEvent(new Event("resize"))}},{key:"bringToFront",value:function(){window.location.hash=BACKGROUND_HASH}},{key:"push",value:function(item){var _this=this;item.dirty=!0,item.setup(this),item.addEventListener("dirty",function(){return _this.cleanItem(item)}),this.collection.push(item)}},{key:"clean",value:function(enforce){var _this2=this;this.collection.forEach(function(item){(enforce||item.dirty)&&_this2.cleanItem(item)})}},{key:"cleanItem",value:function(item){var _this3=this;item.dirty=!0,this.ctx.clearRect(item.x,item.y,item.w,item.h);var shifted=displaced(item.past,item);shifted&&this.ctx.clearRect(item.past.x,item.past.y,item.past.w,item.past.h),this.collection.forEach(function(obj){obj.dirty||!intersect(obj,item)&&(shifted?!intersect(obj,item.past):1)||_this3.cleanItem(obj)})}},{key:"frame",value:function(){}},{key:"draw",value:function(){var _this4=this;this.clean(),this.frame(this),this.collection.sort(function(a,b){return a=a.zIndex||0,b=b.zIndex||0,+(a>b)||-(b>a)}),this.collection.forEach(function(item){item.frame(_this4),item.dirty&&item.visible&&item.draw(_this4)}),this.collection.filter(function(item){return item.dirty}).forEach(function(item){return item.dirty=!1}),requestAnimationFrame(this.draw.bind(this))}},{key:"addEventListener",value:function(eventname,handler){eventname in this.events||(this.events[eventname]=[]),this.events[eventname].push(handler)}},{key:"dispatchEvent",value:function(e){e.type in this.events&&this.events[e.type].forEach(function(handler){return handler(e)})}}]),Canvas}();exports["default"]=Canvas;var CanvasEvent=function(){function CanvasEvent(e){_classCallCheck(this,CanvasEvent),this.type=e.type,this.originalEvent=e,this.target=null;var _e=e;e.touches&&(_e=e.touches[0]),this.clientX=_e.clientX-e.target.clientLeft,this.clientY=_e.clientY-e.target.clientTop}return _createClass(CanvasEvent,[{key:"preventDefault",value:function(){}}]),CanvasEvent}();module.exports=exports["default"]},{"../polyfills/requestAnimationFrame":2}],2:[function(require,module,exports){"use strict";window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){window.setTimeout(callback,1e3/60)}}()},{}],3:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _classesCanvas=require("./classes/canvas"),_classesCanvas2=_interopRequireDefault(_classesCanvas),canvas=new _classesCanvas2["default"];canvas.addEventListener("mouseover",function(e){return hover=!0}),canvas.addEventListener("mouseout",function(e){return hover=!1});var radius,hover,spin=0,opacity=0,slices=32,pi=Math.PI/180,deg=360/slices,pallate=["rgb(255, 140, 0)","rgb(255,0,0)","rgb(255,255,0)"];canvas.frame=function(canvas){var ctx=canvas.ctx,cx=canvas.width/2,cy=canvas.height/2;if(radius=Math.max(canvas.width,canvas.height)/2,hover||opacity>0){spin++,hover&&1>opacity&&(opacity+=.1),!hover&&opacity>0&&(opacity-=.1),canvas.canvas.style.opacity=Math.round(10*opacity)/10,ctx.clearRect(0,0,canvas.width,canvas.height);for(var i=0;slices>i;i++)ctx.beginPath(),ctx.fillStyle=pallate[i%pallate.length],ctx.arc(radius,radius,1.5*radius,pi*(i*deg+spin),pi*((i+1)*deg+spin),!1),ctx.lineTo(cx,cy),ctx.fill(),ctx.closePath()}}},{"./classes/canvas":1}]},{},[3]);
//# sourceMappingURL=../dist/sunrise.js.map