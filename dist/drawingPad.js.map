{"version":3,"sources":["dist/node_modules/browser-pack/_prelude.js","dist/node_modules/tricks/events/createDummyEvent.js","dist/node_modules/tricks/events/createEvent.js","dist/node_modules/tricks/support/requestAnimationFrame.js","dist/src/classes/canvas.js","dist/src/classes/collection.js","dist/src/classes/shape.js","dist/src/classes/text.js","dist/src/drawingPad.js"],"names":[],"mappings":"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","file":"drawingPad.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","module.exports = e => {\n\te.stopPropagation = () => {};\n\te.preventDefault = () => {};\n\treturn e;\n};\n","// IE does not support `new Event()`\n// See https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Creating_and_triggering_events for details\nconst dict = {bubbles: true, cancelable: true};\n\nlet createEvent = (eventname, options = dict) =>\n\tnew Event(eventname, options);\n\ntry {\n\tcreateEvent('test');\n}\ncatch (e) {\n\tcreateEvent = (eventname, options = dict) => {\n\t\tconst e = document.createEvent('Event');\n\t\te.initEvent(eventname, !!options.bubbles, !!options.cancelable);\n\t\treturn e;\n\t};\n}\n\nmodule.exports = createEvent;\n","// requestAnimationFrame polyfill\nwindow.requestAnimationFrame =\n\twindow.requestAnimationFrame ||\n\twindow.webkitRequestAnimationFrame ||\n\twindow.mozRequestAnimationFrame ||\n\twindow.oRequestAnimationFrame ||\n\twindow.msRequestAnimationFrame ||\n\t(callback => setTimeout(callback, 1000 / 60));\n\nmodule.exports = window.requestAnimationFrame.bind(window);\n","// Setup\n// This constructs the canvas object\n\n// Includes\nimport 'tricks/support/requestAnimationFrame';\nimport createEvent from 'tricks/events/createEvent';\nimport createDummyEvent from 'tricks/events/createDummyEvent';\n\n// Constants\nconst BACKGROUND_HASH = 'background';\nconst UserEvents = ['click', 'mousedown', 'mouseup', 'mouseover', 'mousemove', 'mouseout', 'frame', 'resize'];\nconst TouchEvents = ['touchmove', 'touchstart', 'touchend'];\n\nconst EVENT_SEPARATOR = /[\\s\\,]+/;\n\nexport default class Canvas {\n\n\t// Construct the Canvas Element\n\t// @param canvas should be an root element container for this imagery.\n\tconstructor(canvas) {\n\n\t\tlet parent;\n\n\t\t// events\n\t\tthis.events = {};\n\n\t\t// browser check\n\t\tif (!('getContext' in document.createElement('canvas'))) {\n\t\t\t// browser doesn't support canvas\n\t\t\treturn;\n\t\t}\n\n\t\tif (!(canvas && canvas instanceof HTMLCanvasElement)) {\n\n\t\t\t// Set the parent\n\t\t\tparent = canvas;\n\n\t\t\t// Create the canvas layer\n\t\t\tcanvas = document.createElement('canvas');\n\t\t\tcanvas.style.backgroundColor = 'white';\n\n\t\t\t// Not a parent\n\t\t\tif (!parent) {\n\t\t\t\t// Append to the body\n\t\t\t\tparent = document.body;\n\t\t\t\tcanvas.style.cssText = 'position:fixed;z-index:-1;top:0;left:0;';\n\t\t\t\tcanvas.setAttribute('tabindex', 0);\n\n\t\t\t\tdocument.documentElement.style.cssText = 'min-height:100%;';\n\t\t\t\tdocument.body.style.cssText = 'min-height:100%;';\n\n\t\t\t\t// Bind window resize events\n\t\t\t\twindow.addEventListener('resize', this.resize.bind(this));\n\t\t\t}\n\n\t\t\t// Append this element\n\t\t\tparent.insertBefore(canvas, parent.firstElementChild);\n\n\t\t\tthis.target = canvas;\n\n\t\t\tthis.resize();\n\t\t}\n\t\telse {\n\t\t\tthis.target = canvas;\n\t\t\tparent = canvas.parentNode;\n\t\t}\n\n\t\tthis.ctx = canvas.getContext('2d');\n\n\t\t// Set initial save point\n\t\tthis.ctx.save();\n\n\t\t// Initiate the time\n\t\tthis._time = 0;\n\t\tthis._fps = 0;\n\n\t\t// Initiate the draw\n\t\tthis.draw();\n\n\t\t// Bind events\n\t\tUserEvents.forEach(eventname => this.target.addEventListener(eventname, this.dispatchEvent.bind(this)));\n\n\t\t// Format Touch events\n\t\tTouchEvents.forEach(eventname => this.target.addEventListener(eventname, this.dispatchTouchEvent.bind(this)));\n\n\t\t// In IE user-events aren't propagated to elements which have negative z-Index's\n\t\t// Listen to events on the document element and propagate those accordingly\n\t\tif (parent === document.body && canvas.style.getPropertyValue('z-index') === '-1') {\n\t\t\t// Bind events\n\t\t\tUserEvents.forEach(eventname => document.addEventListener(eventname, this.dispatchEvent.bind(this)));\n\n\t\t\t// Format Touch events\n\t\t\tTouchEvents.forEach(eventname => document.addEventListener(eventname, this.dispatchTouchEvent.bind(this)));\n\t\t}\n\n\t\t// Listen to hashChange events\n\t\t{\n\t\t\t// HASH CHANGE DEPTH\n\t\t\tconst style = this.target.style;\n\t\t\tconst initialZ = style.getPropertyValue('z-index');\n\t\t\t// Listen to changes to the background hash to bring the canvas element to the front\n\t\t\twindow.addEventListener('hashchange', hashchange.bind(style, initialZ));\n\n\t\t\thashchange.call(style, initialZ);\n\t\t}\n\t}\n\n\t// ensure its keeping up.\n\tget width() {\n\t\treturn this.target.width;\n\t}\n\tset width(value) {\n\t\tthis.target.width = value;\n\t\treturn value;\n\t}\n\n\tget height() {\n\t\treturn this.target.height;\n\t}\n\tset height(value) {\n\t\tthis.target.height = value;\n\t\treturn value;\n\t}\n\tget fps() {\n\t\treturn this._fps;\n\t}\n\tset fps(value) {\n\n\t\tthis._fps = value;\n\n\t\tconst now = (new Date()).getTime();\n\n\t\tif ((now - this._time) > 1000) {\n\t\t\t// console.log('fps: %d', this._fps);\n\t\t\tthis._time = now;\n\t\t\tthis._fps = 0;\n\t\t}\n\t}\n\n\n\tresize() {\n\t\tconst parent = (this.target.parentNode === document.body) ? document.documentElement : this.target.parentNode;\n\t\tconst height = parent.clientHeight;\n\t\tconst width = parent.clientWidth;\n\t\tlet changed = false;\n\n\t\tif (this.width !== width) {\n\t\t\tchanged = true;\n\t\t\tthis.width = width;\n\t\t}\n\t\tif (this.height !== height) {\n\t\t\tchanged = true;\n\t\t\tthis.height = height;\n\t\t}\n\n\t\tif (changed) {\n\t\t\tthis.target.dispatchEvent(createEvent('resize'));\n\t\t}\n\t}\n\n\tclear() {\n\t\tthis.ctx.clearRect(0, 0, this.target.width, this.target.height);\n\t}\n\n\t// Bring the content of the canvas to the front\n\tbringToFront() {\n\n\t\t// Update the window.location with the hash #background\n\t\twindow.location.hash = BACKGROUND_HASH;\n\t}\n\n\t// Trigger the draw function\n\tdraw() {\n\n\t\t// Increment the number of frames\n\t\tthis.fps++;\n\n\t\t// Call the frame function in the context of the frame to draw\n\t\tthis.target.dispatchEvent(createEvent('frame'));\n\n\t\t// Request another frame\n\t\trequestAnimationFrame(this.draw.bind(this));\n\t}\n\n\t// The user has clicked an item on the page\n\taddEventListener(eventnames, handler) {\n\n\t\teventnames.split(EVENT_SEPARATOR).forEach(eventname => {\n\t\t\t// Add to the events list\n\t\t\tif (!(eventname in this.events)) {\n\t\t\t\tthis.events[eventname] = [];\n\t\t\t}\n\n\t\t\tthis.events[eventname].push(handler);\n\t\t});\n\t}\n\n\t// Dispatch\n\tdispatchEvent(e) {\n\n\t\tif (e.type in this.events) {\n\n\t\t\tconst target = e.currentTarget;\n\n\t\t\t// This was triggered using event delegation, aka in the background\n\t\t\tif (target === document) {\n\n\t\t\t\te = createDummyEvent({\n\t\t\t\t\ttype: e.type,\n\t\t\t\t\ttarget: this.target,\n\t\t\t\t\toffsetX: e.pageX || e.offsetX,\n\t\t\t\t\toffsetY: e.pageY || e.offsetY\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.events[e.type].forEach(handler => handler(e));\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t}\n\t}\n\n\t// Dispatch\n\tdispatchTouchEvent(e) {\n\t\t// If this was a touch event\n\t\t// Determine the offset to the canvas element relative to the item being clicked\n\t\tconst touch = (e.touches || e.changedTouches)[0];\n\t\tif (touch) {\n\t\t\te.offsetX = Math.abs(touch.pageX || touch.screenX);\n\t\t\te.offsetY = Math.abs(touch.pageY || touch.screenY);\n\t\t}\n\n\t\tthis.dispatchEvent(e);\n\t}\n}\n\n\nfunction hashchange(z) {\n\n\tconst zIndex = 'z-index';\n\n\tif (window.location.hash === `#${ BACKGROUND_HASH}`) {\n\t\tz = 10000;\n\t}\n\n\tif (z !== undefined) {\n\t\t// Set the z-Index\n\t\tthis.setProperty(zIndex, z);\n\t}\n\telse {\n\t\t// Remove the z-Index\n\t\tthis.removeProperty(zIndex);\n\t}\n}\n","// Collection\n\nconst UserEvents = ['click', 'mousedown', 'mouseup', 'mouseover', 'mousemove', 'mouseout', 'touchmove', 'touchstart', 'touchend', 'frame'];\n\nexport default class Collection {\n\n\tconstructor(target) {\n\t\t// Create an empty children\n\t\tthis.children = [];\n\n\t\t// Events\n\t\tthis.events = [];\n\n\t\t// setup the canvas element\n\t\tthis.init(target);\n\t}\n\n\t// listen to canvas events\n\tinit (target) {\n\n\t\t// Define the canvas object as the target for the collection\n\t\tthis.target = target;\n\n\t\t// Define the CTX\n\t\tthis.ctx = target.getContext('2d');\n\n\t\t// listen to user interactive events and trigger those on items\n\t\tUserEvents.forEach(eventname => target.addEventListener(eventname, this._findAndDispatch.bind(this)));\n\n\t}\n\n\tpush(item) {\n\t\titem.dirty = true;\n\n\t\t// Is this item already in the collection?\n\t\tif (this.children.indexOf(item) === -1) {\n\t\t\tif (item.setup) {\n\t\t\t\titem.setup(this);\n\t\t\t}\n\n\t\t\t// item.addEventListener('dirty', this.prepareChild.bind(this, item));\n\t\t\tthis.children.push(item);\n\t\t}\n\t}\n\n\tget length () {\n\t\treturn this.children.length;\n\t}\n\tset length (v) {\n\t\treturn this.children.length = v;\n\t}\n\n\n\t// Touch\n\t// Mark items and objects in the same space to be redrawn\n\tprepare() {\n\t\tthis.children.forEach(item => {\n\t\t\tif (item.dirty === true)\n\t\t\t\tthis.prepareChild(item);\n\t\t});\n\t}\n\n\t// Clean Item\n\tprepareChild(item) {\n\n\t\tconst ctx = this.ctx;\n\n\t\tif (item.dirty === 'pending') {\n\t\t\treturn;\n\t\t}\n\n\t\t// Mark this item as dirty\n\t\titem.dirty = 'pending';\n\n\t\t// Remove from Canvas\n\t\tctx.clearRect(item.x, item.y, item.w, item.h);\n\n\t\t// If the items old position is different\n\t\tif (item.past && displaced(item.past, item)) {\n\t\t\tctx.clearRect(item.past.x, item.past.y, item.past.w, item.past.h);\n\t\t}\n\n\t\t// Loop though objects and redraw those that exist within the position\n\t\tthis.children.forEach(this._prepareSiblings.bind(this, item));\n\t}\n\n\t_prepareSiblings(item, sibling) {\n\n\t\t// Does this Object overlap with the focused object?\n\t\tif (!sibling.dirty && sibling.visible !== false && (intersect(sibling, item) || (item.past ? intersect(sibling, item.past) : false))) {\n\t\t\t// Nested clean\n\t\t\tthis.prepareChild(sibling);\n\t\t}\n\t}\n\n\tsort() {\n\t\t// Sort items by z-index\n\t\tthis.children.sort((a, b) => {\n\t\t\ta = a.zIndex || 0;\n\t\t\tb = b.zIndex || 0;\n\t\t\treturn +(a > b) || -(a < b);\n\t\t});\n\t}\n\n\t// Trigger the draw function\n\tdraw() {\n\n\t\tconst ctx = this.ctx;\n\n\t\t// Find items that have changed\n\t\t// Remove background\n\t\tthis.children.forEach(item => {\n\n\t\t\tif (item.frame) {\n\t\t\t\titem.frame(ctx);\n\t\t\t}\n\n\t\t\tif (item.dirty && item.visible !== false) {\n\t\t\t\titem.draw(ctx);\n\t\t\t}\n\n\t\t\titem.dirty = false;\n\t\t});\n\t}\n\n\telementFromPoint(x, y) {\n\n\t\tlet target;\n\n\t\t// Find the canvas item which this targets?\n\t\tconst obj = {\n\t\t\tx,\n\t\t\ty,\n\t\t\tw: 1,\n\t\t\th: 1\n\t\t};\n\n\t\tthis.children.forEach(item => {\n\n\t\t\tif (item.visible === false || !item.w || !item.h || item.pointerEvents === false) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Is this a target?\n\t\t\tif (intersect(obj, item)) {\n\t\t\t\t// Define this as a target\n\t\t\t\ttarget = item;\n\t\t\t}\n\t\t});\n\n\t\treturn target;\n\t}\n\n\t// The user has clicked an item on the page\n\taddEventListener(eventname, handler) {\n\n\t\t// Add to the events list\n\t\tif (!(eventname in this.events)) {\n\t\t\tthis.events[eventname] = [];\n\t\t}\n\n\t\tthis.events[eventname].push(handler);\n\t}\n\n\t// Dispatch\n\tdispatchEvent(e) {\n\t\tif (e.type in this.events)\n\t\t\tthis.events[e.type].forEach(handler => handler(e));\n\t}\n\n\t// Find and _dispatch\n\t_findAndDispatch(e) {\n\t\t// If this is not a pointerEvent lets just pass it through.\n\t\tif ((typeof MouseEvent !== 'undefined' && e instanceof MouseEvent) ||\n\t\t\t(typeof TouchEvent !== 'undefined' && e instanceof TouchEvent)) {\n\n\t\t\t// Find the canvas item which this targets?\n\t\t\tconst obj = {\n\t\t\t\tx: e.offsetX,\n\t\t\t\ty: e.offsetY,\n\t\t\t\tw: 1,\n\t\t\t\th: 1\n\t\t\t};\n\n\t\t\tthis.children.forEach(item => {\n\n\t\t\t\tif (!item.visible || !item.w || !item.h || !item.pointerEvents) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Intersects?\n\t\t\t\tintersect(obj, item) && item.dispatchEvent(e);\n\t\t\t});\n\t\t}\n\t}\n}\n\n\n// Intersect\n// Given two objects with, x,y,w,h properties\n// Do their rectangular dimensions intersect?\n// return Boolean true false.\nfunction intersect(a, b) {\n\treturn !(a.x > (b.x + b.w) ||\n\t(a.x + a.w) < b.x ||\n\ta.y > (b.y + b.h) ||\n\t(a.y + a.h) < b.y);\n}\n\nfunction displaced(a, b) {\n\treturn (a.x !== b.x ||\n\ta.y !== b.y ||\n\ta.w !== b.w ||\n\ta.h !== b.h);\n}\n","// Shape\n// CanvasShapes\n// The parent object defining a basic shape, x,y,w,h, for starters.\n// And basic operatings you might like to include on a shape\nimport createEvent from 'tricks/events/createEvent';\n\nexport default class Shape {\n\n\tconstructor (...args) {\n\n\t\t// initieate  events\n\t\tthis.events = [];\n\n\t\tif (args.length) {\n\t\t\t// Store the values\n\t\t\tthis.position(...args);\n\t\t}\n\t}\n\n//\tSet property listeners\n\tget x() {\n\t\treturn this._x;\n\t}\n\tset x(v) {\n\t\tif (this._x !== v) {\n\t\t\tthis.dirty = true; this._x = v;\n\t\t}\n\t}\n\n\tget y() {\n\t\treturn this._y;\n\t}\n\tset y(v) {\n\t\tif (this._y !== v) {\n\t\t\tthis.dirty = true; this._y = v;\n\t\t}\n\t}\n\n\tget w() {\n\t\treturn this._w;\n\t}\n\tset w(v) {\n\t\tif (this._w !== v) {\n\t\t\tthis.dirty = true; this._w = v;\n\t\t}\n\t}\n\n\tget h() {\n\t\treturn this._h;\n\t}\n\tset h(v) {\n\t\tif (this._h !== v) {\n\t\t\tthis.dirty = true; this._h = v;\n\t\t}\n\t}\n\n\tget dx() {\n\t\treturn this._dx;\n\t}\n\tset dx(v) {\n\t\tif (this._dx !== v) {\n\t\t\tthis.dirty = true; this._dx = v;\n\t\t}\n\t}\n\n\tget dy() {\n\t\treturn this._dy;\n\t}\n\tset dy(v) {\n\t\tif (this._dy !== v) {\n\t\t\tthis.dirty = true; this._dy = v;\n\t\t}\n\t}\n\n\tget visible() {\n\t\treturn (this._visible === undefined ? true : this._visible);\n\t}\n\tset visible(v) {\n\t\tif (this._visible !== v) {\n\t\t\tthis.dirty = true; this._visible = v;\n\t\t}\n\t}\n\n\tget opacity() {\n\t\treturn (this._opacity === undefined ? 1 : this._opacity);\n\t}\n\tset opacity(v) {\n\t\tif (this._opacity !== v) {\n\t\t\tthis.dirty = true; this._opacity = v;\n\t\t}\n\t}\n\n\tset dirty (v) {\n\t\t// Has this just been made dirty?\n\t\tif (!this._dirty && v) {\n\t\t\t// Mark as dirty\n\t\t\tthis._dirty = v;\n\n\t\t\t// Trigger a canvas clean\n\t\t\tthis.dispatchEvent(createEvent('dirty'));\n\t\t}\n\t\telse if (!v) {\n\t\t\t// reset\n\t\t\tthis._dirty = v;\n\t\t}\n\t}\n\tget dirty () {\n\t\treturn this._dirty;\n\t}\n\n\t// Let events bubble up\n\tget pointerEvents () {\n\t\treturn (this._pointerEvents === undefined ? 1 : this._pointerEvents);\n\t}\n\tset pointerEvents (v) {\n\t\tthis._pointerEvents = v;\n\t}\n\n\tposition(x = 0, y = 0, w = 0, h = 0) {\n\n\t\tif (!this.past) {\n\t\t\t// Set past points\n\t\t\tthis.past = {};\n\t\t}\n\n\t\tthis.past.x = this.x;\n\t\tthis.past.y = this.y;\n\t\tthis.past.w = this.w;\n\t\tthis.past.h = this.h;\n\n\t\t// Assign, rectangle shape\n\t\t// Have a backup footprint\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.w = w;\n\t\tthis.h = h;\n\t}\n\n\t// Placeholder function for drawing to canvas\n\tframe() {}\n\tdraw() {}\n\tsetup() {}\n\n\t// Events\n\t// Assign Events to be fired when the user clicks this object\n\t// Awesome\n\taddEventListener(eventName, callback) {\n\t\tif (!(eventName in this.events)) {\n\t\t\tthis.events[eventName] = [];\n\t\t}\n\t\tthis.events[eventName].push(callback);\n\t}\n\n\tdispatchEvent(e) {\n\t\tif (!(e.type in this.events)) {\n\t\t\treturn;\n\t\t}\n\t\tthis.events[e.type].forEach(fn => fn(e));\n\t}\n\n\t// Assign getters and setters to default properties\n\t_watchProperty(propName) {\n\t\tObject.defineProperty(this, propName, {\n\t\t\tget: this._getter.bind(this, propName),\n\t\t\tset: this._setter.bind(this, propName)\n\t\t});\n\t}\n\n\t_getter(propName) {\n\t\treturn this[`_${ propName}`];\n\t}\n\n\t_setter(propName, v) {\n\t\tif (this[`_${ propName}`] !== v) {\n\t\t\tthis.dirty = true;\n\t\t\tthis[`_${ propName}`] = v;\n\t\t}\n\t}\n}\n","// text\n// TextObject, defines a shape object which contains text.\n\nimport Shape from './shape';\n\nexport default class Text extends Shape {\n\n\t// Initiate a new shape object.\n\tconstructor (text) {\n\t\t// initiate inheritance\n\t\tsuper();\n\n\t\t// Watch the following properties for changes\n\t\t['text', 'shadowBlur', 'shadowColor', 'fillStyle', 'strokeStyle', 'textAlign', 'textBaseline', 'lineWidth'].forEach(this._watchProperty.bind(this));\n\n\t\t// Define text\n\t\tthis.text = text || '';\n\n\t\tthis.shadowColor = 'black';\n\t\tthis.fillStyle = 'black';\n\t\tthis.strokeStyle = 'white';\n\t\tthis.textAlign = 'left';\n\t\tthis.textBaseline = 'top';\n\t\tthis.lineWidth = 0;\n\t\tthis.align = 'left top';\n\t\tthis.fontSize = 30;\n\t}\n\n\t// Define the text and the alignment of the object\n\tcalc (canvas) {\n\n\t\t// Define text\n\t\t[this.textAlign, this.textBaseline] = this.align.split(' ');\n\n\t\tconst ctx = canvas.ctx;\n\t\tlet fontSize = this.fontSize;\n\n\t\t// Split text by line breaks\n\t\tthis.lines = this.text.toString().split('\\n');\n\n\t\t// Which is the longest line?\n\t\tlet _width = 0;\n\t\tlet default_text = this.lines[0];\n\n\t\tthis.lines.forEach(line => {\n\t\t\tconst _w = ctx.measureText(line).width;\n\t\t\tif (_w > _width) {\n\t\t\t\t_width = _w;\n\t\t\t\tdefault_text = line;\n\t\t\t}\n\t\t});\n\n\t\t// Find the width and height of the item\n\t\t// Using the canvas context\n\t\tctx.save();\n\n\t\tctx.shadowColor = 'black';\n\t\tctx.fillStyle = 'black';\n\t\tctx.strokeStyle = 'rgba(255,255,255,0.5)';\n\t\tctx.font = `bold ${ fontSize }px Arial`;\n\n\t\twhile (ctx.measureText(default_text).width > canvas.width) {\n\t\t\tfontSize *= 0.9;\n\t\t\tfontSize = Math.round(fontSize);\n\t\t\tctx.font = `bold ${ fontSize }px Arial`;\n\t\t}\n\n\t\tthis.shadowBlur = ctx.shadowBlur = Math.round(fontSize / 10);\n\t\tthis.fontSize = fontSize;\n\t\tthis.font = ctx.font;\n\n\t\tthis.w = ctx.measureText(default_text).width + (this.shadowBlur * 2);\n\t\tthis.h = (fontSize + (this.shadowBlur * 2)) * this.lines.length;\n\n\t\tctx.restore();\n\n\t\t// Store style attributes\n\t\t// Store the new attributes of the text item\n\t\tthis.lineWidth = Math.floor(fontSize / 60);\n\n\n\t\t// HEIGHT and WIDTH\n\t\tswitch (this.textAlign) {\n\t\t\tcase 'center':\n\t\t\tcase 'middle':\n\t\t\t\tthis.textAlign = 'center';\n\t\t\t\tthis.x = (canvas.width / 2) - (this.w / 2);\n\t\t\t\tbreak;\n\t\t\tcase 'left':\n\t\t\t\tthis.x = 0;\n\t\t\t\tbreak;\n\t\t\tcase 'right':\n\t\t\t\tthis.x = canvas.width - this.w;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tswitch (this.textBaseline) {\n\t\t\tcase 'center':\n\t\t\tcase 'middle':\n\t\t\t\tthis.textBaseline = 'middle';\n\t\t\t\tthis.y = (canvas.height / 2) - (this.h / 2);\n\t\t\t\tbreak;\n\t\t\tcase 'top':\n\t\t\t\tthis.y = 0;\n\t\t\t\tbreak;\n\t\t\tcase 'bottom':\n\t\t\t\tthis.y = canvas.height - this.h;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tthis.textAlign = 'left';\n\t\tthis.textBaseline = 'top';\n\n\t\tctx.restore();\n\t}\n\n\t// Draw\n\tdraw (ctx) {\n\n\t\tctx.save();\n\n\t\tctx.globalAlpha = this.opacity;\n\n\t\tctx.shadowColor = this.shadowColor;\n\t\tif (this.shadowBlur) {\n\t\t\tctx.shadowBlur = this.shadowBlur;\n\t\t}\n\t\tctx.fillStyle = this.fillStyle;\n\t\tctx.strokeStyle = this.strokeStyle;\n\t\tctx.font = this.font;\n\n\t\tctx.textAlign = this.textAlign;\n\t\tctx.textBaseline = this.textBaseline;\n\t\tctx.lineWidth = this.lineWidth;\n\n\t\tif (this.lineWidth) {\n\t\t\tctx.lineWidth = this.lineWidth;\n\t\t}\n\n\t\tthis.lines = this.text.toString().split('\\n');\n\n\t\tconst len = this.lines.length;\n\n\t\tthis.lines.forEach((item, index) => {\n\t\t\tconst y = this.y + (this.h ? (index * (this.h / len)) : 0);\n\n\t\t\tctx.fillText(item, this.x, y);\n\t\t\tif (this.strokeStyle) {\n\t\t\t\tctx.strokeText(item, this.x, y);\n\t\t\t}\n\t\t});\n\n\t\tctx.restore();\n\t}\n}\n","// mineField, Canvas annimation\n// Copyright Andrew Dodson, March 2013\n\n// Get Canvas\nimport Canvas from './classes/canvas';\nimport Collection from './classes/collection';\nimport Shape from './classes/shape';\nimport Text from './classes/text';\n\n// Create a new scribble\n// Arguments handled by parent\nclass Brush extends Shape {\n\n\tconstructor(...args) {\n\n\t\tsuper(...args);\n\n\t\t// A collection of x, y points\n\t\tthis.points = [];\n\n\t\tthis.push(...args);\n\t}\n\n\t// Add\n\t// Add a new point to the brushes path\n\tpush(x, y) {\n\n\t\tthis.dirty = true;\n\t\tthis.points.push([x, y]);\n\n\t\t// width\n\t\tif (x < this.x) {\n\t\t\tthis.w = this.w + (this.x - x);\n\t\t\tthis.x = x;\n\t\t}\n\t\telse if (x > (this.x + this.w)) {\n\t\t\tthis.w = x - this.x;\n\t\t}\n\t\t// height\n\t\tif (y < this.y) {\n\t\t\tthis.h = this.h + (this.y - y);\n\t\t\tthis.y = y;\n\t\t}\n\t\telse if (y > (this.y + this.h)) {\n\t\t\tthis.h = y - this.y;\n\t\t}\n\t}\n\n\t// Draw the line\n\tdraw(ctx) {\n\t\t// Loop through all the points and draw the line\n\t\tctx.beginPath();\n\t\tconst point = this.points[0];\n\t\tctx.moveTo(point[0], point[1]);\n\t\tthis.points.forEach(point => ctx.lineTo(point[0], point[1]));\n\t\tctx.stroke();\n\t}\n}\n\nlet brush = null;\n\nconst canvas = new Canvas();\n\nconst collection = new Collection(canvas.target);\n\nconst text = new Text();\ntext.text = 'Drawing Pad';\ntext.align = 'center center';\ntext.fontSize = 150;\ntext.fillStyle = 'rgba(0,0,0,0.03)';\ntext.strokeStyle = 'rgba(255,255,255,0.03)';\ntext.calc(canvas);\n\ncanvas.addEventListener('frame', () => {\n\thideText();\n\n\t// Draw\n\tcollection.prepare();\n\n\t// Draw\n\tcollection.draw();\n});\n\nfunction hideText() {\n\n\t// Has the user started?\n\tif (brush) {\n\t\tif (text.opacity > 0.1) {\n\t\t\ttext.opacity *= 0.9;\n\t\t}\n\t\telse {\n\t\t\ttext.opacity = 0;\n\t\t}\n\t}\n}\n\ncollection.push(text);\n\n\nfunction pointStart(e) {\n\n\tbrush = new Brush(e.offsetX, e.offsetY);\n\tcollection.push(brush);\n\n}\n\nfunction pointEnd() {\n\tbrush = null;\n}\n\ncanvas.addEventListener('touchstart', pointStart);\ncanvas.addEventListener('touchend', pointEnd);\ncanvas.addEventListener('touchmove', move);\n\ncanvas.addEventListener('mousedown', pointStart);\ncanvas.addEventListener('mouseup', pointEnd);\ncanvas.addEventListener('mousemove', move);\n\ncanvas.addEventListener('resize', () => canvas.clean(true));\n\n// Move\n// Depending on the event\nfunction move(e) {\n\t// is mousedown?\n\tif (brush) {\n\t\tbrush.push(e.offsetX, e.offsetY);\n\t}\n}\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvdHJpY2tzL2V2ZW50cy9jcmVhdGVEdW1teUV2ZW50LmpzIiwibm9kZV9tb2R1bGVzL3RyaWNrcy9ldmVudHMvY3JlYXRlRXZlbnQuanMiLCJub2RlX21vZHVsZXMvdHJpY2tzL3N1cHBvcnQvcmVxdWVzdEFuaW1hdGlvbkZyYW1lLmpzIiwic3JjL2NsYXNzZXMvY2FudmFzLmpzIiwic3JjL2NsYXNzZXMvY29sbGVjdGlvbi5qcyIsInNyYy9jbGFzc2VzL3NoYXBlLmpzIiwic3JjL2NsYXNzZXMvdGV4dC5qcyIsInNyYy9kcmF3aW5nUGFkLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQSxPQUFPLE9BQVAsR0FBaUIsYUFBSztBQUNyQixHQUFFLGVBQUYsR0FBb0IsWUFBTSxDQUFFLENBQTVCO0FBQ0EsR0FBRSxjQUFGLEdBQW1CLFlBQU0sQ0FBRSxDQUEzQjtBQUNBLFFBQU8sQ0FBUDtBQUNBLENBSkQ7Ozs7O0FDQUE7QUFDQTtBQUNBLElBQU0sT0FBTyxFQUFDLFNBQVMsSUFBVixFQUFnQixZQUFZLElBQTVCLEVBQWI7O0FBRUEsSUFBSSxjQUFjLHFCQUFDLFNBQUQ7QUFBQSxLQUFZLE9BQVosdUVBQXNCLElBQXRCO0FBQUEsUUFDakIsSUFBSSxLQUFKLENBQVUsU0FBVixFQUFxQixPQUFyQixDQURpQjtBQUFBLENBQWxCOztBQUdBLElBQUk7QUFDSCxhQUFZLE1BQVo7QUFDQSxDQUZELENBR0EsT0FBTyxDQUFQLEVBQVU7QUFDVCxlQUFjLHFCQUFDLFNBQUQsRUFBK0I7QUFBQSxNQUFuQixPQUFtQix1RUFBVCxJQUFTOztBQUM1QyxNQUFNLElBQUksU0FBUyxXQUFULENBQXFCLE9BQXJCLENBQVY7QUFDQSxJQUFFLFNBQUYsQ0FBWSxTQUFaLEVBQXVCLENBQUMsQ0FBQyxRQUFRLE9BQWpDLEVBQTBDLENBQUMsQ0FBQyxRQUFRLFVBQXBE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WDtBQUNBLENBUkQ7O0FBVUEsU0FBUyxRQUFULEdBQW9COztBQUVuQjtBQUNBLEtBQUksS0FBSixFQUFXO0FBQ1YsTUFBSSxLQUFLLE9BQUwsR0FBZSxHQUFuQixFQUF3QjtBQUN2QixRQUFLLE9BQUwsSUFBZ0IsR0FBaEI7QUFDQSxHQUZELE1BR0s7QUFDSixRQUFLLE9BQUwsR0FBZSxDQUFmO0FBQ0E7QUFDRDtBQUNEOztBQUVELFdBQVcsSUFBWCxDQUFnQixJQUFoQjs7QUFHQSxTQUFTLFVBQVQsQ0FBb0IsQ0FBcEIsRUFBdUI7O0FBRXRCLFNBQVEsSUFBSSxLQUFKLENBQVUsRUFBRSxPQUFaLEVBQXFCLEVBQUUsT0FBdkIsQ0FBUjtBQUNBLFlBQVcsSUFBWCxDQUFnQixLQUFoQjtBQUVBOztBQUVELFNBQVMsUUFBVCxHQUFvQjtBQUNuQixTQUFRLElBQVI7QUFDQTs7QUFFRCxPQUFPLGdCQUFQLENBQXdCLFlBQXhCLEVBQXNDLFVBQXRDO0FBQ0EsT0FBTyxnQkFBUCxDQUF3QixVQUF4QixFQUFvQyxRQUFwQztBQUNBLE9BQU8sZ0JBQVAsQ0FBd0IsV0FBeEIsRUFBcUMsSUFBckM7O0FBRUEsT0FBTyxnQkFBUCxDQUF3QixXQUF4QixFQUFxQyxVQUFyQztBQUNBLE9BQU8sZ0JBQVAsQ0FBd0IsU0FBeEIsRUFBbUMsUUFBbkM7QUFDQSxPQUFPLGdCQUFQLENBQXdCLFdBQXhCLEVBQXFDLElBQXJDOztBQUVBLE9BQU8sZ0JBQVAsQ0FBd0IsUUFBeEIsRUFBa0M7QUFBQSxRQUFNLE9BQU8sS0FBUCxDQUFhLElBQWIsQ0FBTjtBQUFBLENBQWxDOztBQUVBO0FBQ0E7QUFDQSxTQUFTLElBQVQsQ0FBYyxDQUFkLEVBQWlCO0FBQ2hCO0FBQ0EsS0FBSSxLQUFKLEVBQVc7QUFDVixRQUFNLElBQU4sQ0FBVyxFQUFFLE9BQWIsRUFBc0IsRUFBRSxPQUF4QjtBQUNBO0FBQ0QiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwibW9kdWxlLmV4cG9ydHMgPSBlID0+IHtcblx0ZS5zdG9wUHJvcGFnYXRpb24gPSAoKSA9PiB7fTtcblx0ZS5wcmV2ZW50RGVmYXVsdCA9ICgpID0+IHt9O1xuXHRyZXR1cm4gZTtcbn07XG4iLCIvLyBJRSBkb2VzIG5vdCBzdXBwb3J0IGBuZXcgRXZlbnQoKWBcbi8vIFNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9HdWlkZS9FdmVudHMvQ3JlYXRpbmdfYW5kX3RyaWdnZXJpbmdfZXZlbnRzIGZvciBkZXRhaWxzXG5jb25zdCBkaWN0ID0ge2J1YmJsZXM6IHRydWUsIGNhbmNlbGFibGU6IHRydWV9O1xuXG5sZXQgY3JlYXRlRXZlbnQgPSAoZXZlbnRuYW1lLCBvcHRpb25zID0gZGljdCkgPT5cblx0bmV3IEV2ZW50KGV2ZW50bmFtZSwgb3B0aW9ucyk7XG5cbnRyeSB7XG5cdGNyZWF0ZUV2ZW50KCd0ZXN0Jyk7XG59XG5jYXRjaCAoZSkge1xuXHRjcmVhdGVFdmVudCA9IChldmVudG5hbWUsIG9wdGlvbnMgPSBkaWN0KSA9PiB7XG5cdFx0Y29uc3QgZSA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuXHRcdGUuaW5pdEV2ZW50KGV2ZW50bmFtZSwgISFvcHRpb25zLmJ1YmJsZXMsICEhb3B0aW9ucy5jYW5jZWxhYmxlKTtcblx0XHRyZXR1cm4gZTtcblx0fTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVFdmVudDtcbiIsIi8vIHJlcXVlc3RBbmltYXRpb25GcmFtZSBwb2x5ZmlsbFxud2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9XG5cdHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcblx0d2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuXHR3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG5cdHdpbmRvdy5vUmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG5cdHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuXHQoY2FsbGJhY2sgPT4gc2V0VGltZW91dChjYWxsYmFjaywgMTAwMCAvIDYwKSk7XG5cbm1vZHVsZS5leHBvcnRzID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZS5iaW5kKHdpbmRvdyk7XG4iLCIvLyBTZXR1cFxuLy8gVGhpcyBjb25zdHJ1Y3RzIHRoZSBjYW52YXMgb2JqZWN0XG5cbi8vIEluY2x1ZGVzXG5pbXBvcnQgJ3RyaWNrcy9zdXBwb3J0L3JlcXVlc3RBbmltYXRpb25GcmFtZSc7XG5pbXBvcnQgY3JlYXRlRXZlbnQgZnJvbSAndHJpY2tzL2V2ZW50cy9jcmVhdGVFdmVudCc7XG5pbXBvcnQgY3JlYXRlRHVtbXlFdmVudCBmcm9tICd0cmlja3MvZXZlbnRzL2NyZWF0ZUR1bW15RXZlbnQnO1xuXG4vLyBDb25zdGFudHNcbmNvbnN0IEJBQ0tHUk9VTkRfSEFTSCA9ICdiYWNrZ3JvdW5kJztcbmNvbnN0IFVzZXJFdmVudHMgPSBbJ2NsaWNrJywgJ21vdXNlZG93bicsICdtb3VzZXVwJywgJ21vdXNlb3ZlcicsICdtb3VzZW1vdmUnLCAnbW91c2VvdXQnLCAnZnJhbWUnLCAncmVzaXplJ107XG5jb25zdCBUb3VjaEV2ZW50cyA9IFsndG91Y2htb3ZlJywgJ3RvdWNoc3RhcnQnLCAndG91Y2hlbmQnXTtcblxuY29uc3QgRVZFTlRfU0VQQVJBVE9SID0gL1tcXHNcXCxdKy87XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbnZhcyB7XG5cblx0Ly8gQ29uc3RydWN0IHRoZSBDYW52YXMgRWxlbWVudFxuXHQvLyBAcGFyYW0gY2FudmFzIHNob3VsZCBiZSBhbiByb290IGVsZW1lbnQgY29udGFpbmVyIGZvciB0aGlzIGltYWdlcnkuXG5cdGNvbnN0cnVjdG9yKGNhbnZhcykge1xuXG5cdFx0bGV0IHBhcmVudDtcblxuXHRcdC8vIGV2ZW50c1xuXHRcdHRoaXMuZXZlbnRzID0ge307XG5cblx0XHQvLyBicm93c2VyIGNoZWNrXG5cdFx0aWYgKCEoJ2dldENvbnRleHQnIGluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpKSkge1xuXHRcdFx0Ly8gYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgY2FudmFzXG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCEoY2FudmFzICYmIGNhbnZhcyBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50KSkge1xuXG5cdFx0XHQvLyBTZXQgdGhlIHBhcmVudFxuXHRcdFx0cGFyZW50ID0gY2FudmFzO1xuXG5cdFx0XHQvLyBDcmVhdGUgdGhlIGNhbnZhcyBsYXllclxuXHRcdFx0Y2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cdFx0XHRjYW52YXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3doaXRlJztcblxuXHRcdFx0Ly8gTm90IGEgcGFyZW50XG5cdFx0XHRpZiAoIXBhcmVudCkge1xuXHRcdFx0XHQvLyBBcHBlbmQgdG8gdGhlIGJvZHlcblx0XHRcdFx0cGFyZW50ID0gZG9jdW1lbnQuYm9keTtcblx0XHRcdFx0Y2FudmFzLnN0eWxlLmNzc1RleHQgPSAncG9zaXRpb246Zml4ZWQ7ei1pbmRleDotMTt0b3A6MDtsZWZ0OjA7Jztcblx0XHRcdFx0Y2FudmFzLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAwKTtcblxuXHRcdFx0XHRkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuY3NzVGV4dCA9ICdtaW4taGVpZ2h0OjEwMCU7Jztcblx0XHRcdFx0ZG9jdW1lbnQuYm9keS5zdHlsZS5jc3NUZXh0ID0gJ21pbi1oZWlnaHQ6MTAwJTsnO1xuXG5cdFx0XHRcdC8vIEJpbmQgd2luZG93IHJlc2l6ZSBldmVudHNcblx0XHRcdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVzaXplLmJpbmQodGhpcykpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBcHBlbmQgdGhpcyBlbGVtZW50XG5cdFx0XHRwYXJlbnQuaW5zZXJ0QmVmb3JlKGNhbnZhcywgcGFyZW50LmZpcnN0RWxlbWVudENoaWxkKTtcblxuXHRcdFx0dGhpcy50YXJnZXQgPSBjYW52YXM7XG5cblx0XHRcdHRoaXMucmVzaXplKCk7XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0dGhpcy50YXJnZXQgPSBjYW52YXM7XG5cdFx0XHRwYXJlbnQgPSBjYW52YXMucGFyZW50Tm9kZTtcblx0XHR9XG5cblx0XHR0aGlzLmN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG5cdFx0Ly8gU2V0IGluaXRpYWwgc2F2ZSBwb2ludFxuXHRcdHRoaXMuY3R4LnNhdmUoKTtcblxuXHRcdC8vIEluaXRpYXRlIHRoZSB0aW1lXG5cdFx0dGhpcy5fdGltZSA9IDA7XG5cdFx0dGhpcy5fZnBzID0gMDtcblxuXHRcdC8vIEluaXRpYXRlIHRoZSBkcmF3XG5cdFx0dGhpcy5kcmF3KCk7XG5cblx0XHQvLyBCaW5kIGV2ZW50c1xuXHRcdFVzZXJFdmVudHMuZm9yRWFjaChldmVudG5hbWUgPT4gdGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihldmVudG5hbWUsIHRoaXMuZGlzcGF0Y2hFdmVudC5iaW5kKHRoaXMpKSk7XG5cblx0XHQvLyBGb3JtYXQgVG91Y2ggZXZlbnRzXG5cdFx0VG91Y2hFdmVudHMuZm9yRWFjaChldmVudG5hbWUgPT4gdGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihldmVudG5hbWUsIHRoaXMuZGlzcGF0Y2hUb3VjaEV2ZW50LmJpbmQodGhpcykpKTtcblxuXHRcdC8vIEluIElFIHVzZXItZXZlbnRzIGFyZW4ndCBwcm9wYWdhdGVkIHRvIGVsZW1lbnRzIHdoaWNoIGhhdmUgbmVnYXRpdmUgei1JbmRleCdzXG5cdFx0Ly8gTGlzdGVuIHRvIGV2ZW50cyBvbiB0aGUgZG9jdW1lbnQgZWxlbWVudCBhbmQgcHJvcGFnYXRlIHRob3NlIGFjY29yZGluZ2x5XG5cdFx0aWYgKHBhcmVudCA9PT0gZG9jdW1lbnQuYm9keSAmJiBjYW52YXMuc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnei1pbmRleCcpID09PSAnLTEnKSB7XG5cdFx0XHQvLyBCaW5kIGV2ZW50c1xuXHRcdFx0VXNlckV2ZW50cy5mb3JFYWNoKGV2ZW50bmFtZSA9PiBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50bmFtZSwgdGhpcy5kaXNwYXRjaEV2ZW50LmJpbmQodGhpcykpKTtcblxuXHRcdFx0Ly8gRm9ybWF0IFRvdWNoIGV2ZW50c1xuXHRcdFx0VG91Y2hFdmVudHMuZm9yRWFjaChldmVudG5hbWUgPT4gZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudG5hbWUsIHRoaXMuZGlzcGF0Y2hUb3VjaEV2ZW50LmJpbmQodGhpcykpKTtcblx0XHR9XG5cblx0XHQvLyBMaXN0ZW4gdG8gaGFzaENoYW5nZSBldmVudHNcblx0XHR7XG5cdFx0XHQvLyBIQVNIIENIQU5HRSBERVBUSFxuXHRcdFx0Y29uc3Qgc3R5bGUgPSB0aGlzLnRhcmdldC5zdHlsZTtcblx0XHRcdGNvbnN0IGluaXRpYWxaID0gc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnei1pbmRleCcpO1xuXHRcdFx0Ly8gTGlzdGVuIHRvIGNoYW5nZXMgdG8gdGhlIGJhY2tncm91bmQgaGFzaCB0byBicmluZyB0aGUgY2FudmFzIGVsZW1lbnQgdG8gdGhlIGZyb250XG5cdFx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsIGhhc2hjaGFuZ2UuYmluZChzdHlsZSwgaW5pdGlhbFopKTtcblxuXHRcdFx0aGFzaGNoYW5nZS5jYWxsKHN0eWxlLCBpbml0aWFsWik7XG5cdFx0fVxuXHR9XG5cblx0Ly8gZW5zdXJlIGl0cyBrZWVwaW5nIHVwLlxuXHRnZXQgd2lkdGgoKSB7XG5cdFx0cmV0dXJuIHRoaXMudGFyZ2V0LndpZHRoO1xuXHR9XG5cdHNldCB3aWR0aCh2YWx1ZSkge1xuXHRcdHRoaXMudGFyZ2V0LndpZHRoID0gdmFsdWU7XG5cdFx0cmV0dXJuIHZhbHVlO1xuXHR9XG5cblx0Z2V0IGhlaWdodCgpIHtcblx0XHRyZXR1cm4gdGhpcy50YXJnZXQuaGVpZ2h0O1xuXHR9XG5cdHNldCBoZWlnaHQodmFsdWUpIHtcblx0XHR0aGlzLnRhcmdldC5oZWlnaHQgPSB2YWx1ZTtcblx0XHRyZXR1cm4gdmFsdWU7XG5cdH1cblx0Z2V0IGZwcygpIHtcblx0XHRyZXR1cm4gdGhpcy5fZnBzO1xuXHR9XG5cdHNldCBmcHModmFsdWUpIHtcblxuXHRcdHRoaXMuX2ZwcyA9IHZhbHVlO1xuXG5cdFx0Y29uc3Qgbm93ID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKTtcblxuXHRcdGlmICgobm93IC0gdGhpcy5fdGltZSkgPiAxMDAwKSB7XG5cdFx0XHQvLyBjb25zb2xlLmxvZygnZnBzOiAlZCcsIHRoaXMuX2Zwcyk7XG5cdFx0XHR0aGlzLl90aW1lID0gbm93O1xuXHRcdFx0dGhpcy5fZnBzID0gMDtcblx0XHR9XG5cdH1cblxuXG5cdHJlc2l6ZSgpIHtcblx0XHRjb25zdCBwYXJlbnQgPSAodGhpcy50YXJnZXQucGFyZW50Tm9kZSA9PT0gZG9jdW1lbnQuYm9keSkgPyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgOiB0aGlzLnRhcmdldC5wYXJlbnROb2RlO1xuXHRcdGNvbnN0IGhlaWdodCA9IHBhcmVudC5jbGllbnRIZWlnaHQ7XG5cdFx0Y29uc3Qgd2lkdGggPSBwYXJlbnQuY2xpZW50V2lkdGg7XG5cdFx0bGV0IGNoYW5nZWQgPSBmYWxzZTtcblxuXHRcdGlmICh0aGlzLndpZHRoICE9PSB3aWR0aCkge1xuXHRcdFx0Y2hhbmdlZCA9IHRydWU7XG5cdFx0XHR0aGlzLndpZHRoID0gd2lkdGg7XG5cdFx0fVxuXHRcdGlmICh0aGlzLmhlaWdodCAhPT0gaGVpZ2h0KSB7XG5cdFx0XHRjaGFuZ2VkID0gdHJ1ZTtcblx0XHRcdHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXHRcdH1cblxuXHRcdGlmIChjaGFuZ2VkKSB7XG5cdFx0XHR0aGlzLnRhcmdldC5kaXNwYXRjaEV2ZW50KGNyZWF0ZUV2ZW50KCdyZXNpemUnKSk7XG5cdFx0fVxuXHR9XG5cblx0Y2xlYXIoKSB7XG5cdFx0dGhpcy5jdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMudGFyZ2V0LndpZHRoLCB0aGlzLnRhcmdldC5oZWlnaHQpO1xuXHR9XG5cblx0Ly8gQnJpbmcgdGhlIGNvbnRlbnQgb2YgdGhlIGNhbnZhcyB0byB0aGUgZnJvbnRcblx0YnJpbmdUb0Zyb250KCkge1xuXG5cdFx0Ly8gVXBkYXRlIHRoZSB3aW5kb3cubG9jYXRpb24gd2l0aCB0aGUgaGFzaCAjYmFja2dyb3VuZFxuXHRcdHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gQkFDS0dST1VORF9IQVNIO1xuXHR9XG5cblx0Ly8gVHJpZ2dlciB0aGUgZHJhdyBmdW5jdGlvblxuXHRkcmF3KCkge1xuXG5cdFx0Ly8gSW5jcmVtZW50IHRoZSBudW1iZXIgb2YgZnJhbWVzXG5cdFx0dGhpcy5mcHMrKztcblxuXHRcdC8vIENhbGwgdGhlIGZyYW1lIGZ1bmN0aW9uIGluIHRoZSBjb250ZXh0IG9mIHRoZSBmcmFtZSB0byBkcmF3XG5cdFx0dGhpcy50YXJnZXQuZGlzcGF0Y2hFdmVudChjcmVhdGVFdmVudCgnZnJhbWUnKSk7XG5cblx0XHQvLyBSZXF1ZXN0IGFub3RoZXIgZnJhbWVcblx0XHRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5kcmF3LmJpbmQodGhpcykpO1xuXHR9XG5cblx0Ly8gVGhlIHVzZXIgaGFzIGNsaWNrZWQgYW4gaXRlbSBvbiB0aGUgcGFnZVxuXHRhZGRFdmVudExpc3RlbmVyKGV2ZW50bmFtZXMsIGhhbmRsZXIpIHtcblxuXHRcdGV2ZW50bmFtZXMuc3BsaXQoRVZFTlRfU0VQQVJBVE9SKS5mb3JFYWNoKGV2ZW50bmFtZSA9PiB7XG5cdFx0XHQvLyBBZGQgdG8gdGhlIGV2ZW50cyBsaXN0XG5cdFx0XHRpZiAoIShldmVudG5hbWUgaW4gdGhpcy5ldmVudHMpKSB7XG5cdFx0XHRcdHRoaXMuZXZlbnRzW2V2ZW50bmFtZV0gPSBbXTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5ldmVudHNbZXZlbnRuYW1lXS5wdXNoKGhhbmRsZXIpO1xuXHRcdH0pO1xuXHR9XG5cblx0Ly8gRGlzcGF0Y2hcblx0ZGlzcGF0Y2hFdmVudChlKSB7XG5cblx0XHRpZiAoZS50eXBlIGluIHRoaXMuZXZlbnRzKSB7XG5cblx0XHRcdGNvbnN0IHRhcmdldCA9IGUuY3VycmVudFRhcmdldDtcblxuXHRcdFx0Ly8gVGhpcyB3YXMgdHJpZ2dlcmVkIHVzaW5nIGV2ZW50IGRlbGVnYXRpb24sIGFrYSBpbiB0aGUgYmFja2dyb3VuZFxuXHRcdFx0aWYgKHRhcmdldCA9PT0gZG9jdW1lbnQpIHtcblxuXHRcdFx0XHRlID0gY3JlYXRlRHVtbXlFdmVudCh7XG5cdFx0XHRcdFx0dHlwZTogZS50eXBlLFxuXHRcdFx0XHRcdHRhcmdldDogdGhpcy50YXJnZXQsXG5cdFx0XHRcdFx0b2Zmc2V0WDogZS5wYWdlWCB8fCBlLm9mZnNldFgsXG5cdFx0XHRcdFx0b2Zmc2V0WTogZS5wYWdlWSB8fCBlLm9mZnNldFlcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuZXZlbnRzW2UudHlwZV0uZm9yRWFjaChoYW5kbGVyID0+IGhhbmRsZXIoZSkpO1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHR9XG5cdH1cblxuXHQvLyBEaXNwYXRjaFxuXHRkaXNwYXRjaFRvdWNoRXZlbnQoZSkge1xuXHRcdC8vIElmIHRoaXMgd2FzIGEgdG91Y2ggZXZlbnRcblx0XHQvLyBEZXRlcm1pbmUgdGhlIG9mZnNldCB0byB0aGUgY2FudmFzIGVsZW1lbnQgcmVsYXRpdmUgdG8gdGhlIGl0ZW0gYmVpbmcgY2xpY2tlZFxuXHRcdGNvbnN0IHRvdWNoID0gKGUudG91Y2hlcyB8fCBlLmNoYW5nZWRUb3VjaGVzKVswXTtcblx0XHRpZiAodG91Y2gpIHtcblx0XHRcdGUub2Zmc2V0WCA9IE1hdGguYWJzKHRvdWNoLnBhZ2VYIHx8IHRvdWNoLnNjcmVlblgpO1xuXHRcdFx0ZS5vZmZzZXRZID0gTWF0aC5hYnModG91Y2gucGFnZVkgfHwgdG91Y2guc2NyZWVuWSk7XG5cdFx0fVxuXG5cdFx0dGhpcy5kaXNwYXRjaEV2ZW50KGUpO1xuXHR9XG59XG5cblxuZnVuY3Rpb24gaGFzaGNoYW5nZSh6KSB7XG5cblx0Y29uc3QgekluZGV4ID0gJ3otaW5kZXgnO1xuXG5cdGlmICh3aW5kb3cubG9jYXRpb24uaGFzaCA9PT0gYCMkeyBCQUNLR1JPVU5EX0hBU0h9YCkge1xuXHRcdHogPSAxMDAwMDtcblx0fVxuXG5cdGlmICh6ICE9PSB1bmRlZmluZWQpIHtcblx0XHQvLyBTZXQgdGhlIHotSW5kZXhcblx0XHR0aGlzLnNldFByb3BlcnR5KHpJbmRleCwgeik7XG5cdH1cblx0ZWxzZSB7XG5cdFx0Ly8gUmVtb3ZlIHRoZSB6LUluZGV4XG5cdFx0dGhpcy5yZW1vdmVQcm9wZXJ0eSh6SW5kZXgpO1xuXHR9XG59XG4iLCIvLyBDb2xsZWN0aW9uXG5cbmNvbnN0IFVzZXJFdmVudHMgPSBbJ2NsaWNrJywgJ21vdXNlZG93bicsICdtb3VzZXVwJywgJ21vdXNlb3ZlcicsICdtb3VzZW1vdmUnLCAnbW91c2VvdXQnLCAndG91Y2htb3ZlJywgJ3RvdWNoc3RhcnQnLCAndG91Y2hlbmQnLCAnZnJhbWUnXTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29sbGVjdGlvbiB7XG5cblx0Y29uc3RydWN0b3IodGFyZ2V0KSB7XG5cdFx0Ly8gQ3JlYXRlIGFuIGVtcHR5IGNoaWxkcmVuXG5cdFx0dGhpcy5jaGlsZHJlbiA9IFtdO1xuXG5cdFx0Ly8gRXZlbnRzXG5cdFx0dGhpcy5ldmVudHMgPSBbXTtcblxuXHRcdC8vIHNldHVwIHRoZSBjYW52YXMgZWxlbWVudFxuXHRcdHRoaXMuaW5pdCh0YXJnZXQpO1xuXHR9XG5cblx0Ly8gbGlzdGVuIHRvIGNhbnZhcyBldmVudHNcblx0aW5pdCAodGFyZ2V0KSB7XG5cblx0XHQvLyBEZWZpbmUgdGhlIGNhbnZhcyBvYmplY3QgYXMgdGhlIHRhcmdldCBmb3IgdGhlIGNvbGxlY3Rpb25cblx0XHR0aGlzLnRhcmdldCA9IHRhcmdldDtcblxuXHRcdC8vIERlZmluZSB0aGUgQ1RYXG5cdFx0dGhpcy5jdHggPSB0YXJnZXQuZ2V0Q29udGV4dCgnMmQnKTtcblxuXHRcdC8vIGxpc3RlbiB0byB1c2VyIGludGVyYWN0aXZlIGV2ZW50cyBhbmQgdHJpZ2dlciB0aG9zZSBvbiBpdGVtc1xuXHRcdFVzZXJFdmVudHMuZm9yRWFjaChldmVudG5hbWUgPT4gdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRuYW1lLCB0aGlzLl9maW5kQW5kRGlzcGF0Y2guYmluZCh0aGlzKSkpO1xuXG5cdH1cblxuXHRwdXNoKGl0ZW0pIHtcblx0XHRpdGVtLmRpcnR5ID0gdHJ1ZTtcblxuXHRcdC8vIElzIHRoaXMgaXRlbSBhbHJlYWR5IGluIHRoZSBjb2xsZWN0aW9uP1xuXHRcdGlmICh0aGlzLmNoaWxkcmVuLmluZGV4T2YoaXRlbSkgPT09IC0xKSB7XG5cdFx0XHRpZiAoaXRlbS5zZXR1cCkge1xuXHRcdFx0XHRpdGVtLnNldHVwKHRoaXMpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2RpcnR5JywgdGhpcy5wcmVwYXJlQ2hpbGQuYmluZCh0aGlzLCBpdGVtKSk7XG5cdFx0XHR0aGlzLmNoaWxkcmVuLnB1c2goaXRlbSk7XG5cdFx0fVxuXHR9XG5cblx0Z2V0IGxlbmd0aCAoKSB7XG5cdFx0cmV0dXJuIHRoaXMuY2hpbGRyZW4ubGVuZ3RoO1xuXHR9XG5cdHNldCBsZW5ndGggKHYpIHtcblx0XHRyZXR1cm4gdGhpcy5jaGlsZHJlbi5sZW5ndGggPSB2O1xuXHR9XG5cblxuXHQvLyBUb3VjaFxuXHQvLyBNYXJrIGl0ZW1zIGFuZCBvYmplY3RzIGluIHRoZSBzYW1lIHNwYWNlIHRvIGJlIHJlZHJhd25cblx0cHJlcGFyZSgpIHtcblx0XHR0aGlzLmNoaWxkcmVuLmZvckVhY2goaXRlbSA9PiB7XG5cdFx0XHRpZiAoaXRlbS5kaXJ0eSA9PT0gdHJ1ZSlcblx0XHRcdFx0dGhpcy5wcmVwYXJlQ2hpbGQoaXRlbSk7XG5cdFx0fSk7XG5cdH1cblxuXHQvLyBDbGVhbiBJdGVtXG5cdHByZXBhcmVDaGlsZChpdGVtKSB7XG5cblx0XHRjb25zdCBjdHggPSB0aGlzLmN0eDtcblxuXHRcdGlmIChpdGVtLmRpcnR5ID09PSAncGVuZGluZycpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBNYXJrIHRoaXMgaXRlbSBhcyBkaXJ0eVxuXHRcdGl0ZW0uZGlydHkgPSAncGVuZGluZyc7XG5cblx0XHQvLyBSZW1vdmUgZnJvbSBDYW52YXNcblx0XHRjdHguY2xlYXJSZWN0KGl0ZW0ueCwgaXRlbS55LCBpdGVtLncsIGl0ZW0uaCk7XG5cblx0XHQvLyBJZiB0aGUgaXRlbXMgb2xkIHBvc2l0aW9uIGlzIGRpZmZlcmVudFxuXHRcdGlmIChpdGVtLnBhc3QgJiYgZGlzcGxhY2VkKGl0ZW0ucGFzdCwgaXRlbSkpIHtcblx0XHRcdGN0eC5jbGVhclJlY3QoaXRlbS5wYXN0LngsIGl0ZW0ucGFzdC55LCBpdGVtLnBhc3QudywgaXRlbS5wYXN0LmgpO1xuXHRcdH1cblxuXHRcdC8vIExvb3AgdGhvdWdoIG9iamVjdHMgYW5kIHJlZHJhdyB0aG9zZSB0aGF0IGV4aXN0IHdpdGhpbiB0aGUgcG9zaXRpb25cblx0XHR0aGlzLmNoaWxkcmVuLmZvckVhY2godGhpcy5fcHJlcGFyZVNpYmxpbmdzLmJpbmQodGhpcywgaXRlbSkpO1xuXHR9XG5cblx0X3ByZXBhcmVTaWJsaW5ncyhpdGVtLCBzaWJsaW5nKSB7XG5cblx0XHQvLyBEb2VzIHRoaXMgT2JqZWN0IG92ZXJsYXAgd2l0aCB0aGUgZm9jdXNlZCBvYmplY3Q/XG5cdFx0aWYgKCFzaWJsaW5nLmRpcnR5ICYmIHNpYmxpbmcudmlzaWJsZSAhPT0gZmFsc2UgJiYgKGludGVyc2VjdChzaWJsaW5nLCBpdGVtKSB8fCAoaXRlbS5wYXN0ID8gaW50ZXJzZWN0KHNpYmxpbmcsIGl0ZW0ucGFzdCkgOiBmYWxzZSkpKSB7XG5cdFx0XHQvLyBOZXN0ZWQgY2xlYW5cblx0XHRcdHRoaXMucHJlcGFyZUNoaWxkKHNpYmxpbmcpO1xuXHRcdH1cblx0fVxuXG5cdHNvcnQoKSB7XG5cdFx0Ly8gU29ydCBpdGVtcyBieSB6LWluZGV4XG5cdFx0dGhpcy5jaGlsZHJlbi5zb3J0KChhLCBiKSA9PiB7XG5cdFx0XHRhID0gYS56SW5kZXggfHwgMDtcblx0XHRcdGIgPSBiLnpJbmRleCB8fCAwO1xuXHRcdFx0cmV0dXJuICsoYSA+IGIpIHx8IC0oYSA8IGIpO1xuXHRcdH0pO1xuXHR9XG5cblx0Ly8gVHJpZ2dlciB0aGUgZHJhdyBmdW5jdGlvblxuXHRkcmF3KCkge1xuXG5cdFx0Y29uc3QgY3R4ID0gdGhpcy5jdHg7XG5cblx0XHQvLyBGaW5kIGl0ZW1zIHRoYXQgaGF2ZSBjaGFuZ2VkXG5cdFx0Ly8gUmVtb3ZlIGJhY2tncm91bmRcblx0XHR0aGlzLmNoaWxkcmVuLmZvckVhY2goaXRlbSA9PiB7XG5cblx0XHRcdGlmIChpdGVtLmZyYW1lKSB7XG5cdFx0XHRcdGl0ZW0uZnJhbWUoY3R4KTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGl0ZW0uZGlydHkgJiYgaXRlbS52aXNpYmxlICE9PSBmYWxzZSkge1xuXHRcdFx0XHRpdGVtLmRyYXcoY3R4KTtcblx0XHRcdH1cblxuXHRcdFx0aXRlbS5kaXJ0eSA9IGZhbHNlO1xuXHRcdH0pO1xuXHR9XG5cblx0ZWxlbWVudEZyb21Qb2ludCh4LCB5KSB7XG5cblx0XHRsZXQgdGFyZ2V0O1xuXG5cdFx0Ly8gRmluZCB0aGUgY2FudmFzIGl0ZW0gd2hpY2ggdGhpcyB0YXJnZXRzP1xuXHRcdGNvbnN0IG9iaiA9IHtcblx0XHRcdHgsXG5cdFx0XHR5LFxuXHRcdFx0dzogMSxcblx0XHRcdGg6IDFcblx0XHR9O1xuXG5cdFx0dGhpcy5jaGlsZHJlbi5mb3JFYWNoKGl0ZW0gPT4ge1xuXG5cdFx0XHRpZiAoaXRlbS52aXNpYmxlID09PSBmYWxzZSB8fCAhaXRlbS53IHx8ICFpdGVtLmggfHwgaXRlbS5wb2ludGVyRXZlbnRzID09PSBmYWxzZSkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIElzIHRoaXMgYSB0YXJnZXQ/XG5cdFx0XHRpZiAoaW50ZXJzZWN0KG9iaiwgaXRlbSkpIHtcblx0XHRcdFx0Ly8gRGVmaW5lIHRoaXMgYXMgYSB0YXJnZXRcblx0XHRcdFx0dGFyZ2V0ID0gaXRlbTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdHJldHVybiB0YXJnZXQ7XG5cdH1cblxuXHQvLyBUaGUgdXNlciBoYXMgY2xpY2tlZCBhbiBpdGVtIG9uIHRoZSBwYWdlXG5cdGFkZEV2ZW50TGlzdGVuZXIoZXZlbnRuYW1lLCBoYW5kbGVyKSB7XG5cblx0XHQvLyBBZGQgdG8gdGhlIGV2ZW50cyBsaXN0XG5cdFx0aWYgKCEoZXZlbnRuYW1lIGluIHRoaXMuZXZlbnRzKSkge1xuXHRcdFx0dGhpcy5ldmVudHNbZXZlbnRuYW1lXSA9IFtdO1xuXHRcdH1cblxuXHRcdHRoaXMuZXZlbnRzW2V2ZW50bmFtZV0ucHVzaChoYW5kbGVyKTtcblx0fVxuXG5cdC8vIERpc3BhdGNoXG5cdGRpc3BhdGNoRXZlbnQoZSkge1xuXHRcdGlmIChlLnR5cGUgaW4gdGhpcy5ldmVudHMpXG5cdFx0XHR0aGlzLmV2ZW50c1tlLnR5cGVdLmZvckVhY2goaGFuZGxlciA9PiBoYW5kbGVyKGUpKTtcblx0fVxuXG5cdC8vIEZpbmQgYW5kIF9kaXNwYXRjaFxuXHRfZmluZEFuZERpc3BhdGNoKGUpIHtcblx0XHQvLyBJZiB0aGlzIGlzIG5vdCBhIHBvaW50ZXJFdmVudCBsZXRzIGp1c3QgcGFzcyBpdCB0aHJvdWdoLlxuXHRcdGlmICgodHlwZW9mIE1vdXNlRXZlbnQgIT09ICd1bmRlZmluZWQnICYmIGUgaW5zdGFuY2VvZiBNb3VzZUV2ZW50KSB8fFxuXHRcdFx0KHR5cGVvZiBUb3VjaEV2ZW50ICE9PSAndW5kZWZpbmVkJyAmJiBlIGluc3RhbmNlb2YgVG91Y2hFdmVudCkpIHtcblxuXHRcdFx0Ly8gRmluZCB0aGUgY2FudmFzIGl0ZW0gd2hpY2ggdGhpcyB0YXJnZXRzP1xuXHRcdFx0Y29uc3Qgb2JqID0ge1xuXHRcdFx0XHR4OiBlLm9mZnNldFgsXG5cdFx0XHRcdHk6IGUub2Zmc2V0WSxcblx0XHRcdFx0dzogMSxcblx0XHRcdFx0aDogMVxuXHRcdFx0fTtcblxuXHRcdFx0dGhpcy5jaGlsZHJlbi5mb3JFYWNoKGl0ZW0gPT4ge1xuXG5cdFx0XHRcdGlmICghaXRlbS52aXNpYmxlIHx8ICFpdGVtLncgfHwgIWl0ZW0uaCB8fCAhaXRlbS5wb2ludGVyRXZlbnRzKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gSW50ZXJzZWN0cz9cblx0XHRcdFx0aW50ZXJzZWN0KG9iaiwgaXRlbSkgJiYgaXRlbS5kaXNwYXRjaEV2ZW50KGUpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG59XG5cblxuLy8gSW50ZXJzZWN0XG4vLyBHaXZlbiB0d28gb2JqZWN0cyB3aXRoLCB4LHksdyxoIHByb3BlcnRpZXNcbi8vIERvIHRoZWlyIHJlY3Rhbmd1bGFyIGRpbWVuc2lvbnMgaW50ZXJzZWN0P1xuLy8gcmV0dXJuIEJvb2xlYW4gdHJ1ZSBmYWxzZS5cbmZ1bmN0aW9uIGludGVyc2VjdChhLCBiKSB7XG5cdHJldHVybiAhKGEueCA+IChiLnggKyBiLncpIHx8XG5cdChhLnggKyBhLncpIDwgYi54IHx8XG5cdGEueSA+IChiLnkgKyBiLmgpIHx8XG5cdChhLnkgKyBhLmgpIDwgYi55KTtcbn1cblxuZnVuY3Rpb24gZGlzcGxhY2VkKGEsIGIpIHtcblx0cmV0dXJuIChhLnggIT09IGIueCB8fFxuXHRhLnkgIT09IGIueSB8fFxuXHRhLncgIT09IGIudyB8fFxuXHRhLmggIT09IGIuaCk7XG59XG4iLCIvLyBTaGFwZVxuLy8gQ2FudmFzU2hhcGVzXG4vLyBUaGUgcGFyZW50IG9iamVjdCBkZWZpbmluZyBhIGJhc2ljIHNoYXBlLCB4LHksdyxoLCBmb3Igc3RhcnRlcnMuXG4vLyBBbmQgYmFzaWMgb3BlcmF0aW5ncyB5b3UgbWlnaHQgbGlrZSB0byBpbmNsdWRlIG9uIGEgc2hhcGVcbmltcG9ydCBjcmVhdGVFdmVudCBmcm9tICd0cmlja3MvZXZlbnRzL2NyZWF0ZUV2ZW50JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2hhcGUge1xuXG5cdGNvbnN0cnVjdG9yICguLi5hcmdzKSB7XG5cblx0XHQvLyBpbml0aWVhdGUgIGV2ZW50c1xuXHRcdHRoaXMuZXZlbnRzID0gW107XG5cblx0XHRpZiAoYXJncy5sZW5ndGgpIHtcblx0XHRcdC8vIFN0b3JlIHRoZSB2YWx1ZXNcblx0XHRcdHRoaXMucG9zaXRpb24oLi4uYXJncyk7XG5cdFx0fVxuXHR9XG5cbi8vXHRTZXQgcHJvcGVydHkgbGlzdGVuZXJzXG5cdGdldCB4KCkge1xuXHRcdHJldHVybiB0aGlzLl94O1xuXHR9XG5cdHNldCB4KHYpIHtcblx0XHRpZiAodGhpcy5feCAhPT0gdikge1xuXHRcdFx0dGhpcy5kaXJ0eSA9IHRydWU7IHRoaXMuX3ggPSB2O1xuXHRcdH1cblx0fVxuXG5cdGdldCB5KCkge1xuXHRcdHJldHVybiB0aGlzLl95O1xuXHR9XG5cdHNldCB5KHYpIHtcblx0XHRpZiAodGhpcy5feSAhPT0gdikge1xuXHRcdFx0dGhpcy5kaXJ0eSA9IHRydWU7IHRoaXMuX3kgPSB2O1xuXHRcdH1cblx0fVxuXG5cdGdldCB3KCkge1xuXHRcdHJldHVybiB0aGlzLl93O1xuXHR9XG5cdHNldCB3KHYpIHtcblx0XHRpZiAodGhpcy5fdyAhPT0gdikge1xuXHRcdFx0dGhpcy5kaXJ0eSA9IHRydWU7IHRoaXMuX3cgPSB2O1xuXHRcdH1cblx0fVxuXG5cdGdldCBoKCkge1xuXHRcdHJldHVybiB0aGlzLl9oO1xuXHR9XG5cdHNldCBoKHYpIHtcblx0XHRpZiAodGhpcy5faCAhPT0gdikge1xuXHRcdFx0dGhpcy5kaXJ0eSA9IHRydWU7IHRoaXMuX2ggPSB2O1xuXHRcdH1cblx0fVxuXG5cdGdldCBkeCgpIHtcblx0XHRyZXR1cm4gdGhpcy5fZHg7XG5cdH1cblx0c2V0IGR4KHYpIHtcblx0XHRpZiAodGhpcy5fZHggIT09IHYpIHtcblx0XHRcdHRoaXMuZGlydHkgPSB0cnVlOyB0aGlzLl9keCA9IHY7XG5cdFx0fVxuXHR9XG5cblx0Z2V0IGR5KCkge1xuXHRcdHJldHVybiB0aGlzLl9keTtcblx0fVxuXHRzZXQgZHkodikge1xuXHRcdGlmICh0aGlzLl9keSAhPT0gdikge1xuXHRcdFx0dGhpcy5kaXJ0eSA9IHRydWU7IHRoaXMuX2R5ID0gdjtcblx0XHR9XG5cdH1cblxuXHRnZXQgdmlzaWJsZSgpIHtcblx0XHRyZXR1cm4gKHRoaXMuX3Zpc2libGUgPT09IHVuZGVmaW5lZCA/IHRydWUgOiB0aGlzLl92aXNpYmxlKTtcblx0fVxuXHRzZXQgdmlzaWJsZSh2KSB7XG5cdFx0aWYgKHRoaXMuX3Zpc2libGUgIT09IHYpIHtcblx0XHRcdHRoaXMuZGlydHkgPSB0cnVlOyB0aGlzLl92aXNpYmxlID0gdjtcblx0XHR9XG5cdH1cblxuXHRnZXQgb3BhY2l0eSgpIHtcblx0XHRyZXR1cm4gKHRoaXMuX29wYWNpdHkgPT09IHVuZGVmaW5lZCA/IDEgOiB0aGlzLl9vcGFjaXR5KTtcblx0fVxuXHRzZXQgb3BhY2l0eSh2KSB7XG5cdFx0aWYgKHRoaXMuX29wYWNpdHkgIT09IHYpIHtcblx0XHRcdHRoaXMuZGlydHkgPSB0cnVlOyB0aGlzLl9vcGFjaXR5ID0gdjtcblx0XHR9XG5cdH1cblxuXHRzZXQgZGlydHkgKHYpIHtcblx0XHQvLyBIYXMgdGhpcyBqdXN0IGJlZW4gbWFkZSBkaXJ0eT9cblx0XHRpZiAoIXRoaXMuX2RpcnR5ICYmIHYpIHtcblx0XHRcdC8vIE1hcmsgYXMgZGlydHlcblx0XHRcdHRoaXMuX2RpcnR5ID0gdjtcblxuXHRcdFx0Ly8gVHJpZ2dlciBhIGNhbnZhcyBjbGVhblxuXHRcdFx0dGhpcy5kaXNwYXRjaEV2ZW50KGNyZWF0ZUV2ZW50KCdkaXJ0eScpKTtcblx0XHR9XG5cdFx0ZWxzZSBpZiAoIXYpIHtcblx0XHRcdC8vIHJlc2V0XG5cdFx0XHR0aGlzLl9kaXJ0eSA9IHY7XG5cdFx0fVxuXHR9XG5cdGdldCBkaXJ0eSAoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2RpcnR5O1xuXHR9XG5cblx0Ly8gTGV0IGV2ZW50cyBidWJibGUgdXBcblx0Z2V0IHBvaW50ZXJFdmVudHMgKCkge1xuXHRcdHJldHVybiAodGhpcy5fcG9pbnRlckV2ZW50cyA9PT0gdW5kZWZpbmVkID8gMSA6IHRoaXMuX3BvaW50ZXJFdmVudHMpO1xuXHR9XG5cdHNldCBwb2ludGVyRXZlbnRzICh2KSB7XG5cdFx0dGhpcy5fcG9pbnRlckV2ZW50cyA9IHY7XG5cdH1cblxuXHRwb3NpdGlvbih4ID0gMCwgeSA9IDAsIHcgPSAwLCBoID0gMCkge1xuXG5cdFx0aWYgKCF0aGlzLnBhc3QpIHtcblx0XHRcdC8vIFNldCBwYXN0IHBvaW50c1xuXHRcdFx0dGhpcy5wYXN0ID0ge307XG5cdFx0fVxuXG5cdFx0dGhpcy5wYXN0LnggPSB0aGlzLng7XG5cdFx0dGhpcy5wYXN0LnkgPSB0aGlzLnk7XG5cdFx0dGhpcy5wYXN0LncgPSB0aGlzLnc7XG5cdFx0dGhpcy5wYXN0LmggPSB0aGlzLmg7XG5cblx0XHQvLyBBc3NpZ24sIHJlY3RhbmdsZSBzaGFwZVxuXHRcdC8vIEhhdmUgYSBiYWNrdXAgZm9vdHByaW50XG5cdFx0dGhpcy54ID0geDtcblx0XHR0aGlzLnkgPSB5O1xuXHRcdHRoaXMudyA9IHc7XG5cdFx0dGhpcy5oID0gaDtcblx0fVxuXG5cdC8vIFBsYWNlaG9sZGVyIGZ1bmN0aW9uIGZvciBkcmF3aW5nIHRvIGNhbnZhc1xuXHRmcmFtZSgpIHt9XG5cdGRyYXcoKSB7fVxuXHRzZXR1cCgpIHt9XG5cblx0Ly8gRXZlbnRzXG5cdC8vIEFzc2lnbiBFdmVudHMgdG8gYmUgZmlyZWQgd2hlbiB0aGUgdXNlciBjbGlja3MgdGhpcyBvYmplY3Rcblx0Ly8gQXdlc29tZVxuXHRhZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcblx0XHRpZiAoIShldmVudE5hbWUgaW4gdGhpcy5ldmVudHMpKSB7XG5cdFx0XHR0aGlzLmV2ZW50c1tldmVudE5hbWVdID0gW107XG5cdFx0fVxuXHRcdHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0ucHVzaChjYWxsYmFjayk7XG5cdH1cblxuXHRkaXNwYXRjaEV2ZW50KGUpIHtcblx0XHRpZiAoIShlLnR5cGUgaW4gdGhpcy5ldmVudHMpKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdHRoaXMuZXZlbnRzW2UudHlwZV0uZm9yRWFjaChmbiA9PiBmbihlKSk7XG5cdH1cblxuXHQvLyBBc3NpZ24gZ2V0dGVycyBhbmQgc2V0dGVycyB0byBkZWZhdWx0IHByb3BlcnRpZXNcblx0X3dhdGNoUHJvcGVydHkocHJvcE5hbWUpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgcHJvcE5hbWUsIHtcblx0XHRcdGdldDogdGhpcy5fZ2V0dGVyLmJpbmQodGhpcywgcHJvcE5hbWUpLFxuXHRcdFx0c2V0OiB0aGlzLl9zZXR0ZXIuYmluZCh0aGlzLCBwcm9wTmFtZSlcblx0XHR9KTtcblx0fVxuXG5cdF9nZXR0ZXIocHJvcE5hbWUpIHtcblx0XHRyZXR1cm4gdGhpc1tgXyR7IHByb3BOYW1lfWBdO1xuXHR9XG5cblx0X3NldHRlcihwcm9wTmFtZSwgdikge1xuXHRcdGlmICh0aGlzW2BfJHsgcHJvcE5hbWV9YF0gIT09IHYpIHtcblx0XHRcdHRoaXMuZGlydHkgPSB0cnVlO1xuXHRcdFx0dGhpc1tgXyR7IHByb3BOYW1lfWBdID0gdjtcblx0XHR9XG5cdH1cbn1cbiIsIi8vIHRleHRcbi8vIFRleHRPYmplY3QsIGRlZmluZXMgYSBzaGFwZSBvYmplY3Qgd2hpY2ggY29udGFpbnMgdGV4dC5cblxuaW1wb3J0IFNoYXBlIGZyb20gJy4vc2hhcGUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZXh0IGV4dGVuZHMgU2hhcGUge1xuXG5cdC8vIEluaXRpYXRlIGEgbmV3IHNoYXBlIG9iamVjdC5cblx0Y29uc3RydWN0b3IgKHRleHQpIHtcblx0XHQvLyBpbml0aWF0ZSBpbmhlcml0YW5jZVxuXHRcdHN1cGVyKCk7XG5cblx0XHQvLyBXYXRjaCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXMgZm9yIGNoYW5nZXNcblx0XHRbJ3RleHQnLCAnc2hhZG93Qmx1cicsICdzaGFkb3dDb2xvcicsICdmaWxsU3R5bGUnLCAnc3Ryb2tlU3R5bGUnLCAndGV4dEFsaWduJywgJ3RleHRCYXNlbGluZScsICdsaW5lV2lkdGgnXS5mb3JFYWNoKHRoaXMuX3dhdGNoUHJvcGVydHkuYmluZCh0aGlzKSk7XG5cblx0XHQvLyBEZWZpbmUgdGV4dFxuXHRcdHRoaXMudGV4dCA9IHRleHQgfHwgJyc7XG5cblx0XHR0aGlzLnNoYWRvd0NvbG9yID0gJ2JsYWNrJztcblx0XHR0aGlzLmZpbGxTdHlsZSA9ICdibGFjayc7XG5cdFx0dGhpcy5zdHJva2VTdHlsZSA9ICd3aGl0ZSc7XG5cdFx0dGhpcy50ZXh0QWxpZ24gPSAnbGVmdCc7XG5cdFx0dGhpcy50ZXh0QmFzZWxpbmUgPSAndG9wJztcblx0XHR0aGlzLmxpbmVXaWR0aCA9IDA7XG5cdFx0dGhpcy5hbGlnbiA9ICdsZWZ0IHRvcCc7XG5cdFx0dGhpcy5mb250U2l6ZSA9IDMwO1xuXHR9XG5cblx0Ly8gRGVmaW5lIHRoZSB0ZXh0IGFuZCB0aGUgYWxpZ25tZW50IG9mIHRoZSBvYmplY3Rcblx0Y2FsYyAoY2FudmFzKSB7XG5cblx0XHQvLyBEZWZpbmUgdGV4dFxuXHRcdFt0aGlzLnRleHRBbGlnbiwgdGhpcy50ZXh0QmFzZWxpbmVdID0gdGhpcy5hbGlnbi5zcGxpdCgnICcpO1xuXG5cdFx0Y29uc3QgY3R4ID0gY2FudmFzLmN0eDtcblx0XHRsZXQgZm9udFNpemUgPSB0aGlzLmZvbnRTaXplO1xuXG5cdFx0Ly8gU3BsaXQgdGV4dCBieSBsaW5lIGJyZWFrc1xuXHRcdHRoaXMubGluZXMgPSB0aGlzLnRleHQudG9TdHJpbmcoKS5zcGxpdCgnXFxuJyk7XG5cblx0XHQvLyBXaGljaCBpcyB0aGUgbG9uZ2VzdCBsaW5lP1xuXHRcdGxldCBfd2lkdGggPSAwO1xuXHRcdGxldCBkZWZhdWx0X3RleHQgPSB0aGlzLmxpbmVzWzBdO1xuXG5cdFx0dGhpcy5saW5lcy5mb3JFYWNoKGxpbmUgPT4ge1xuXHRcdFx0Y29uc3QgX3cgPSBjdHgubWVhc3VyZVRleHQobGluZSkud2lkdGg7XG5cdFx0XHRpZiAoX3cgPiBfd2lkdGgpIHtcblx0XHRcdFx0X3dpZHRoID0gX3c7XG5cdFx0XHRcdGRlZmF1bHRfdGV4dCA9IGxpbmU7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQvLyBGaW5kIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSBpdGVtXG5cdFx0Ly8gVXNpbmcgdGhlIGNhbnZhcyBjb250ZXh0XG5cdFx0Y3R4LnNhdmUoKTtcblxuXHRcdGN0eC5zaGFkb3dDb2xvciA9ICdibGFjayc7XG5cdFx0Y3R4LmZpbGxTdHlsZSA9ICdibGFjayc7XG5cdFx0Y3R4LnN0cm9rZVN0eWxlID0gJ3JnYmEoMjU1LDI1NSwyNTUsMC41KSc7XG5cdFx0Y3R4LmZvbnQgPSBgYm9sZCAkeyBmb250U2l6ZSB9cHggQXJpYWxgO1xuXG5cdFx0d2hpbGUgKGN0eC5tZWFzdXJlVGV4dChkZWZhdWx0X3RleHQpLndpZHRoID4gY2FudmFzLndpZHRoKSB7XG5cdFx0XHRmb250U2l6ZSAqPSAwLjk7XG5cdFx0XHRmb250U2l6ZSA9IE1hdGgucm91bmQoZm9udFNpemUpO1xuXHRcdFx0Y3R4LmZvbnQgPSBgYm9sZCAkeyBmb250U2l6ZSB9cHggQXJpYWxgO1xuXHRcdH1cblxuXHRcdHRoaXMuc2hhZG93Qmx1ciA9IGN0eC5zaGFkb3dCbHVyID0gTWF0aC5yb3VuZChmb250U2l6ZSAvIDEwKTtcblx0XHR0aGlzLmZvbnRTaXplID0gZm9udFNpemU7XG5cdFx0dGhpcy5mb250ID0gY3R4LmZvbnQ7XG5cblx0XHR0aGlzLncgPSBjdHgubWVhc3VyZVRleHQoZGVmYXVsdF90ZXh0KS53aWR0aCArICh0aGlzLnNoYWRvd0JsdXIgKiAyKTtcblx0XHR0aGlzLmggPSAoZm9udFNpemUgKyAodGhpcy5zaGFkb3dCbHVyICogMikpICogdGhpcy5saW5lcy5sZW5ndGg7XG5cblx0XHRjdHgucmVzdG9yZSgpO1xuXG5cdFx0Ly8gU3RvcmUgc3R5bGUgYXR0cmlidXRlc1xuXHRcdC8vIFN0b3JlIHRoZSBuZXcgYXR0cmlidXRlcyBvZiB0aGUgdGV4dCBpdGVtXG5cdFx0dGhpcy5saW5lV2lkdGggPSBNYXRoLmZsb29yKGZvbnRTaXplIC8gNjApO1xuXG5cblx0XHQvLyBIRUlHSFQgYW5kIFdJRFRIXG5cdFx0c3dpdGNoICh0aGlzLnRleHRBbGlnbikge1xuXHRcdFx0Y2FzZSAnY2VudGVyJzpcblx0XHRcdGNhc2UgJ21pZGRsZSc6XG5cdFx0XHRcdHRoaXMudGV4dEFsaWduID0gJ2NlbnRlcic7XG5cdFx0XHRcdHRoaXMueCA9IChjYW52YXMud2lkdGggLyAyKSAtICh0aGlzLncgLyAyKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICdsZWZ0Jzpcblx0XHRcdFx0dGhpcy54ID0gMDtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICdyaWdodCc6XG5cdFx0XHRcdHRoaXMueCA9IGNhbnZhcy53aWR0aCAtIHRoaXMudztcblx0XHRcdFx0YnJlYWs7XG5cdFx0fVxuXG5cdFx0c3dpdGNoICh0aGlzLnRleHRCYXNlbGluZSkge1xuXHRcdFx0Y2FzZSAnY2VudGVyJzpcblx0XHRcdGNhc2UgJ21pZGRsZSc6XG5cdFx0XHRcdHRoaXMudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG5cdFx0XHRcdHRoaXMueSA9IChjYW52YXMuaGVpZ2h0IC8gMikgLSAodGhpcy5oIC8gMik7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAndG9wJzpcblx0XHRcdFx0dGhpcy55ID0gMDtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICdib3R0b20nOlxuXHRcdFx0XHR0aGlzLnkgPSBjYW52YXMuaGVpZ2h0IC0gdGhpcy5oO1xuXHRcdFx0XHRicmVhaztcblx0XHR9XG5cblx0XHR0aGlzLnRleHRBbGlnbiA9ICdsZWZ0Jztcblx0XHR0aGlzLnRleHRCYXNlbGluZSA9ICd0b3AnO1xuXG5cdFx0Y3R4LnJlc3RvcmUoKTtcblx0fVxuXG5cdC8vIERyYXdcblx0ZHJhdyAoY3R4KSB7XG5cblx0XHRjdHguc2F2ZSgpO1xuXG5cdFx0Y3R4Lmdsb2JhbEFscGhhID0gdGhpcy5vcGFjaXR5O1xuXG5cdFx0Y3R4LnNoYWRvd0NvbG9yID0gdGhpcy5zaGFkb3dDb2xvcjtcblx0XHRpZiAodGhpcy5zaGFkb3dCbHVyKSB7XG5cdFx0XHRjdHguc2hhZG93Qmx1ciA9IHRoaXMuc2hhZG93Qmx1cjtcblx0XHR9XG5cdFx0Y3R4LmZpbGxTdHlsZSA9IHRoaXMuZmlsbFN0eWxlO1xuXHRcdGN0eC5zdHJva2VTdHlsZSA9IHRoaXMuc3Ryb2tlU3R5bGU7XG5cdFx0Y3R4LmZvbnQgPSB0aGlzLmZvbnQ7XG5cblx0XHRjdHgudGV4dEFsaWduID0gdGhpcy50ZXh0QWxpZ247XG5cdFx0Y3R4LnRleHRCYXNlbGluZSA9IHRoaXMudGV4dEJhc2VsaW5lO1xuXHRcdGN0eC5saW5lV2lkdGggPSB0aGlzLmxpbmVXaWR0aDtcblxuXHRcdGlmICh0aGlzLmxpbmVXaWR0aCkge1xuXHRcdFx0Y3R4LmxpbmVXaWR0aCA9IHRoaXMubGluZVdpZHRoO1xuXHRcdH1cblxuXHRcdHRoaXMubGluZXMgPSB0aGlzLnRleHQudG9TdHJpbmcoKS5zcGxpdCgnXFxuJyk7XG5cblx0XHRjb25zdCBsZW4gPSB0aGlzLmxpbmVzLmxlbmd0aDtcblxuXHRcdHRoaXMubGluZXMuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcblx0XHRcdGNvbnN0IHkgPSB0aGlzLnkgKyAodGhpcy5oID8gKGluZGV4ICogKHRoaXMuaCAvIGxlbikpIDogMCk7XG5cblx0XHRcdGN0eC5maWxsVGV4dChpdGVtLCB0aGlzLngsIHkpO1xuXHRcdFx0aWYgKHRoaXMuc3Ryb2tlU3R5bGUpIHtcblx0XHRcdFx0Y3R4LnN0cm9rZVRleHQoaXRlbSwgdGhpcy54LCB5KTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdGN0eC5yZXN0b3JlKCk7XG5cdH1cbn1cbiIsIi8vIG1pbmVGaWVsZCwgQ2FudmFzIGFubmltYXRpb25cbi8vIENvcHlyaWdodCBBbmRyZXcgRG9kc29uLCBNYXJjaCAyMDEzXG5cbi8vIEdldCBDYW52YXNcbmltcG9ydCBDYW52YXMgZnJvbSAnLi9jbGFzc2VzL2NhbnZhcyc7XG5pbXBvcnQgQ29sbGVjdGlvbiBmcm9tICcuL2NsYXNzZXMvY29sbGVjdGlvbic7XG5pbXBvcnQgU2hhcGUgZnJvbSAnLi9jbGFzc2VzL3NoYXBlJztcbmltcG9ydCBUZXh0IGZyb20gJy4vY2xhc3Nlcy90ZXh0JztcblxuLy8gQ3JlYXRlIGEgbmV3IHNjcmliYmxlXG4vLyBBcmd1bWVudHMgaGFuZGxlZCBieSBwYXJlbnRcbmNsYXNzIEJydXNoIGV4dGVuZHMgU2hhcGUge1xuXG5cdGNvbnN0cnVjdG9yKC4uLmFyZ3MpIHtcblxuXHRcdHN1cGVyKC4uLmFyZ3MpO1xuXG5cdFx0Ly8gQSBjb2xsZWN0aW9uIG9mIHgsIHkgcG9pbnRzXG5cdFx0dGhpcy5wb2ludHMgPSBbXTtcblxuXHRcdHRoaXMucHVzaCguLi5hcmdzKTtcblx0fVxuXG5cdC8vIEFkZFxuXHQvLyBBZGQgYSBuZXcgcG9pbnQgdG8gdGhlIGJydXNoZXMgcGF0aFxuXHRwdXNoKHgsIHkpIHtcblxuXHRcdHRoaXMuZGlydHkgPSB0cnVlO1xuXHRcdHRoaXMucG9pbnRzLnB1c2goW3gsIHldKTtcblxuXHRcdC8vIHdpZHRoXG5cdFx0aWYgKHggPCB0aGlzLngpIHtcblx0XHRcdHRoaXMudyA9IHRoaXMudyArICh0aGlzLnggLSB4KTtcblx0XHRcdHRoaXMueCA9IHg7XG5cdFx0fVxuXHRcdGVsc2UgaWYgKHggPiAodGhpcy54ICsgdGhpcy53KSkge1xuXHRcdFx0dGhpcy53ID0geCAtIHRoaXMueDtcblx0XHR9XG5cdFx0Ly8gaGVpZ2h0XG5cdFx0aWYgKHkgPCB0aGlzLnkpIHtcblx0XHRcdHRoaXMuaCA9IHRoaXMuaCArICh0aGlzLnkgLSB5KTtcblx0XHRcdHRoaXMueSA9IHk7XG5cdFx0fVxuXHRcdGVsc2UgaWYgKHkgPiAodGhpcy55ICsgdGhpcy5oKSkge1xuXHRcdFx0dGhpcy5oID0geSAtIHRoaXMueTtcblx0XHR9XG5cdH1cblxuXHQvLyBEcmF3IHRoZSBsaW5lXG5cdGRyYXcoY3R4KSB7XG5cdFx0Ly8gTG9vcCB0aHJvdWdoIGFsbCB0aGUgcG9pbnRzIGFuZCBkcmF3IHRoZSBsaW5lXG5cdFx0Y3R4LmJlZ2luUGF0aCgpO1xuXHRcdGNvbnN0IHBvaW50ID0gdGhpcy5wb2ludHNbMF07XG5cdFx0Y3R4Lm1vdmVUbyhwb2ludFswXSwgcG9pbnRbMV0pO1xuXHRcdHRoaXMucG9pbnRzLmZvckVhY2gocG9pbnQgPT4gY3R4LmxpbmVUbyhwb2ludFswXSwgcG9pbnRbMV0pKTtcblx0XHRjdHguc3Ryb2tlKCk7XG5cdH1cbn1cblxubGV0IGJydXNoID0gbnVsbDtcblxuY29uc3QgY2FudmFzID0gbmV3IENhbnZhcygpO1xuXG5jb25zdCBjb2xsZWN0aW9uID0gbmV3IENvbGxlY3Rpb24oY2FudmFzLnRhcmdldCk7XG5cbmNvbnN0IHRleHQgPSBuZXcgVGV4dCgpO1xudGV4dC50ZXh0ID0gJ0RyYXdpbmcgUGFkJztcbnRleHQuYWxpZ24gPSAnY2VudGVyIGNlbnRlcic7XG50ZXh0LmZvbnRTaXplID0gMTUwO1xudGV4dC5maWxsU3R5bGUgPSAncmdiYSgwLDAsMCwwLjAzKSc7XG50ZXh0LnN0cm9rZVN0eWxlID0gJ3JnYmEoMjU1LDI1NSwyNTUsMC4wMyknO1xudGV4dC5jYWxjKGNhbnZhcyk7XG5cbmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdmcmFtZScsICgpID0+IHtcblx0aGlkZVRleHQoKTtcblxuXHQvLyBEcmF3XG5cdGNvbGxlY3Rpb24ucHJlcGFyZSgpO1xuXG5cdC8vIERyYXdcblx0Y29sbGVjdGlvbi5kcmF3KCk7XG59KTtcblxuZnVuY3Rpb24gaGlkZVRleHQoKSB7XG5cblx0Ly8gSGFzIHRoZSB1c2VyIHN0YXJ0ZWQ/XG5cdGlmIChicnVzaCkge1xuXHRcdGlmICh0ZXh0Lm9wYWNpdHkgPiAwLjEpIHtcblx0XHRcdHRleHQub3BhY2l0eSAqPSAwLjk7XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0dGV4dC5vcGFjaXR5ID0gMDtcblx0XHR9XG5cdH1cbn1cblxuY29sbGVjdGlvbi5wdXNoKHRleHQpO1xuXG5cbmZ1bmN0aW9uIHBvaW50U3RhcnQoZSkge1xuXG5cdGJydXNoID0gbmV3IEJydXNoKGUub2Zmc2V0WCwgZS5vZmZzZXRZKTtcblx0Y29sbGVjdGlvbi5wdXNoKGJydXNoKTtcblxufVxuXG5mdW5jdGlvbiBwb2ludEVuZCgpIHtcblx0YnJ1c2ggPSBudWxsO1xufVxuXG5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHBvaW50U3RhcnQpO1xuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgcG9pbnRFbmQpO1xuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIG1vdmUpO1xuXG5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgcG9pbnRTdGFydCk7XG5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHBvaW50RW5kKTtcbmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBtb3ZlKTtcblxuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IGNhbnZhcy5jbGVhbih0cnVlKSk7XG5cbi8vIE1vdmVcbi8vIERlcGVuZGluZyBvbiB0aGUgZXZlbnRcbmZ1bmN0aW9uIG1vdmUoZSkge1xuXHQvLyBpcyBtb3VzZWRvd24/XG5cdGlmIChicnVzaCkge1xuXHRcdGJydXNoLnB1c2goZS5vZmZzZXRYLCBlLm9mZnNldFkpO1xuXHR9XG59XG4iXX0="}