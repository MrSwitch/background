{"version":3,"sources":["dist/node_modules/browser-pack/_prelude.js","dist/node_modules/tricks/array/toArray.js","dist/node_modules/tricks/dom/each.js","dist/node_modules/tricks/dom/isDom.js","dist/node_modules/tricks/events/createDummyEvent.js","dist/node_modules/tricks/events/createEvent.js","dist/node_modules/tricks/events/on.js","dist/node_modules/tricks/object/Queue.js","dist/node_modules/tricks/object/extend.js","dist/node_modules/tricks/object/instanceOf.js","dist/node_modules/tricks/support/requestAnimationFrame.js","dist/src/classes/Background.js","dist/src/classes/canvas.js","dist/src/classes/collection.js","dist/src/classes/shape.js","dist/src/classes/text.js","dist/src/colorFlood.js"],"names":[],"mappings":"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","file":"colorFlood.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","module.exports = obj => Array.prototype.slice.call(obj);\n","const isDom = require('./isDom.js');\nconst instanceOf = require('../object/instanceOf.js');\nconst toArray = require('../array/toArray.js');\n\nmodule.exports = (matches, callback = () => {}) => {\n\n\tif (isDom(matches)) {\n\t\tmatches = [matches];\n\t}\n\telse if (typeof(matches) === 'string') {\n\t\tmatches = document.querySelectorAll(matches);\n\t}\n\n\tif (!instanceOf(matches, Array)) {\n\t\tmatches = toArray(matches);\n\t}\n\n\tif (callback) {\n\t\tmatches.forEach(callback);\n\t}\n\n\treturn matches;\n};\n","const instanceOf = require('../object/instanceOf.js');\n\nconst _HTMLElement = typeof HTMLElement !== 'undefined' ? HTMLElement : Element;\nconst _HTMLDocument = typeof HTMLDocument !== 'undefined' ? HTMLDocument : Document;\nconst _Window = window.constructor;\n\nmodule.exports = test =>\n\tinstanceOf(test, _HTMLElement) ||\n\t\tinstanceOf(test, _HTMLDocument) ||\n\t\tinstanceOf(test, _Window)\n;\n","module.exports = e => {\n\te.stopPropagation = () => {};\n\te.preventDefault = () => {};\n\treturn e;\n};\n","// IE does not support `new Event()`\n// See https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Creating_and_triggering_events for details\nconst dict = {bubbles: true, cancelable: true};\n\nlet createEvent = (eventname, options = dict) =>\n\tnew Event(eventname, options);\n\ntry {\n\tcreateEvent('test');\n}\ncatch (e) {\n\tcreateEvent = (eventname, options = dict) => {\n\t\tconst e = document.createEvent('Event');\n\t\te.initEvent(eventname, !!options.bubbles, !!options.cancelable);\n\t\treturn e;\n\t};\n}\n\nmodule.exports = createEvent;\n","// on.js\n// Listen to events, this is a wrapper for addEventListener\n\nconst each = require('../dom/each.js');\nconst SEPERATOR = /[\\s\\,]+/;\n\n// See https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md#feature-detection\nlet supportsPassive = false;\ntry {\n\tconst opts = Object.defineProperty({}, 'passive', {\n\t\tget() {\n\t\t\tsupportsPassive = true;\n\t\t}\n\t});\n\twindow.addEventListener('test', null, opts);\n}\ncatch (e) {\n\t// Continue\n}\n\n\nmodule.exports = (elements, eventnames, callback, options = false) => {\n\n\tif (typeof options === 'object' && options.passive && !supportsPassive) {\n\t\t// Override the passive mark\n\t\toptions = false;\n\t}\n\n\teventnames = eventnames.split(SEPERATOR);\n\treturn each(elements, el => eventnames.forEach(eventname => el.addEventListener(eventname, callback, options)));\n};\n","// Create a queuing function\n// Queues items in an Array like function until a handler has been defined\n// Then each item will be processed against the handler.\n// Useful for creating Global Asynchronous Queues, as can be retro fitted to existing arrays.\n\nmodule.exports = class Queue {\n\n\tconstructor (arr, handler) {\n\t\tthis.items = (Array.isArray(arr) ? arr : []);\n\t\tthis.handler = handler;\n\t}\n\n\t// Mimic the Array.push function\n\tpush (...args) {\n\n\t\t// Append items to the internal array.\n\t\targs.forEach(item => this.items.push(item));\n\n\t\t// Trigger the custom handler\n\t\tif (this._handler) {\n\t\t\targs.forEach(item => this._handler(item));\n\t\t}\n\t}\n\n\t// Mimic the length\n\tget length () {\n\t\treturn this.items.length;\n\t}\n\tset length (value) {\n\t\treturn this.items.length = value;\n\t}\n\n\t// Set the item handler\n\tget handler () {\n\t\treturn this._handler;\n\t}\n\n\tset handler (callback) {\n\n\t\tthis._handler = callback;\n\n\t\tif (this._handler) {\n\t\t\tthis.items.forEach(item => this._handler(item));\n\t\t}\n\t}\n};\n","const instanceOf = require('./instanceOf.js');\n\nmodule.exports = function extend(r, ...args) {\n\targs.forEach(o => {\n\t\tif (Array.isArray(r) && Array.isArray(o)) {\n\t\t\tArray.prototype.push.apply(r, o);\n\t\t}\n\t\telse if (instanceOf(r, Object) && instanceOf(o, Object) && r !== o) {\n\t\t\tfor (const x in o) {\n\t\t\t\tr[x] = extend(r[x], o[x]);\n\t\t\t}\n\t\t}\n\t\telse if (Array.isArray(o)) {\n\t\t\t// Clone it\n\t\t\tr = o.slice(0);\n\t\t}\n\t\telse {\n\t\t\tr = o;\n\t\t}\n\t});\n\treturn r;\n};\n","module.exports = (test, root) => root && test instanceof root;\n","// requestAnimationFrame polyfill\nwindow.requestAnimationFrame =\n\twindow.requestAnimationFrame ||\n\twindow.webkitRequestAnimationFrame ||\n\twindow.mozRequestAnimationFrame ||\n\twindow.oRequestAnimationFrame ||\n\twindow.msRequestAnimationFrame ||\n\t(callback => setTimeout(callback, 1000 / 60));\n\nmodule.exports = window.requestAnimationFrame.bind(window);\n","// Background\n// Exposes the basic properties/methods of a controllable background\n\nimport Queue from 'tricks/object/Queue';\n\n// Extract the window.background items\nconst queue = window.background = new Queue(window.background);\n\nfunction queueHandler(callback) {\n\t// Each item in the queue should be a function\n\tcallback(Background);\n}\n\nexport default class Background {\n\n\tstatic add(stage) {\n\t\t// Store the\n\t\tBackground.stages.push(stage);\n\n\t\t// Trigger ready if it has not already been set\n\t\tif (Background.stages.length === 1) {\n\t\t\t// Initiate the queue\n\t\t\tqueue.handler = queueHandler;\n\t\t}\n\t}\n\n\t// Create a new instance of a stage\n\tstatic init(target) {\n\t\t// Get the default stage which has been registered with this class\n\t\tconst stage = Background.stages[0];\n\n\t\t// Return instance\n\t\tif (stage) {\n\t\t\treturn new stage(target);\n\t\t}\n\t}\n}\n\nBackground.stages = [];\n","// Setup\n// This constructs the canvas object\n\n// Includes\nimport 'tricks/support/requestAnimationFrame';\nimport createEvent from 'tricks/events/createEvent';\nimport createDummyEvent from 'tricks/events/createDummyEvent';\nimport on from 'tricks/events/on';\n\n\n// Constants\nconst BACKGROUND_HASH = 'background';\nconst UserEvents = ['click', 'mousedown', 'mouseup', 'mouseover', 'mousemove', 'mouseout', 'frame', 'resize'];\nconst TouchEvents = ['touchmove', 'touchstart', 'touchend'];\n\nconst EVENT_SEPARATOR = /[\\s\\,]+/;\n\nexport default class Canvas {\n\n\t// Construct the Canvas Element\n\t// @param canvas should be an root element container for this imagery.\n\tconstructor(canvas) {\n\n\t\tlet parent;\n\n\t\t// events\n\t\tthis.events = {};\n\n\t\t// browser check\n\t\tif (!('getContext' in document.createElement('canvas'))) {\n\t\t\t// browser doesn't support canvas\n\t\t\treturn;\n\t\t}\n\n\t\tif (!(canvas && canvas instanceof HTMLCanvasElement)) {\n\n\t\t\t// Set the parent\n\t\t\tparent = canvas;\n\n\t\t\t// Create the canvas layer\n\t\t\tcanvas = document.createElement('canvas');\n\t\t\tcanvas.style.backgroundColor = 'white';\n\n\t\t\t// Not a parent\n\t\t\tif (!parent) {\n\t\t\t\t// Append to the body\n\t\t\t\tparent = document.body;\n\t\t\t\tcanvas.style.cssText = 'position:fixed;z-index:-1;top:0;left:0;';\n\t\t\t\tcanvas.setAttribute('tabindex', 0);\n\n\t\t\t\tdocument.documentElement.style.cssText = 'min-height:100%;';\n\t\t\t\tdocument.body.style.cssText = 'min-height:100%;';\n\n\t\t\t\t// Bind window resize events\n\t\t\t\twindow.addEventListener('resize', this.resize.bind(this));\n\t\t\t}\n\n\t\t\t// Append this element\n\t\t\tparent.insertBefore(canvas, parent.firstElementChild);\n\n\t\t\tthis.target = canvas;\n\n\t\t\tthis.resize();\n\t\t}\n\t\telse {\n\t\t\tthis.target = canvas;\n\t\t\tparent = canvas.parentNode;\n\t\t}\n\n\t\tthis.ctx = canvas.getContext('2d');\n\n\t\t// Set initial save point\n\t\tthis.ctx.save();\n\n\t\t// Initiate the time\n\t\tthis._time = 0;\n\t\tthis._fps = 0;\n\n\t\t// Initiate the draw\n\t\tthis.draw();\n\n\t\t// Bind events\n\t\ton(this.target, UserEvents.toString(), this.dispatchEvent.bind(this), {passive: true});\n\n\t\t// Format Touch events\n\t\ton(this.target, TouchEvents.toString(), this.dispatchTouchEvent.bind(this), {passive: true});\n\n\t\t// In IE user-events aren't propagated to elements which have negative z-Index's\n\t\t// Listen to events on the document element and propagate those accordingly\n\t\tif (parent === document.body && canvas.style.getPropertyValue('z-index') === '-1') {\n\t\t\t// Bind events\n\t\t\ton(document, UserEvents.toString(), this.dispatchEvent.bind(this), {passive: true});\n\n\t\t\t// Format Touch events\n\t\t\ton(document, TouchEvents.toString(), this.dispatchTouchEvent.bind(this), {passive: true});\n\t\t}\n\n\t\t// Listen to hashChange events\n\t\t{\n\t\t\t// HASH CHANGE DEPTH\n\t\t\tconst style = this.target.style;\n\t\t\tconst initialZ = style.getPropertyValue('z-index');\n\t\t\t// Listen to changes to the background hash to bring the canvas element to the front\n\t\t\twindow.addEventListener('hashchange', hashchange.bind(style, initialZ));\n\n\t\t\thashchange.call(style, initialZ);\n\t\t}\n\t}\n\n\t// ensure its keeping up.\n\tget width() {\n\t\treturn this.target.width;\n\t}\n\tset width(value) {\n\t\tthis.target.width = value;\n\t\treturn value;\n\t}\n\n\tget height() {\n\t\treturn this.target.height;\n\t}\n\tset height(value) {\n\t\tthis.target.height = value;\n\t\treturn value;\n\t}\n\tget fps() {\n\t\treturn this._fps;\n\t}\n\tset fps(value) {\n\n\t\tthis._fps = value;\n\n\t\tconst now = (new Date()).getTime();\n\n\t\tif ((now - this._time) > 1000) {\n\t\t\t// console.log('fps: %d', this._fps);\n\t\t\tthis._time = now;\n\t\t\tthis._fps = 0;\n\t\t}\n\t}\n\n\n\tresize() {\n\t\tconst parent = (this.target.parentNode === document.body) ? document.documentElement : this.target.parentNode;\n\t\tconst height = parent.clientHeight;\n\t\tconst width = parent.clientWidth;\n\t\tlet changed = false;\n\n\t\tif (this.width !== width) {\n\t\t\tchanged = true;\n\t\t\tthis.width = width;\n\t\t}\n\t\tif (this.height !== height) {\n\t\t\tchanged = true;\n\t\t\tthis.height = height;\n\t\t}\n\n\t\tif (changed) {\n\t\t\tthis.target.dispatchEvent(createEvent('resize'));\n\t\t}\n\t}\n\n\tclear() {\n\t\tthis.ctx.clearRect(0, 0, this.target.width, this.target.height);\n\t}\n\n\t// Bring the content of the canvas to the front\n\tbringToFront() {\n\n\t\t// Update the window.location with the hash #background\n\t\twindow.location.hash = BACKGROUND_HASH;\n\t}\n\n\t// Trigger the draw function\n\tdraw() {\n\n\t\t// Increment the number of frames\n\t\tthis.fps++;\n\n\t\t// Call the frame function in the context of the frame to draw\n\t\tthis.target.dispatchEvent(createEvent('frame'));\n\n\t\t// Request another frame\n\t\trequestAnimationFrame(this.draw.bind(this));\n\t}\n\n\t// The user has clicked an item on the page\n\taddEventListener(eventnames, handler) {\n\n\t\teventnames.split(EVENT_SEPARATOR).forEach(eventname => {\n\t\t\t// Add to the events list\n\t\t\tif (!(eventname in this.events)) {\n\t\t\t\tthis.events[eventname] = [];\n\t\t\t}\n\n\t\t\tthis.events[eventname].push(handler);\n\t\t});\n\t}\n\n\t// Dispatch\n\tdispatchEvent(e) {\n\n\t\tif (e.type in this.events) {\n\n\t\t\tconst target = e.currentTarget;\n\n\t\t\t// This was triggered using event delegation, aka in the background\n\t\t\tif (target === document) {\n\n\t\t\t\te = createDummyEvent({\n\t\t\t\t\ttype: e.type,\n\t\t\t\t\ttarget: this.target,\n\t\t\t\t\toffsetX: e.pageX || e.offsetX,\n\t\t\t\t\toffsetY: e.pageY || e.offsetY\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.events[e.type].forEach(handler => handler(e));\n\t\t\te.stopPropagation();\n\t\t}\n\t}\n\n\t// Dispatch\n\tdispatchTouchEvent(e) {\n\t\t// If this was a touch event\n\t\t// Determine the offset to the canvas element relative to the item being clicked\n\t\tconst touch = (e.touches || e.changedTouches)[0];\n\t\tif (touch) {\n\t\t\te.offsetX = Math.abs(touch.pageX || touch.screenX);\n\t\t\te.offsetY = Math.abs(touch.pageY || touch.screenY);\n\t\t}\n\n\t\tthis.dispatchEvent(e);\n\t}\n}\n\n\nfunction hashchange(z) {\n\n\tconst zIndex = 'z-index';\n\n\tif (window.location.hash === `#${ BACKGROUND_HASH}`) {\n\t\tz = 10000;\n\t}\n\n\tif (z !== undefined) {\n\t\t// Set the z-Index\n\t\tthis.setProperty(zIndex, z);\n\t}\n\telse {\n\t\t// Remove the z-Index\n\t\tthis.removeProperty(zIndex);\n\t}\n}\n","// Collection\n\nimport on from 'tricks/events/on';\nconst UserEvents = ['click', 'mousedown', 'mouseup', 'mouseover', 'mousemove', 'mouseout', 'touchmove', 'touchstart', 'touchend', 'frame'];\n\nexport default class Collection {\n\n\tconstructor(target) {\n\t\t// Create an empty children\n\t\tthis.children = [];\n\n\t\t// Events\n\t\tthis.events = [];\n\n\t\t// setup the canvas element\n\t\tthis.init(target);\n\t}\n\n\t// listen to canvas events\n\tinit (target) {\n\n\t\t// Define the canvas object as the target for the collection\n\t\tthis.target = target;\n\n\t\t// Define the CTX\n\t\tthis.ctx = target.getContext('2d');\n\n\t\t// listen to user interactive events and trigger those on items\n\t\ton(target, UserEvents.toString(), this._findAndDispatch.bind(this), {passive: true});\n\n\t}\n\n\tpush(item) {\n\t\titem.dirty = true;\n\n\t\t// Is this item already in the collection?\n\t\tif (this.children.indexOf(item) === -1) {\n\t\t\tif (item.setup) {\n\t\t\t\titem.setup(this);\n\t\t\t}\n\n\t\t\t// item.addEventListener('dirty', this.prepareChild.bind(this, item));\n\t\t\tthis.children.push(item);\n\t\t}\n\t}\n\n\tget length () {\n\t\treturn this.children.length;\n\t}\n\tset length (v) {\n\t\treturn this.children.length = v;\n\t}\n\n\n\t// Touch\n\t// Mark items and objects in the same space to be redrawn\n\tprepare() {\n\t\tthis.children.forEach(item => {\n\t\t\tif (item.dirty === true)\n\t\t\t\tthis.prepareChild(item);\n\t\t});\n\t}\n\n\t// Clean Item\n\tprepareChild(item) {\n\n\t\tconst ctx = this.ctx;\n\n\t\tif (item.dirty === 'pending') {\n\t\t\treturn;\n\t\t}\n\n\t\t// Mark this item as dirty\n\t\titem.dirty = 'pending';\n\n\t\t// Remove from Canvas\n\t\tctx.clearRect(item.x, item.y, item.w, item.h);\n\n\t\t// If the items old position is different\n\t\tif (item.past && displaced(item.past, item)) {\n\t\t\tctx.clearRect(item.past.x, item.past.y, item.past.w, item.past.h);\n\t\t}\n\n\t\t// Loop though objects and redraw those that exist within the position\n\t\tthis.children.forEach(this._prepareSiblings.bind(this, item));\n\t}\n\n\t_prepareSiblings(item, sibling) {\n\n\t\t// Does this Object overlap with the focused object?\n\t\tif (!sibling.dirty && sibling.visible !== false && (intersect(sibling, item) || (item.past ? intersect(sibling, item.past) : false))) {\n\t\t\t// Nested clean\n\t\t\tthis.prepareChild(sibling);\n\t\t}\n\t}\n\n\tsort() {\n\t\t// Sort items by z-index\n\t\tthis.children.sort((a, b) => {\n\t\t\ta = a.zIndex || 0;\n\t\t\tb = b.zIndex || 0;\n\t\t\treturn +(a > b) || -(a < b);\n\t\t});\n\t}\n\n\t// Trigger the draw function\n\tdraw() {\n\n\t\tconst ctx = this.ctx;\n\n\t\t// Find items that have changed\n\t\t// Remove background\n\t\tthis.children.forEach(item => {\n\n\t\t\tif (item.frame) {\n\t\t\t\titem.frame(ctx);\n\t\t\t}\n\n\t\t\tif (item.dirty && item.visible !== false) {\n\t\t\t\titem.draw(ctx);\n\t\t\t}\n\n\t\t\titem.dirty = false;\n\t\t});\n\t}\n\n\telementFromPoint(x, y) {\n\n\t\tlet target;\n\n\t\t// Find the canvas item which this targets?\n\t\tconst obj = {\n\t\t\tx,\n\t\t\ty,\n\t\t\tw: 1,\n\t\t\th: 1\n\t\t};\n\n\t\tthis.children.forEach(item => {\n\n\t\t\tif (item.visible === false || !item.w || !item.h || item.pointerEvents === false) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Is this a target?\n\t\t\tif (intersect(obj, item)) {\n\t\t\t\t// Define this as a target\n\t\t\t\ttarget = item;\n\t\t\t}\n\t\t});\n\n\t\treturn target;\n\t}\n\n\t// The user has clicked an item on the page\n\taddEventListener(eventname, handler) {\n\n\t\t// Add to the events list\n\t\tif (!(eventname in this.events)) {\n\t\t\tthis.events[eventname] = [];\n\t\t}\n\n\t\tthis.events[eventname].push(handler);\n\t}\n\n\t// Dispatch\n\tdispatchEvent(e) {\n\t\tif (e.type in this.events)\n\t\t\tthis.events[e.type].forEach(handler => handler(e));\n\t}\n\n\t// Find and _dispatch\n\t_findAndDispatch(e) {\n\t\t// If this is not a pointerEvent lets just pass it through.\n\t\tif ((typeof MouseEvent !== 'undefined' && e instanceof MouseEvent) ||\n\t\t\t(typeof TouchEvent !== 'undefined' && e instanceof TouchEvent)) {\n\n\t\t\t// Find the canvas item which this targets?\n\t\t\tconst obj = {\n\t\t\t\tx: e.offsetX,\n\t\t\t\ty: e.offsetY,\n\t\t\t\tw: 1,\n\t\t\t\th: 1\n\t\t\t};\n\n\t\t\tthis.children.forEach(item => {\n\n\t\t\t\tif (!item.visible || !item.w || !item.h || !item.pointerEvents) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Intersects?\n\t\t\t\tintersect(obj, item) && item.dispatchEvent(e);\n\t\t\t});\n\t\t}\n\t}\n}\n\n\n// Intersect\n// Given two objects with, x,y,w,h properties\n// Do their rectangular dimensions intersect?\n// return Boolean true false.\nfunction intersect(a, b) {\n\treturn !(a.x > (b.x + b.w) ||\n\t(a.x + a.w) < b.x ||\n\ta.y > (b.y + b.h) ||\n\t(a.y + a.h) < b.y);\n}\n\nfunction displaced(a, b) {\n\treturn (a.x !== b.x ||\n\ta.y !== b.y ||\n\ta.w !== b.w ||\n\ta.h !== b.h);\n}\n","// Shape\n// CanvasShapes\n// The parent object defining a basic shape, x,y,w,h, for starters.\n// And basic operatings you might like to include on a shape\nimport createEvent from 'tricks/events/createEvent';\n\nexport default class Shape {\n\n\tconstructor (...args) {\n\n\t\t// initieate  events\n\t\tthis.events = [];\n\n\t\tif (args.length) {\n\t\t\t// Store the values\n\t\t\tthis.position(...args);\n\t\t}\n\t}\n\n//\tSet property listeners\n\tget x() {\n\t\treturn this._x;\n\t}\n\tset x(v) {\n\t\tif (this._x !== v) {\n\t\t\tthis.dirty = true; this._x = v;\n\t\t}\n\t}\n\n\tget y() {\n\t\treturn this._y;\n\t}\n\tset y(v) {\n\t\tif (this._y !== v) {\n\t\t\tthis.dirty = true; this._y = v;\n\t\t}\n\t}\n\n\tget w() {\n\t\treturn this._w;\n\t}\n\tset w(v) {\n\t\tif (this._w !== v) {\n\t\t\tthis.dirty = true; this._w = v;\n\t\t}\n\t}\n\n\tget h() {\n\t\treturn this._h;\n\t}\n\tset h(v) {\n\t\tif (this._h !== v) {\n\t\t\tthis.dirty = true; this._h = v;\n\t\t}\n\t}\n\n\tget dx() {\n\t\treturn this._dx;\n\t}\n\tset dx(v) {\n\t\tif (this._dx !== v) {\n\t\t\tthis.dirty = true; this._dx = v;\n\t\t}\n\t}\n\n\tget dy() {\n\t\treturn this._dy;\n\t}\n\tset dy(v) {\n\t\tif (this._dy !== v) {\n\t\t\tthis.dirty = true; this._dy = v;\n\t\t}\n\t}\n\n\tget visible() {\n\t\treturn (this._visible === undefined ? true : this._visible);\n\t}\n\tset visible(v) {\n\t\tif (this._visible !== v) {\n\t\t\tthis.dirty = true; this._visible = v;\n\t\t}\n\t}\n\n\tget opacity() {\n\t\treturn (this._opacity === undefined ? 1 : this._opacity);\n\t}\n\tset opacity(v) {\n\t\tif (this._opacity !== v) {\n\t\t\tthis.dirty = true; this._opacity = v;\n\t\t}\n\t}\n\n\tset dirty (v) {\n\t\t// Has this just been made dirty?\n\t\tif (!this._dirty && v) {\n\t\t\t// Mark as dirty\n\t\t\tthis._dirty = v;\n\n\t\t\t// Trigger a canvas clean\n\t\t\tthis.dispatchEvent(createEvent('dirty'));\n\t\t}\n\t\telse if (!v) {\n\t\t\t// reset\n\t\t\tthis._dirty = v;\n\t\t}\n\t}\n\tget dirty () {\n\t\treturn this._dirty;\n\t}\n\n\t// Let events bubble up\n\tget pointerEvents () {\n\t\treturn (this._pointerEvents === undefined ? 1 : this._pointerEvents);\n\t}\n\tset pointerEvents (v) {\n\t\tthis._pointerEvents = v;\n\t}\n\n\tposition(x = 0, y = 0, w = 0, h = 0) {\n\n\t\tif (!this.past) {\n\t\t\t// Set past points\n\t\t\tthis.past = {};\n\t\t}\n\n\t\tthis.past.x = this.x;\n\t\tthis.past.y = this.y;\n\t\tthis.past.w = this.w;\n\t\tthis.past.h = this.h;\n\n\t\t// Assign, rectangle shape\n\t\t// Have a backup footprint\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.w = w;\n\t\tthis.h = h;\n\t}\n\n\t// Placeholder function for drawing to canvas\n\tframe() {}\n\tdraw() {}\n\tsetup() {}\n\n\t// Events\n\t// Assign Events to be fired when the user clicks this object\n\t// Awesome\n\taddEventListener(eventName, callback) {\n\t\tif (!(eventName in this.events)) {\n\t\t\tthis.events[eventName] = [];\n\t\t}\n\t\tthis.events[eventName].push(callback);\n\t}\n\n\tdispatchEvent(e) {\n\t\tif (!(e.type in this.events)) {\n\t\t\treturn;\n\t\t}\n\t\tthis.events[e.type].forEach(fn => fn(e));\n\t}\n\n\t// Assign getters and setters to default properties\n\t_watchProperty(propName) {\n\t\tObject.defineProperty(this, propName, {\n\t\t\tget: this._getter.bind(this, propName),\n\t\t\tset: this._setter.bind(this, propName)\n\t\t});\n\t}\n\n\t_getter(propName) {\n\t\treturn this[`_${ propName}`];\n\t}\n\n\t_setter(propName, v) {\n\t\tif (this[`_${ propName}`] !== v) {\n\t\t\tthis.dirty = true;\n\t\t\tthis[`_${ propName}`] = v;\n\t\t}\n\t}\n}\n","// text\n// TextObject, defines a shape object which contains text.\n\nimport Shape from './shape';\n\nexport default class Text extends Shape {\n\n\t// Initiate a new shape object.\n\tconstructor (text) {\n\t\t// initiate inheritance\n\t\tsuper();\n\n\t\t// Watch the following properties for changes\n\t\t['text', 'shadowBlur', 'shadowColor', 'fillStyle', 'strokeStyle', 'textAlign', 'textBaseline', 'lineWidth'].forEach(this._watchProperty.bind(this));\n\n\t\t// Define text\n\t\tthis.text = text || '';\n\n\t\tthis.shadowColor = 'black';\n\t\tthis.fillStyle = 'black';\n\t\tthis.strokeStyle = 'white';\n\t\tthis.textAlign = 'left';\n\t\tthis.textBaseline = 'top';\n\t\tthis.lineWidth = 0;\n\t\tthis.align = 'left top';\n\t\tthis.fontSize = 30;\n\t}\n\n\t// Define the text and the alignment of the object\n\tcalc (canvas) {\n\n\t\t// Define text\n\t\t[this.textAlign, this.textBaseline] = this.align.split(' ');\n\n\t\tconst ctx = canvas.ctx;\n\t\tlet fontSize = this.fontSize;\n\n\t\t// Split text by line breaks\n\t\tthis.lines = this.text.toString().split('\\n');\n\n\t\t// Which is the longest line?\n\t\tlet _width = 0;\n\t\tlet default_text = this.lines[0];\n\n\t\tthis.lines.forEach(line => {\n\t\t\tconst _w = ctx.measureText(line).width;\n\t\t\tif (_w > _width) {\n\t\t\t\t_width = _w;\n\t\t\t\tdefault_text = line;\n\t\t\t}\n\t\t});\n\n\t\t// Find the width and height of the item\n\t\t// Using the canvas context\n\t\tctx.save();\n\n\t\tctx.shadowColor = 'black';\n\t\tctx.fillStyle = 'black';\n\t\tctx.strokeStyle = 'rgba(255,255,255,0.5)';\n\t\tctx.font = `bold ${ fontSize }px Arial`;\n\n\t\twhile (ctx.measureText(default_text).width > canvas.width) {\n\t\t\tfontSize *= 0.9;\n\t\t\tfontSize = Math.round(fontSize);\n\t\t\tctx.font = `bold ${ fontSize }px Arial`;\n\t\t}\n\n\t\tthis.shadowBlur = ctx.shadowBlur = Math.round(fontSize / 10);\n\t\tthis.fontSize = fontSize;\n\t\tthis.font = ctx.font;\n\n\t\tthis.w = ctx.measureText(default_text).width + (this.shadowBlur * 2);\n\t\tthis.h = (fontSize + (this.shadowBlur * 2)) * this.lines.length;\n\n\t\tctx.restore();\n\n\t\t// Store style attributes\n\t\t// Store the new attributes of the text item\n\t\tthis.lineWidth = Math.floor(fontSize / 60);\n\n\n\t\t// HEIGHT and WIDTH\n\t\tswitch (this.textAlign) {\n\t\t\tcase 'center':\n\t\t\tcase 'middle':\n\t\t\t\tthis.textAlign = 'center';\n\t\t\t\tthis.x = (canvas.width / 2) - (this.w / 2);\n\t\t\t\tbreak;\n\t\t\tcase 'left':\n\t\t\t\tthis.x = 0;\n\t\t\t\tbreak;\n\t\t\tcase 'right':\n\t\t\t\tthis.x = canvas.width - this.w;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tswitch (this.textBaseline) {\n\t\t\tcase 'center':\n\t\t\tcase 'middle':\n\t\t\t\tthis.textBaseline = 'middle';\n\t\t\t\tthis.y = (canvas.height / 2) - (this.h / 2);\n\t\t\t\tbreak;\n\t\t\tcase 'top':\n\t\t\t\tthis.y = 0;\n\t\t\t\tbreak;\n\t\t\tcase 'bottom':\n\t\t\t\tthis.y = canvas.height - this.h;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tthis.textAlign = 'left';\n\t\tthis.textBaseline = 'top';\n\n\t\tctx.restore();\n\t}\n\n\t// Draw\n\tdraw (ctx) {\n\n\t\tctx.save();\n\n\t\tctx.globalAlpha = this.opacity;\n\n\t\tctx.shadowColor = this.shadowColor;\n\t\tif (this.shadowBlur) {\n\t\t\tctx.shadowBlur = this.shadowBlur;\n\t\t}\n\t\tctx.fillStyle = this.fillStyle;\n\t\tctx.strokeStyle = this.strokeStyle;\n\t\tctx.font = this.font;\n\n\t\tctx.textAlign = this.textAlign;\n\t\tctx.textBaseline = this.textBaseline;\n\t\tctx.lineWidth = this.lineWidth;\n\n\t\tif (this.lineWidth) {\n\t\t\tctx.lineWidth = this.lineWidth;\n\t\t}\n\n\t\tthis.lines = this.text.toString().split('\\n');\n\n\t\tconst len = this.lines.length;\n\n\t\tthis.lines.forEach((item, index) => {\n\t\t\tconst y = this.y + (this.h ? (index * (this.h / len)) : 0);\n\n\t\t\tctx.fillText(item, this.x, y);\n\t\t\tif (this.strokeStyle) {\n\t\t\t\tctx.strokeText(item, this.x, y);\n\t\t\t}\n\t\t});\n\n\t\tctx.restore();\n\t}\n}\n","// ColorFlood, Canvas animation\n// Copyright Andrew Dodson, March 2013.\n// Refactored in 2015\n\n// Get Canvas\nimport Canvas from './classes/canvas';\nimport Collection from './classes/collection';\nimport Text from './classes/text';\nimport Background from './classes/background';\nimport extend from 'tricks/object/extend';\n\n// Create a new tile\n// Arguments handled by parent\nclass Tile {\n\n\tconstructor(x, y, w, h) {\n\n\t\t// Parent Object\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.w = w;\n\t\tthis.h = h;\n\n\t\t// Capture the grid position\n\t\tthis.grid = new Uint8Array(2);\n\n\t\tlet index = Math.floor(Math.random() * palate.length);\n\t\tif (index === palate.length) {\n\t\t\tindex--;\n\t\t}\n\n\t\tthis.colorIndex = index;\n\t\tthis.fillStyle = palate[this.colorIndex];\n\t\tthis.flooded = false; // is this tile caught\n\t}\n\n\t// Each function passed into the collection must have a draw function\n\tdraw(ctx) {\n\t\tctx.fillStyle = this.fillStyle;\n\t\tctx.fillRect(this.x, this.y, this.w, this.h);\n\t}\n}\n\nconst palate = ['red', 'green', 'orange', 'blue', 'white', 'black'];\n\nclass Stage {\n\n\tconstructor(target) {\n\n\t\t// Initiate the canvas in the base\n\t\tthis.canvas = new Canvas(target);\n\n\t\t// Collection\n\t\t// Define the canvas start element\n\t\tthis.collection = new Collection(this.canvas.target);\n\n\t\t// Tiles\n\t\tthis.tiles = [];\n\n\t\t// Add listeners to the canvas Element\n\t\tthis.canvas.addEventListener('frame', () => {\n\n\t\t\t// On every frame\n\t\t\t// Prepare dirty areas\n\t\t\tthis.collection.prepare();\n\n\t\t\t// Draw marked items\n\t\t\tthis.collection.draw();\n\t\t});\n\n\t\t// Initiate\n\t\tinit.call(this);\n\t}\n\n\tsetup(options) {\n\n\t\t// Set the options\n\t\tthis.config(options);\n\n\t\t// Setup\n\t\tsetup.call(this);\n\t}\n\n\tconfig(options) {\n\n\t\t// Merge the current options\n\t\textend(this.options, options);\n\n\t\t// Show Controls\n\t\tshowControls.call(this);\n\t}\n}\n\n\n// Add Stage to the background\nBackground.add(Stage);\n\n\nfunction init() {\n\n// Show text\n\tthis.options = {\n\t\tcontrols: true\n\t};\n\n// Add a text Object\n// We only have one text Object on the screen at a time, lets reuse it.\n\tconst title = new Text();\n\ttitle.text = 'Flood It';\n\ttitle.fontSize = 150;\n\ttitle.align = 'center center';\n\ttitle.calc(this.canvas);\n\tthis.title = title;\n\n\tconst credits = new Text();\n\tcredits.text = 'Ended';\n\tcredits.zIndex = 1;\n\tcredits.fontSize = 150;\n\tcredits.align = 'center center';\n\tcredits.visible = false;\n\tcredits.addEventListener('mousedown', setup.bind(this));\n\tcredits.addEventListener('touchstart', setup.bind(this));\n\tthis.credits = credits;\n\n// Help\n\tconst info = new Text();\n\tinfo.text = 'Start in the top left corner\\nFlood tiles by color\\nIn as few moves as possible';\n\tinfo.zIndex = 1;\n\tinfo.align = 'center center';\n\tinfo.fontSize = 40;\n\tinfo.calc(this.canvas);\n\tthis.info = info;\n\n\n\tconst score = new Text();\n\tscore.zIndex = 1;\n\tscore.align = 'right bottom';\n\tscore.pointerEvents = false;\n\tscore.fontSize = 40;\n\tthis.score = score;\n\n// Is this playing as a background image?\n// We want to display a button to enable playing in full screen.\n\tconst playBtn = new Text();\n\tplayBtn.text = '►';\n\tplayBtn.zIndex = 1;\n\tplayBtn.align = 'left top';\n\tplayBtn.fontSize = 40;\n\tplayBtn.calc(this.canvas);\n\tplayBtn.addEventListener('click', setup.bind(this));\n\tthis.playBtn = playBtn;\n\n\n// Rebuild the board on resize\n\tthis.canvas.addEventListener('resize', setup.bind(this));\n\n// User has clicked an item on the canvas\n// We'll use event delegation to tell us what the user has clicked.\n\tthis.canvas.addEventListener('click', userClick.bind(this));\n\n}\n\nfunction userClick(e) {\n\n\t// Get the item at the click location\n\tconst target = this.collection.elementFromPoint(e.offsetX, e.offsetY);\n\n\t// Tile Clicked\n\tif (target && target instanceof Tile) {\n\t\tplay.call(this, target);\n\t}\n\telse {\n\t\treturn;\n\t}\n\n\t// Has the game state changed?\n\tif (this.flooded >= this.tiles.length && this.clicks < this.max_tries) {\n\t\tthis.credits.text = `Kudos! ${this.clicks + 1} moves`;\n\t\tthis.credits.calc(this.canvas);\n\t\tthis.ended = true;\n\t}\n\telse if (++this.clicks >= this.max_tries) {\n\t\tthis.credits.text = 'Game over!';\n\t\tthis.credits.calc(this.canvas);\n\n\t\tthis.ended = true;\n\t}\n\telse {\n\t\tthis.ended = false;\n\t}\n\n\t// Calculate clicks\n\tthis.score.text = `${this.clicks}/${this.max_tries}`;\n\tthis.score.calc(this.canvas);\n\n\tshowControls.call(this);\n}\n\nfunction setup() {\n\t// Remove everything\n\tthis.collection.length = 0;\n\tthis.tiles.length = 0;\n\n\tthis.clicks = 0;\n\tthis.selectedColor = null;\n\tthis.flooded = 1;\n\tthis.ended = false;\n\n\t// Define type size\n\t// set tile default Width and height\n\tlet w = 50;\n\tlet h = 50;\n\n\t// set number of tiles horizontally and vertically\n\tthis.nx = Math.floor(this.canvas.width / w);\n\tthis.ny = Math.floor(this.canvas.height / h);\n\n\tthis.max_tries = this.nx + this.ny;\n\n\t// Do the tiles not perfectly fit the space?\n\t// split the difference between the tiles, adding to the widths and heights\n\tw += Math.floor((this.canvas.width % (this.nx * w)) / this.nx);\n\th += Math.floor((this.canvas.height % (this.ny * h)) / this.ny);\n\n\t// Create tiles\n\tfor (let y = 0; y < this.ny; y++) {\n\t\tfor (let x = 0; x < this.nx; x++) {\n\n\t\t\tconst tile = new Tile(x * w, y * h, w - 1, h - 1);\n\t\t\tthis.tiles.push(tile);\n\t\t\tthis.collection.push(tile);\n\t\t\ttile.grid = [x, y];\n\t\t}\n\t}\n\n\t// Write message\n\tthis.info.y = this.title.y + this.title.h;\n\n\t// Add text items\n\tthis.collection.push(this.title);\n\tthis.collection.push(this.info);\n\tthis.collection.push(this.credits);\n\tthis.collection.push(this.playBtn);\n\tthis.collection.push(this.score);\n\n\t// Starting state\n\t// Select the first tile, (top left corner)\n\t// Mark as flooded\n\tthis.tiles[0].flooded = true;\n\n\t// Flood its neighbouring tiles on start\n\tplay.call(this, this.tiles[0]);\n\n\t// Sort the collection by z-index this ensures everything is drawn in the right order\n\tthis.collection.sort();\n\n\t// Show Controls\n\tshowControls.call(this);\n}\n\n\nfunction play(tileSelected) {\n\n\tif (!tileSelected) {\n\t\treturn;\n\t}\n\n\tthis.selectedColor = tileSelected.colorIndex;\n\n\t// Trigger Flooding\n\tthis.tiles.forEach(tile => {\n\t\tif (tile.flooded) {\n\t\t\tflood.call(this, tile);\n\t\t}\n\t});\n}\n\n// Flood this tile with the new colour and its neighbours with the same colour\nfunction flood(tile) {\n\n\tconst [x, y] = tile.grid;\n\n\ttile.colorIndex = this.selectedColor;\n\ttile.fillStyle = palate[this.selectedColor];\n\n\t// Mark this as needing to be redrawn\n\ttile.dirty = true;\n\n\t// find all tiles next to this one.\n\tconst edgeTiles = [\n\t\t(Math.max(y - 1, 0) * this.nx) + x,\n\t\t(y * this.nx) + Math.min(x + 1, this.nx - 1),\n\t\t((Math.min(y + 1, this.ny - 1)) * this.nx) + x,\n\t\t(y * this.nx) + Math.max(x - 1, 0)\n\t];\n\n\tedgeTiles.forEach(edge => {\n\t\tconst tile = this.tiles[edge];\n\t\tif (edge > 0 && tile) {\n\t\t\tif (tile.colorIndex === this.selectedColor && !tile.flooded) {\n\t\t\t\ttile.flooded = true;\n\t\t\t\tflood.call(this, tile);\n\t\t\t\tthis.flooded++;\n\t\t\t}\n\t\t}\n\t});\n}\n\nfunction showControls() {\n\t// Show Controls and information?\n\tconst showControls = this.options.controls;\n\n\tthis.title.visible = this.clicks === 0 && !this.ended && showControls;\n\tthis.info.visible = this.clicks === 0 && !this.ended && showControls;\n\tthis.score.visible = this.clicks > 0 && showControls;\n\tthis.credits.visible = this.ended && showControls;\n\tthis.playBtn.visible = showControls;\n}\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvdHJpY2tzL2FycmF5L3RvQXJyYXkuanMiLCJub2RlX21vZHVsZXMvdHJpY2tzL2RvbS9lYWNoLmpzIiwibm9kZV9tb2R1bGVzL3RyaWNrcy9kb20vaXNEb20uanMiLCJub2RlX21vZHVsZXMvdHJpY2tzL2V2ZW50cy9jcmVhdGVEdW1teUV2ZW50LmpzIiwibm9kZV9tb2R1bGVzL3RyaWNrcy9ldmVudHMvY3JlYXRlRXZlbnQuanMiLCJub2RlX21vZHVsZXMvdHJpY2tzL2V2ZW50cy9vbi5qcyIsIm5vZGVfbW9kdWxlcy90cmlja3Mvb2JqZWN0L1F1ZXVlLmpzIiwibm9kZV9tb2R1bGVzL3RyaWNrcy9vYmplY3QvZXh0ZW5kLmpzIiwibm9kZV9tb2R1bGVzL3RyaWNrcy9vYmplY3QvaW5zdGFuY2VPZi5qcyIsIm5vZGVfbW9kdWxlcy90cmlja3Mvc3VwcG9ydC9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUuanMiLCJzcmMvY2xhc3Nlcy9CYWNrZ3JvdW5kLmpzIiwic3JjL2NsYXNzZXMvY2FudmFzLmpzIiwic3JjL2NsYXNzZXMvY29sbGVjdGlvbi5qcyIsInNyYy9jbGFzc2VzL3NoYXBlLmpzIiwic3JjL2NsYXNzZXMvdGV4dC5qcyIsInNyYy9jb2xvckZsb29kLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQSxPQUFPLE9BQVAsR0FBaUI7QUFBQSxTQUFPLE1BQU0sU0FBTixDQUFnQixLQUFoQixDQUFzQixJQUF0QixDQUEyQixHQUEzQixDQUFQO0FBQUEsQ0FBakI7Ozs7O0FDQUEsSUFBTSxRQUFRLFFBQVEsWUFBUixDQUFkO0FBQ0EsSUFBTSxhQUFhLFFBQVEseUJBQVIsQ0FBbkI7QUFDQSxJQUFNLFVBQVUsUUFBUSxxQkFBUixDQUFoQjs7QUFFQSxPQUFPLE9BQVAsR0FBaUIsVUFBQyxPQUFELEVBQWtDO0FBQUEsS0FBeEIsUUFBd0IsdUVB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IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwibW9kdWxlLmV4cG9ydHMgPSBvYmogPT4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwob2JqKTtcbiIsImNvbnN0IGlzRG9tID0gcmVxdWlyZSgnLi9pc0RvbS5qcycpO1xuY29uc3QgaW5zdGFuY2VPZiA9IHJlcXVpcmUoJy4uL29iamVjdC9pbnN0YW5jZU9mLmpzJyk7XG5jb25zdCB0b0FycmF5ID0gcmVxdWlyZSgnLi4vYXJyYXkvdG9BcnJheS5qcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChtYXRjaGVzLCBjYWxsYmFjayA9ICgpID0+IHt9KSA9PiB7XG5cblx0aWYgKGlzRG9tKG1hdGNoZXMpKSB7XG5cdFx0bWF0Y2hlcyA9IFttYXRjaGVzXTtcblx0fVxuXHRlbHNlIGlmICh0eXBlb2YobWF0Y2hlcykgPT09ICdzdHJpbmcnKSB7XG5cdFx0bWF0Y2hlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwobWF0Y2hlcyk7XG5cdH1cblxuXHRpZiAoIWluc3RhbmNlT2YobWF0Y2hlcywgQXJyYXkpKSB7XG5cdFx0bWF0Y2hlcyA9IHRvQXJyYXkobWF0Y2hlcyk7XG5cdH1cblxuXHRpZiAoY2FsbGJhY2spIHtcblx0XHRtYXRjaGVzLmZvckVhY2goY2FsbGJhY2spO1xuXHR9XG5cblx0cmV0dXJuIG1hdGNoZXM7XG59O1xuIiwiY29uc3QgaW5zdGFuY2VPZiA9IHJlcXVpcmUoJy4uL29iamVjdC9pbnN0YW5jZU9mLmpzJyk7XG5cbmNvbnN0IF9IVE1MRWxlbWVudCA9IHR5cGVvZiBIVE1MRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcgPyBIVE1MRWxlbWVudCA6IEVsZW1lbnQ7XG5jb25zdCBfSFRNTERvY3VtZW50ID0gdHlwZW9mIEhUTUxEb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgPyBIVE1MRG9jdW1lbnQgOiBEb2N1bWVudDtcbmNvbnN0IF9XaW5kb3cgPSB3aW5kb3cuY29uc3RydWN0b3I7XG5cbm1vZHVsZS5leHBvcnRzID0gdGVzdCA9PlxuXHRpbnN0YW5jZU9mKHRlc3QsIF9IVE1MRWxlbWVudCkgfHxcblx0XHRpbnN0YW5jZU9mKHRlc3QsIF9IVE1MRG9jdW1lbnQpIHx8XG5cdFx0aW5zdGFuY2VPZih0ZXN0LCBfV2luZG93KVxuO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBlID0+IHtcblx0ZS5zdG9wUHJvcGFnYXRpb24gPSAoKSA9PiB7fTtcblx0ZS5wcmV2ZW50RGVmYXVsdCA9ICgpID0+IHt9O1xuXHRyZXR1cm4gZTtcbn07XG4iLCIvLyBJRSBkb2VzIG5vdCBzdXBwb3J0IGBuZXcgRXZlbnQoKWBcbi8vIFNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9HdWlkZS9FdmVudHMvQ3JlYXRpbmdfYW5kX3RyaWdnZXJpbmdfZXZlbnRzIGZvciBkZXRhaWxzXG5jb25zdCBkaWN0ID0ge2J1YmJsZXM6IHRydWUsIGNhbmNlbGFibGU6IHRydWV9O1xuXG5sZXQgY3JlYXRlRXZlbnQgPSAoZXZlbnRuYW1lLCBvcHRpb25zID0gZGljdCkgPT5cblx0bmV3IEV2ZW50KGV2ZW50bmFtZSwgb3B0aW9ucyk7XG5cbnRyeSB7XG5cdGNyZWF0ZUV2ZW50KCd0ZXN0Jyk7XG59XG5jYXRjaCAoZSkge1xuXHRjcmVhdGVFdmVudCA9IChldmVudG5hbWUsIG9wdGlvbnMgPSBkaWN0KSA9PiB7XG5cdFx0Y29uc3QgZSA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuXHRcdGUuaW5pdEV2ZW50KGV2ZW50bmFtZSwgISFvcHRpb25zLmJ1YmJsZXMsICEhb3B0aW9ucy5jYW5jZWxhYmxlKTtcblx0XHRyZXR1cm4gZTtcblx0fTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVFdmVudDtcbiIsIi8vIG9uLmpzXG4vLyBMaXN0ZW4gdG8gZXZlbnRzLCB0aGlzIGlzIGEgd3JhcHBlciBmb3IgYWRkRXZlbnRMaXN0ZW5lclxuXG5jb25zdCBlYWNoID0gcmVxdWlyZSgnLi4vZG9tL2VhY2guanMnKTtcbmNvbnN0IFNFUEVSQVRPUiA9IC9bXFxzXFwsXSsvO1xuXG4vLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL1dJQ0cvRXZlbnRMaXN0ZW5lck9wdGlvbnMvYmxvYi9naC1wYWdlcy9leHBsYWluZXIubWQjZmVhdHVyZS1kZXRlY3Rpb25cbmxldCBzdXBwb3J0c1Bhc3NpdmUgPSBmYWxzZTtcbnRyeSB7XG5cdGNvbnN0IG9wdHMgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdwYXNzaXZlJywge1xuXHRcdGdldCgpIHtcblx0XHRcdHN1cHBvcnRzUGFzc2l2ZSA9IHRydWU7XG5cdFx0fVxuXHR9KTtcblx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Rlc3QnLCBudWxsLCBvcHRzKTtcbn1cbmNhdGNoIChlKSB7XG5cdC8vIENvbnRpbnVlXG59XG5cblxubW9kdWxlLmV4cG9ydHMgPSAoZWxlbWVudHMsIGV2ZW50bmFtZXMsIGNhbGxiYWNrLCBvcHRpb25zID0gZmFsc2UpID0+IHtcblxuXHRpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdvYmplY3QnICYmIG9wdGlvbnMucGFzc2l2ZSAmJiAhc3VwcG9ydHNQYXNzaXZlKSB7XG5cdFx0Ly8gT3ZlcnJpZGUgdGhlIHBhc3NpdmUgbWFya1xuXHRcdG9wdGlvbnMgPSBmYWxzZTtcblx0fVxuXG5cdGV2ZW50bmFtZXMgPSBldmVudG5hbWVzLnNwbGl0KFNFUEVSQVRPUik7XG5cdHJldHVybiBlYWNoKGVsZW1lbnRzLCBlbCA9PiBldmVudG5hbWVzLmZvckVhY2goZXZlbnRuYW1lID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRuYW1lLCBjYWxsYmFjaywgb3B0aW9ucykpKTtcbn07XG4iLCIvLyBDcmVhdGUgYSBxdWV1aW5nIGZ1bmN0aW9uXG4vLyBRdWV1ZXMgaXRlbXMgaW4gYW4gQXJyYXkgbGlrZSBmdW5jdGlvbiB1bnRpbCBhIGhhbmRsZXIgaGFzIGJlZW4gZGVmaW5lZFxuLy8gVGhlbiBlYWNoIGl0ZW0gd2lsbCBiZSBwcm9jZXNzZWQgYWdhaW5zdCB0aGUgaGFuZGxlci5cbi8vIFVzZWZ1bCBmb3IgY3JlYXRpbmcgR2xvYmFsIEFzeW5jaHJvbm91cyBRdWV1ZXMsIGFzIGNhbiBiZSByZXRybyBmaXR0ZWQgdG8gZXhpc3RpbmcgYXJyYXlzLlxuXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIFF1ZXVlIHtcblxuXHRjb25zdHJ1Y3RvciAoYXJyLCBoYW5kbGVyKSB7XG5cdFx0dGhpcy5pdGVtcyA9IChBcnJheS5pc0FycmF5KGFycikgPyBhcnIgOiBbXSk7XG5cdFx0dGhpcy5oYW5kbGVyID0gaGFuZGxlcjtcblx0fVxuXG5cdC8vIE1pbWljIHRoZSBBcnJheS5wdXNoIGZ1bmN0aW9uXG5cdHB1c2ggKC4uLmFyZ3MpIHtcblxuXHRcdC8vIEFwcGVuZCBpdGVtcyB0byB0aGUgaW50ZXJuYWwgYXJyYXkuXG5cdFx0YXJncy5mb3JFYWNoKGl0ZW0gPT4gdGhpcy5pdGVtcy5wdXNoKGl0ZW0pKTtcblxuXHRcdC8vIFRyaWdnZXIgdGhlIGN1c3RvbSBoYW5kbGVyXG5cdFx0aWYgKHRoaXMuX2hhbmRsZXIpIHtcblx0XHRcdGFyZ3MuZm9yRWFjaChpdGVtID0+IHRoaXMuX2hhbmRsZXIoaXRlbSkpO1xuXHRcdH1cblx0fVxuXG5cdC8vIE1pbWljIHRoZSBsZW5ndGhcblx0Z2V0IGxlbmd0aCAoKSB7XG5cdFx0cmV0dXJuIHRoaXMuaXRlbXMubGVuZ3RoO1xuXHR9XG5cdHNldCBsZW5ndGggKHZhbHVlKSB7XG5cdFx0cmV0dXJuIHRoaXMuaXRlbXMubGVuZ3RoID0gdmFsdWU7XG5cdH1cblxuXHQvLyBTZXQgdGhlIGl0ZW0gaGFuZGxlclxuXHRnZXQgaGFuZGxlciAoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2hhbmRsZXI7XG5cdH1cblxuXHRzZXQgaGFuZGxlciAoY2FsbGJhY2spIHtcblxuXHRcdHRoaXMuX2hhbmRsZXIgPSBjYWxsYmFjaztcblxuXHRcdGlmICh0aGlzLl9oYW5kbGVyKSB7XG5cdFx0XHR0aGlzLml0ZW1zLmZvckVhY2goaXRlbSA9PiB0aGlzLl9oYW5kbGVyKGl0ZW0pKTtcblx0XHR9XG5cdH1cbn07XG4iLCJjb25zdCBpbnN0YW5jZU9mID0gcmVxdWlyZSgnLi9pbnN0YW5jZU9mLmpzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZXh0ZW5kKHIsIC4uLmFyZ3MpIHtcblx0YXJncy5mb3JFYWNoKG8gPT4ge1xuXHRcdGlmIChBcnJheS5pc0FycmF5KHIpICYmIEFycmF5LmlzQXJyYXkobykpIHtcblx0XHRcdEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHIsIG8pO1xuXHRcdH1cblx0XHRlbHNlIGlmIChpbnN0YW5jZU9mKHIsIE9iamVjdCkgJiYgaW5zdGFuY2VPZihvLCBPYmplY3QpICYmIHIgIT09IG8pIHtcblx0XHRcdGZvciAoY29uc3QgeCBpbiBvKSB7XG5cdFx0XHRcdHJbeF0gPSBleHRlbmQoclt4XSwgb1t4XSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGVsc2UgaWYgKEFycmF5LmlzQXJyYXkobykpIHtcblx0XHRcdC8vIENsb25lIGl0XG5cdFx0XHRyID0gby5zbGljZSgwKTtcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHRyID0gbztcblx0XHR9XG5cdH0pO1xuXHRyZXR1cm4gcjtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9ICh0ZXN0LCByb290KSA9PiByb290ICYmIHRlc3QgaW5zdGFuY2VvZiByb290O1xuIiwiLy8gcmVxdWVzdEFuaW1hdGlvbkZyYW1lIHBvbHlmaWxsXG53aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID1cblx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuXHR3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG5cdHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcblx0d2luZG93Lm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcblx0d2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG5cdChjYWxsYmFjayA9PiBzZXRUaW1lb3V0KGNhbGxiYWNrLCAxMDAwIC8gNjApKTtcblxubW9kdWxlLmV4cG9ydHMgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lLmJpbmQod2luZG93KTtcbiIsIi8vIEJhY2tncm91bmRcbi8vIEV4cG9zZXMgdGhlIGJhc2ljIHByb3BlcnRpZXMvbWV0aG9kcyBvZiBhIGNvbnRyb2xsYWJsZSBiYWNrZ3JvdW5kXG5cbmltcG9ydCBRdWV1ZSBmcm9tICd0cmlja3Mvb2JqZWN0L1F1ZXVlJztcblxuLy8gRXh0cmFjdCB0aGUgd2luZG93LmJhY2tncm91bmQgaXRlbXNcbmNvbnN0IHF1ZXVlID0gd2luZG93LmJhY2tncm91bmQgPSBuZXcgUXVldWUod2luZG93LmJhY2tncm91bmQpO1xuXG5mdW5jdGlvbiBxdWV1ZUhhbmRsZXIoY2FsbGJhY2spIHtcblx0Ly8gRWFjaCBpdGVtIGluIHRoZSBxdWV1ZSBzaG91bGQgYmUgYSBmdW5jdGlvblxuXHRjYWxsYmFjayhCYWNrZ3JvdW5kKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFja2dyb3VuZCB7XG5cblx0c3RhdGljIGFkZChzdGFnZSkge1xuXHRcdC8vIFN0b3JlIHRoZVxuXHRcdEJhY2tncm91bmQuc3RhZ2VzLnB1c2goc3RhZ2UpO1xuXG5cdFx0Ly8gVHJpZ2dlciByZWFkeSBpZiBpdCBoYXMgbm90IGFscmVhZHkgYmVlbiBzZXRcblx0XHRpZiAoQmFja2dyb3VuZC5zdGFnZXMubGVuZ3RoID09PSAxKSB7XG5cdFx0XHQvLyBJbml0aWF0ZSB0aGUgcXVldWVcblx0XHRcdHF1ZXVlLmhhbmRsZXIgPSBxdWV1ZUhhbmRsZXI7XG5cdFx0fVxuXHR9XG5cblx0Ly8gQ3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIGEgc3RhZ2Vcblx0c3RhdGljIGluaXQodGFyZ2V0KSB7XG5cdFx0Ly8gR2V0IHRoZSBkZWZhdWx0IHN0YWdlIHdoaWNoIGhhcyBiZWVuIHJlZ2lzdGVyZWQgd2l0aCB0aGlzIGNsYXNzXG5cdFx0Y29uc3Qgc3RhZ2UgPSBCYWNrZ3JvdW5kLnN0YWdlc1swXTtcblxuXHRcdC8vIFJldHVybiBpbnN0YW5jZVxuXHRcdGlmIChzdGFnZSkge1xuXHRcdFx0cmV0dXJuIG5ldyBzdGFnZSh0YXJnZXQpO1xuXHRcdH1cblx0fVxufVxuXG5CYWNrZ3JvdW5kLnN0YWdlcyA9IFtdO1xuIiwiLy8gU2V0dXBcbi8vIFRoaXMgY29uc3RydWN0cyB0aGUgY2FudmFzIG9iamVjdFxuXG4vLyBJbmNsdWRlc1xuaW1wb3J0ICd0cmlja3Mvc3VwcG9ydC9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUnO1xuaW1wb3J0IGNyZWF0ZUV2ZW50IGZyb20gJ3RyaWNrcy9ldmVudHMvY3JlYXRlRXZlbnQnO1xuaW1wb3J0IGNyZWF0ZUR1bW15RXZlbnQgZnJvbSAndHJpY2tzL2V2ZW50cy9jcmVhdGVEdW1teUV2ZW50JztcbmltcG9ydCBvbiBmcm9tICd0cmlja3MvZXZlbnRzL29uJztcblxuXG4vLyBDb25zdGFudHNcbmNvbnN0IEJBQ0tHUk9VTkRfSEFTSCA9ICdiYWNrZ3JvdW5kJztcbmNvbnN0IFVzZXJFdmVudHMgPSBbJ2NsaWNrJywgJ21vdXNlZG93bicsICdtb3VzZXVwJywgJ21vdXNlb3ZlcicsICdtb3VzZW1vdmUnLCAnbW91c2VvdXQnLCAnZnJhbWUnLCAncmVzaXplJ107XG5jb25zdCBUb3VjaEV2ZW50cyA9IFsndG91Y2htb3ZlJywgJ3RvdWNoc3RhcnQnLCAndG91Y2hlbmQnXTtcblxuY29uc3QgRVZFTlRfU0VQQVJBVE9SID0gL1tcXHNcXCxdKy87XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbnZhcyB7XG5cblx0Ly8gQ29uc3RydWN0IHRoZSBDYW52YXMgRWxlbWVudFxuXHQvLyBAcGFyYW0gY2FudmFzIHNob3VsZCBiZSBhbiByb290IGVsZW1lbnQgY29udGFpbmVyIGZvciB0aGlzIGltYWdlcnkuXG5cdGNvbnN0cnVjdG9yKGNhbnZhcykge1xuXG5cdFx0bGV0IHBhcmVudDtcblxuXHRcdC8vIGV2ZW50c1xuXHRcdHRoaXMuZXZlbnRzID0ge307XG5cblx0XHQvLyBicm93c2VyIGNoZWNrXG5cdFx0aWYgKCEoJ2dldENvbnRleHQnIGluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpKSkge1xuXHRcdFx0Ly8gYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgY2FudmFzXG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCEoY2FudmFzICYmIGNhbnZhcyBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50KSkge1xuXG5cdFx0XHQvLyBTZXQgdGhlIHBhcmVudFxuXHRcdFx0cGFyZW50ID0gY2FudmFzO1xuXG5cdFx0XHQvLyBDcmVhdGUgdGhlIGNhbnZhcyBsYXllclxuXHRcdFx0Y2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cdFx0XHRjYW52YXMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3doaXRlJztcblxuXHRcdFx0Ly8gTm90IGEgcGFyZW50XG5cdFx0XHRpZiAoIXBhcmVudCkge1xuXHRcdFx0XHQvLyBBcHBlbmQgdG8gdGhlIGJvZHlcblx0XHRcdFx0cGFyZW50ID0gZG9jdW1lbnQuYm9keTtcblx0XHRcdFx0Y2FudmFzLnN0eWxlLmNzc1RleHQgPSAncG9zaXRpb246Zml4ZWQ7ei1pbmRleDotMTt0b3A6MDtsZWZ0OjA7Jztcblx0XHRcdFx0Y2FudmFzLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAwKTtcblxuXHRcdFx0XHRkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuY3NzVGV4dCA9ICdtaW4taGVpZ2h0OjEwMCU7Jztcblx0XHRcdFx0ZG9jdW1lbnQuYm9keS5zdHlsZS5jc3NUZXh0ID0gJ21pbi1oZWlnaHQ6MTAwJTsnO1xuXG5cdFx0XHRcdC8vIEJpbmQgd2luZG93IHJlc2l6ZSBldmVudHNcblx0XHRcdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVzaXplLmJpbmQodGhpcykpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBcHBlbmQgdGhpcyBlbGVtZW50XG5cdFx0XHRwYXJlbnQuaW5zZXJ0QmVmb3JlKGNhbnZhcywgcGFyZW50LmZpcnN0RWxlbWVudENoaWxkKTtcblxuXHRcdFx0dGhpcy50YXJnZXQgPSBjYW52YXM7XG5cblx0XHRcdHRoaXMucmVzaXplKCk7XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0dGhpcy50YXJnZXQgPSBjYW52YXM7XG5cdFx0XHRwYXJlbnQgPSBjYW52YXMucGFyZW50Tm9kZTtcblx0XHR9XG5cblx0XHR0aGlzLmN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG5cdFx0Ly8gU2V0IGluaXRpYWwgc2F2ZSBwb2ludFxuXHRcdHRoaXMuY3R4LnNhdmUoKTtcblxuXHRcdC8vIEluaXRpYXRlIHRoZSB0aW1lXG5cdFx0dGhpcy5fdGltZSA9IDA7XG5cdFx0dGhpcy5fZnBzID0gMDtcblxuXHRcdC8vIEluaXRpYXRlIHRoZSBkcmF3XG5cdFx0dGhpcy5kcmF3KCk7XG5cblx0XHQvLyBCaW5kIGV2ZW50c1xuXHRcdG9uKHRoaXMudGFyZ2V0LCBVc2VyRXZlbnRzLnRvU3RyaW5nKCksIHRoaXMuZGlzcGF0Y2hFdmVudC5iaW5kKHRoaXMpLCB7cGFzc2l2ZTogdHJ1ZX0pO1xuXG5cdFx0Ly8gRm9ybWF0IFRvdWNoIGV2ZW50c1xuXHRcdG9uKHRoaXMudGFyZ2V0LCBUb3VjaEV2ZW50cy50b1N0cmluZygpLCB0aGlzLmRpc3BhdGNoVG91Y2hFdmVudC5iaW5kKHRoaXMpLCB7cGFzc2l2ZTogdHJ1ZX0pO1xuXG5cdFx0Ly8gSW4gSUUgdXNlci1ldmVudHMgYXJlbid0IHByb3BhZ2F0ZWQgdG8gZWxlbWVudHMgd2hpY2ggaGF2ZSBuZWdhdGl2ZSB6LUluZGV4J3Ncblx0XHQvLyBMaXN0ZW4gdG8gZXZlbnRzIG9uIHRoZSBkb2N1bWVudCBlbGVtZW50IGFuZCBwcm9wYWdhdGUgdGhvc2UgYWNjb3JkaW5nbHlcblx0XHRpZiAocGFyZW50ID09PSBkb2N1bWVudC5ib2R5ICYmIGNhbnZhcy5zdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCd6LWluZGV4JykgPT09ICctMScpIHtcblx0XHRcdC8vIEJpbmQgZXZlbnRzXG5cdFx0XHRvbihkb2N1bWVudCwgVXNlckV2ZW50cy50b1N0cmluZygpLCB0aGlzLmRpc3BhdGNoRXZlbnQuYmluZCh0aGlzKSwge3Bhc3NpdmU6IHRydWV9KTtcblxuXHRcdFx0Ly8gRm9ybWF0IFRvdWNoIGV2ZW50c1xuXHRcdFx0b24oZG9jdW1lbnQsIFRvdWNoRXZlbnRzLnRvU3RyaW5nKCksIHRoaXMuZGlzcGF0Y2hUb3VjaEV2ZW50LmJpbmQodGhpcyksIHtwYXNzaXZlOiB0cnVlfSk7XG5cdFx0fVxuXG5cdFx0Ly8gTGlzdGVuIHRvIGhhc2hDaGFuZ2UgZXZlbnRzXG5cdFx0e1xuXHRcdFx0Ly8gSEFTSCBDSEFOR0UgREVQVEhcblx0XHRcdGNvbnN0IHN0eWxlID0gdGhpcy50YXJnZXQuc3R5bGU7XG5cdFx0XHRjb25zdCBpbml0aWFsWiA9IHN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ3otaW5kZXgnKTtcblx0XHRcdC8vIExpc3RlbiB0byBjaGFuZ2VzIHRvIHRoZSBiYWNrZ3JvdW5kIGhhc2ggdG8gYnJpbmcgdGhlIGNhbnZhcyBlbGVtZW50IHRvIHRoZSBmcm9udFxuXHRcdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCBoYXNoY2hhbmdlLmJpbmQoc3R5bGUsIGluaXRpYWxaKSk7XG5cblx0XHRcdGhhc2hjaGFuZ2UuY2FsbChzdHlsZSwgaW5pdGlhbFopO1xuXHRcdH1cblx0fVxuXG5cdC8vIGVuc3VyZSBpdHMga2VlcGluZyB1cC5cblx0Z2V0IHdpZHRoKCkge1xuXHRcdHJldHVybiB0aGlzLnRhcmdldC53aWR0aDtcblx0fVxuXHRzZXQgd2lkdGgodmFsdWUpIHtcblx0XHR0aGlzLnRhcmdldC53aWR0aCA9IHZhbHVlO1xuXHRcdHJldHVybiB2YWx1ZTtcblx0fVxuXG5cdGdldCBoZWlnaHQoKSB7XG5cdFx0cmV0dXJuIHRoaXMudGFyZ2V0LmhlaWdodDtcblx0fVxuXHRzZXQgaGVpZ2h0KHZhbHVlKSB7XG5cdFx0dGhpcy50YXJnZXQuaGVpZ2h0ID0gdmFsdWU7XG5cdFx0cmV0dXJuIHZhbHVlO1xuXHR9XG5cdGdldCBmcHMoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2Zwcztcblx0fVxuXHRzZXQgZnBzKHZhbHVlKSB7XG5cblx0XHR0aGlzLl9mcHMgPSB2YWx1ZTtcblxuXHRcdGNvbnN0IG5vdyA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XG5cblx0XHRpZiAoKG5vdyAtIHRoaXMuX3RpbWUpID4gMTAwMCkge1xuXHRcdFx0Ly8gY29uc29sZS5sb2coJ2ZwczogJWQnLCB0aGlzLl9mcHMpO1xuXHRcdFx0dGhpcy5fdGltZSA9IG5vdztcblx0XHRcdHRoaXMuX2ZwcyA9IDA7XG5cdFx0fVxuXHR9XG5cblxuXHRyZXNpemUoKSB7XG5cdFx0Y29uc3QgcGFyZW50ID0gKHRoaXMudGFyZ2V0LnBhcmVudE5vZGUgPT09IGRvY3VtZW50LmJvZHkpID8gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50IDogdGhpcy50YXJnZXQucGFyZW50Tm9kZTtcblx0XHRjb25zdCBoZWlnaHQgPSBwYXJlbnQuY2xpZW50SGVpZ2h0O1xuXHRcdGNvbnN0IHdpZHRoID0gcGFyZW50LmNsaWVudFdpZHRoO1xuXHRcdGxldCBjaGFuZ2VkID0gZmFsc2U7XG5cblx0XHRpZiAodGhpcy53aWR0aCAhPT0gd2lkdGgpIHtcblx0XHRcdGNoYW5nZWQgPSB0cnVlO1xuXHRcdFx0dGhpcy53aWR0aCA9IHdpZHRoO1xuXHRcdH1cblx0XHRpZiAodGhpcy5oZWlnaHQgIT09IGhlaWdodCkge1xuXHRcdFx0Y2hhbmdlZCA9IHRydWU7XG5cdFx0XHR0aGlzLmhlaWdodCA9IGhlaWdodDtcblx0XHR9XG5cblx0XHRpZiAoY2hhbmdlZCkge1xuXHRcdFx0dGhpcy50YXJnZXQuZGlzcGF0Y2hFdmVudChjcmVhdGVFdmVudCgncmVzaXplJykpO1xuXHRcdH1cblx0fVxuXG5cdGNsZWFyKCkge1xuXHRcdHRoaXMuY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLnRhcmdldC53aWR0aCwgdGhpcy50YXJnZXQuaGVpZ2h0KTtcblx0fVxuXG5cdC8vIEJyaW5nIHRoZSBjb250ZW50IG9mIHRoZSBjYW52YXMgdG8gdGhlIGZyb250XG5cdGJyaW5nVG9Gcm9udCgpIHtcblxuXHRcdC8vIFVwZGF0ZSB0aGUgd2luZG93LmxvY2F0aW9uIHdpdGggdGhlIGhhc2ggI2JhY2tncm91bmRcblx0XHR3aW5kb3cubG9jYXRpb24uaGFzaCA9IEJBQ0tHUk9VTkRfSEFTSDtcblx0fVxuXG5cdC8vIFRyaWdnZXIgdGhlIGRyYXcgZnVuY3Rpb25cblx0ZHJhdygpIHtcblxuXHRcdC8vIEluY3JlbWVudCB0aGUgbnVtYmVyIG9mIGZyYW1lc1xuXHRcdHRoaXMuZnBzKys7XG5cblx0XHQvLyBDYWxsIHRoZSBmcmFtZSBmdW5jdGlvbiBpbiB0aGUgY29udGV4dCBvZiB0aGUgZnJhbWUgdG8gZHJhd1xuXHRcdHRoaXMudGFyZ2V0LmRpc3BhdGNoRXZlbnQoY3JlYXRlRXZlbnQoJ2ZyYW1lJykpO1xuXG5cdFx0Ly8gUmVxdWVzdCBhbm90aGVyIGZyYW1lXG5cdFx0cmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuZHJhdy5iaW5kKHRoaXMpKTtcblx0fVxuXG5cdC8vIFRoZSB1c2VyIGhhcyBjbGlja2VkIGFuIGl0ZW0gb24gdGhlIHBhZ2Vcblx0YWRkRXZlbnRMaXN0ZW5lcihldmVudG5hbWVzLCBoYW5kbGVyKSB7XG5cblx0XHRldmVudG5hbWVzLnNwbGl0KEVWRU5UX1NFUEFSQVRPUikuZm9yRWFjaChldmVudG5hbWUgPT4ge1xuXHRcdFx0Ly8gQWRkIHRvIHRoZSBldmVudHMgbGlzdFxuXHRcdFx0aWYgKCEoZXZlbnRuYW1lIGluIHRoaXMuZXZlbnRzKSkge1xuXHRcdFx0XHR0aGlzLmV2ZW50c1tldmVudG5hbWVdID0gW107XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuZXZlbnRzW2V2ZW50bmFtZV0ucHVzaChoYW5kbGVyKTtcblx0XHR9KTtcblx0fVxuXG5cdC8vIERpc3BhdGNoXG5cdGRpc3BhdGNoRXZlbnQoZSkge1xuXG5cdFx0aWYgKGUudHlwZSBpbiB0aGlzLmV2ZW50cykge1xuXG5cdFx0XHRjb25zdCB0YXJnZXQgPSBlLmN1cnJlbnRUYXJnZXQ7XG5cblx0XHRcdC8vIFRoaXMgd2FzIHRyaWdnZXJlZCB1c2luZyBldmVudCBkZWxlZ2F0aW9uLCBha2EgaW4gdGhlIGJhY2tncm91bmRcblx0XHRcdGlmICh0YXJnZXQgPT09IGRvY3VtZW50KSB7XG5cblx0XHRcdFx0ZSA9IGNyZWF0ZUR1bW15RXZlbnQoe1xuXHRcdFx0XHRcdHR5cGU6IGUudHlwZSxcblx0XHRcdFx0XHR0YXJnZXQ6IHRoaXMudGFyZ2V0LFxuXHRcdFx0XHRcdG9mZnNldFg6IGUucGFnZVggfHwgZS5vZmZzZXRYLFxuXHRcdFx0XHRcdG9mZnNldFk6IGUucGFnZVkgfHwgZS5vZmZzZXRZXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLmV2ZW50c1tlLnR5cGVdLmZvckVhY2goaGFuZGxlciA9PiBoYW5kbGVyKGUpKTtcblx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gRGlzcGF0Y2hcblx0ZGlzcGF0Y2hUb3VjaEV2ZW50KGUpIHtcblx0XHQvLyBJZiB0aGlzIHdhcyBhIHRvdWNoIGV2ZW50XG5cdFx0Ly8gRGV0ZXJtaW5lIHRoZSBvZmZzZXQgdG8gdGhlIGNhbnZhcyBlbGVtZW50IHJlbGF0aXZlIHRvIHRoZSBpdGVtIGJlaW5nIGNsaWNrZWRcblx0XHRjb25zdCB0b3VjaCA9IChlLnRvdWNoZXMgfHwgZS5jaGFuZ2VkVG91Y2hlcylbMF07XG5cdFx0aWYgKHRvdWNoKSB7XG5cdFx0XHRlLm9mZnNldFggPSBNYXRoLmFicyh0b3VjaC5wYWdlWCB8fCB0b3VjaC5zY3JlZW5YKTtcblx0XHRcdGUub2Zmc2V0WSA9IE1hdGguYWJzKHRvdWNoLnBhZ2VZIHx8IHRvdWNoLnNjcmVlblkpO1xuXHRcdH1cblxuXHRcdHRoaXMuZGlzcGF0Y2hFdmVudChlKTtcblx0fVxufVxuXG5cbmZ1bmN0aW9uIGhhc2hjaGFuZ2Uoeikge1xuXG5cdGNvbnN0IHpJbmRleCA9ICd6LWluZGV4JztcblxuXHRpZiAod2luZG93LmxvY2F0aW9uLmhhc2ggPT09IGAjJHsgQkFDS0dST1VORF9IQVNIfWApIHtcblx0XHR6ID0gMTAwMDA7XG5cdH1cblxuXHRpZiAoeiAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0Ly8gU2V0IHRoZSB6LUluZGV4XG5cdFx0dGhpcy5zZXRQcm9wZXJ0eSh6SW5kZXgsIHopO1xuXHR9XG5cdGVsc2Uge1xuXHRcdC8vIFJlbW92ZSB0aGUgei1JbmRleFxuXHRcdHRoaXMucmVtb3ZlUHJvcGVydHkoekluZGV4KTtcblx0fVxufVxuIiwiLy8gQ29sbGVjdGlvblxuXG5pbXBvcnQgb24gZnJvbSAndHJpY2tzL2V2ZW50cy9vbic7XG5jb25zdCBVc2VyRXZlbnRzID0gWydjbGljaycsICdtb3VzZWRvd24nLCAnbW91c2V1cCcsICdtb3VzZW92ZXInLCAnbW91c2Vtb3ZlJywgJ21vdXNlb3V0JywgJ3RvdWNobW92ZScsICd0b3VjaHN0YXJ0JywgJ3RvdWNoZW5kJywgJ2ZyYW1lJ107XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbGxlY3Rpb24ge1xuXG5cdGNvbnN0cnVjdG9yKHRhcmdldCkge1xuXHRcdC8vIENyZWF0ZSBhbiBlbXB0eSBjaGlsZHJlblxuXHRcdHRoaXMuY2hpbGRyZW4gPSBbXTtcblxuXHRcdC8vIEV2ZW50c1xuXHRcdHRoaXMuZXZlbnRzID0gW107XG5cblx0XHQvLyBzZXR1cCB0aGUgY2FudmFzIGVsZW1lbnRcblx0XHR0aGlzLmluaXQodGFyZ2V0KTtcblx0fVxuXG5cdC8vIGxpc3RlbiB0byBjYW52YXMgZXZlbnRzXG5cdGluaXQgKHRhcmdldCkge1xuXG5cdFx0Ly8gRGVmaW5lIHRoZSBjYW52YXMgb2JqZWN0IGFzIHRoZSB0YXJnZXQgZm9yIHRoZSBjb2xsZWN0aW9uXG5cdFx0dGhpcy50YXJnZXQgPSB0YXJnZXQ7XG5cblx0XHQvLyBEZWZpbmUgdGhlIENUWFxuXHRcdHRoaXMuY3R4ID0gdGFyZ2V0LmdldENvbnRleHQoJzJkJyk7XG5cblx0XHQvLyBsaXN0ZW4gdG8gdXNlciBpbnRlcmFjdGl2ZSBldmVudHMgYW5kIHRyaWdnZXIgdGhvc2Ugb24gaXRlbXNcblx0XHRvbih0YXJnZXQsIFVzZXJFdmVudHMudG9TdHJpbmcoKSwgdGhpcy5fZmluZEFuZERpc3BhdGNoLmJpbmQodGhpcyksIHtwYXNzaXZlOiB0cnVlfSk7XG5cblx0fVxuXG5cdHB1c2goaXRlbSkge1xuXHRcdGl0ZW0uZGlydHkgPSB0cnVlO1xuXG5cdFx0Ly8gSXMgdGhpcyBpdGVtIGFscmVhZHkgaW4gdGhlIGNvbGxlY3Rpb24/XG5cdFx0aWYgKHRoaXMuY2hpbGRyZW4uaW5kZXhPZihpdGVtKSA9PT0gLTEpIHtcblx0XHRcdGlmIChpdGVtLnNldHVwKSB7XG5cdFx0XHRcdGl0ZW0uc2V0dXAodGhpcyk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignZGlydHknLCB0aGlzLnByZXBhcmVDaGlsZC5iaW5kKHRoaXMsIGl0ZW0pKTtcblx0XHRcdHRoaXMuY2hpbGRyZW4ucHVzaChpdGVtKTtcblx0XHR9XG5cdH1cblxuXHRnZXQgbGVuZ3RoICgpIHtcblx0XHRyZXR1cm4gdGhpcy5jaGlsZHJlbi5sZW5ndGg7XG5cdH1cblx0c2V0IGxlbmd0aCAodikge1xuXHRcdHJldHVybiB0aGlzLmNoaWxkcmVuLmxlbmd0aCA9IHY7XG5cdH1cblxuXG5cdC8vIFRvdWNoXG5cdC8vIE1hcmsgaXRlbXMgYW5kIG9iamVjdHMgaW4gdGhlIHNhbWUgc3BhY2UgdG8gYmUgcmVkcmF3blxuXHRwcmVwYXJlKCkge1xuXHRcdHRoaXMuY2hpbGRyZW4uZm9yRWFjaChpdGVtID0+IHtcblx0XHRcdGlmIChpdGVtLmRpcnR5ID09PSB0cnVlKVxuXHRcdFx0XHR0aGlzLnByZXBhcmVDaGlsZChpdGVtKTtcblx0XHR9KTtcblx0fVxuXG5cdC8vIENsZWFuIEl0ZW1cblx0cHJlcGFyZUNoaWxkKGl0ZW0pIHtcblxuXHRcdGNvbnN0IGN0eCA9IHRoaXMuY3R4O1xuXG5cdFx0aWYgKGl0ZW0uZGlydHkgPT09ICdwZW5kaW5nJykge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIE1hcmsgdGhpcyBpdGVtIGFzIGRpcnR5XG5cdFx0aXRlbS5kaXJ0eSA9ICdwZW5kaW5nJztcblxuXHRcdC8vIFJlbW92ZSBmcm9tIENhbnZhc1xuXHRcdGN0eC5jbGVhclJlY3QoaXRlbS54LCBpdGVtLnksIGl0ZW0udywgaXRlbS5oKTtcblxuXHRcdC8vIElmIHRoZSBpdGVtcyBvbGQgcG9zaXRpb24gaXMgZGlmZmVyZW50XG5cdFx0aWYgKGl0ZW0ucGFzdCAmJiBkaXNwbGFjZWQoaXRlbS5wYXN0LCBpdGVtKSkge1xuXHRcdFx0Y3R4LmNsZWFyUmVjdChpdGVtLnBhc3QueCwgaXRlbS5wYXN0LnksIGl0ZW0ucGFzdC53LCBpdGVtLnBhc3QuaCk7XG5cdFx0fVxuXG5cdFx0Ly8gTG9vcCB0aG91Z2ggb2JqZWN0cyBhbmQgcmVkcmF3IHRob3NlIHRoYXQgZXhpc3Qgd2l0aGluIHRoZSBwb3NpdGlvblxuXHRcdHRoaXMuY2hpbGRyZW4uZm9yRWFjaCh0aGlzLl9wcmVwYXJlU2libGluZ3MuYmluZCh0aGlzLCBpdGVtKSk7XG5cdH1cblxuXHRfcHJlcGFyZVNpYmxpbmdzKGl0ZW0sIHNpYmxpbmcpIHtcblxuXHRcdC8vIERvZXMgdGhpcyBPYmplY3Qgb3ZlcmxhcCB3aXRoIHRoZSBmb2N1c2VkIG9iamVjdD9cblx0XHRpZiAoIXNpYmxpbmcuZGlydHkgJiYgc2libGluZy52aXNpYmxlICE9PSBmYWxzZSAmJiAoaW50ZXJzZWN0KHNpYmxpbmcsIGl0ZW0pIHx8IChpdGVtLnBhc3QgPyBpbnRlcnNlY3Qoc2libGluZywgaXRlbS5wYXN0KSA6IGZhbHNlKSkpIHtcblx0XHRcdC8vIE5lc3RlZCBjbGVhblxuXHRcdFx0dGhpcy5wcmVwYXJlQ2hpbGQoc2libGluZyk7XG5cdFx0fVxuXHR9XG5cblx0c29ydCgpIHtcblx0XHQvLyBTb3J0IGl0ZW1zIGJ5IHotaW5kZXhcblx0XHR0aGlzLmNoaWxkcmVuLnNvcnQoKGEsIGIpID0+IHtcblx0XHRcdGEgPSBhLnpJbmRleCB8fCAwO1xuXHRcdFx0YiA9IGIuekluZGV4IHx8IDA7XG5cdFx0XHRyZXR1cm4gKyhhID4gYikgfHwgLShhIDwgYik7XG5cdFx0fSk7XG5cdH1cblxuXHQvLyBUcmlnZ2VyIHRoZSBkcmF3IGZ1bmN0aW9uXG5cdGRyYXcoKSB7XG5cblx0XHRjb25zdCBjdHggPSB0aGlzLmN0eDtcblxuXHRcdC8vIEZpbmQgaXRlbXMgdGhhdCBoYXZlIGNoYW5nZWRcblx0XHQvLyBSZW1vdmUgYmFja2dyb3VuZFxuXHRcdHRoaXMuY2hpbGRyZW4uZm9yRWFjaChpdGVtID0+IHtcblxuXHRcdFx0aWYgKGl0ZW0uZnJhbWUpIHtcblx0XHRcdFx0aXRlbS5mcmFtZShjdHgpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoaXRlbS5kaXJ0eSAmJiBpdGVtLnZpc2libGUgIT09IGZhbHNlKSB7XG5cdFx0XHRcdGl0ZW0uZHJhdyhjdHgpO1xuXHRcdFx0fVxuXG5cdFx0XHRpdGVtLmRpcnR5ID0gZmFsc2U7XG5cdFx0fSk7XG5cdH1cblxuXHRlbGVtZW50RnJvbVBvaW50KHgsIHkpIHtcblxuXHRcdGxldCB0YXJnZXQ7XG5cblx0XHQvLyBGaW5kIHRoZSBjYW52YXMgaXRlbSB3aGljaCB0aGlzIHRhcmdldHM/XG5cdFx0Y29uc3Qgb2JqID0ge1xuXHRcdFx0eCxcblx0XHRcdHksXG5cdFx0XHR3OiAxLFxuXHRcdFx0aDogMVxuXHRcdH07XG5cblx0XHR0aGlzLmNoaWxkcmVuLmZvckVhY2goaXRlbSA9PiB7XG5cblx0XHRcdGlmIChpdGVtLnZpc2libGUgPT09IGZhbHNlIHx8ICFpdGVtLncgfHwgIWl0ZW0uaCB8fCBpdGVtLnBvaW50ZXJFdmVudHMgPT09IGZhbHNlKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSXMgdGhpcyBhIHRhcmdldD9cblx0XHRcdGlmIChpbnRlcnNlY3Qob2JqLCBpdGVtKSkge1xuXHRcdFx0XHQvLyBEZWZpbmUgdGhpcyBhcyBhIHRhcmdldFxuXHRcdFx0XHR0YXJnZXQgPSBpdGVtO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHRhcmdldDtcblx0fVxuXG5cdC8vIFRoZSB1c2VyIGhhcyBjbGlja2VkIGFuIGl0ZW0gb24gdGhlIHBhZ2Vcblx0YWRkRXZlbnRMaXN0ZW5lcihldmVudG5hbWUsIGhhbmRsZXIpIHtcblxuXHRcdC8vIEFkZCB0byB0aGUgZXZlbnRzIGxpc3Rcblx0XHRpZiAoIShldmVudG5hbWUgaW4gdGhpcy5ldmVudHMpKSB7XG5cdFx0XHR0aGlzLmV2ZW50c1tldmVudG5hbWVdID0gW107XG5cdFx0fVxuXG5cdFx0dGhpcy5ldmVudHNbZXZlbnRuYW1lXS5wdXNoKGhhbmRsZXIpO1xuXHR9XG5cblx0Ly8gRGlzcGF0Y2hcblx0ZGlzcGF0Y2hFdmVudChlKSB7XG5cdFx0aWYgKGUudHlwZSBpbiB0aGlzLmV2ZW50cylcblx0XHRcdHRoaXMuZXZlbnRzW2UudHlwZV0uZm9yRWFjaChoYW5kbGVyID0+IGhhbmRsZXIoZSkpO1xuXHR9XG5cblx0Ly8gRmluZCBhbmQgX2Rpc3BhdGNoXG5cdF9maW5kQW5kRGlzcGF0Y2goZSkge1xuXHRcdC8vIElmIHRoaXMgaXMgbm90IGEgcG9pbnRlckV2ZW50IGxldHMganVzdCBwYXNzIGl0IHRocm91Z2guXG5cdFx0aWYgKCh0eXBlb2YgTW91c2VFdmVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgZSBpbnN0YW5jZW9mIE1vdXNlRXZlbnQpIHx8XG5cdFx0XHQodHlwZW9mIFRvdWNoRXZlbnQgIT09ICd1bmRlZmluZWQnICYmIGUgaW5zdGFuY2VvZiBUb3VjaEV2ZW50KSkge1xuXG5cdFx0XHQvLyBGaW5kIHRoZSBjYW52YXMgaXRlbSB3aGljaCB0aGlzIHRhcmdldHM/XG5cdFx0XHRjb25zdCBvYmogPSB7XG5cdFx0XHRcdHg6IGUub2Zmc2V0WCxcblx0XHRcdFx0eTogZS5vZmZzZXRZLFxuXHRcdFx0XHR3OiAxLFxuXHRcdFx0XHRoOiAxXG5cdFx0XHR9O1xuXG5cdFx0XHR0aGlzLmNoaWxkcmVuLmZvckVhY2goaXRlbSA9PiB7XG5cblx0XHRcdFx0aWYgKCFpdGVtLnZpc2libGUgfHwgIWl0ZW0udyB8fCAhaXRlbS5oIHx8ICFpdGVtLnBvaW50ZXJFdmVudHMpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBJbnRlcnNlY3RzP1xuXHRcdFx0XHRpbnRlcnNlY3Qob2JqLCBpdGVtKSAmJiBpdGVtLmRpc3BhdGNoRXZlbnQoZSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cbn1cblxuXG4vLyBJbnRlcnNlY3Rcbi8vIEdpdmVuIHR3byBvYmplY3RzIHdpdGgsIHgseSx3LGggcHJvcGVydGllc1xuLy8gRG8gdGhlaXIgcmVjdGFuZ3VsYXIgZGltZW5zaW9ucyBpbnRlcnNlY3Q/XG4vLyByZXR1cm4gQm9vbGVhbiB0cnVlIGZhbHNlLlxuZnVuY3Rpb24gaW50ZXJzZWN0KGEsIGIpIHtcblx0cmV0dXJuICEoYS54ID4gKGIueCArIGIudykgfHxcblx0KGEueCArIGEudykgPCBiLnggfHxcblx0YS55ID4gKGIueSArIGIuaCkgfHxcblx0KGEueSArIGEuaCkgPCBiLnkpO1xufVxuXG5mdW5jdGlvbiBkaXNwbGFjZWQoYSwgYikge1xuXHRyZXR1cm4gKGEueCAhPT0gYi54IHx8XG5cdGEueSAhPT0gYi55IHx8XG5cdGEudyAhPT0gYi53IHx8XG5cdGEuaCAhPT0gYi5oKTtcbn1cbiIsIi8vIFNoYXBlXG4vLyBDYW52YXNTaGFwZXNcbi8vIFRoZSBwYXJlbnQgb2JqZWN0IGRlZmluaW5nIGEgYmFzaWMgc2hhcGUsIHgseSx3LGgsIGZvciBzdGFydGVycy5cbi8vIEFuZCBiYXNpYyBvcGVyYXRpbmdzIHlvdSBtaWdodCBsaWtlIHRvIGluY2x1ZGUgb24gYSBzaGFwZVxuaW1wb3J0IGNyZWF0ZUV2ZW50IGZyb20gJ3RyaWNrcy9ldmVudHMvY3JlYXRlRXZlbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTaGFwZSB7XG5cblx0Y29uc3RydWN0b3IgKC4uLmFyZ3MpIHtcblxuXHRcdC8vIGluaXRpZWF0ZSAgZXZlbnRzXG5cdFx0dGhpcy5ldmVudHMgPSBbXTtcblxuXHRcdGlmIChhcmdzLmxlbmd0aCkge1xuXHRcdFx0Ly8gU3RvcmUgdGhlIHZhbHVlc1xuXHRcdFx0dGhpcy5wb3NpdGlvbiguLi5hcmdzKTtcblx0XHR9XG5cdH1cblxuLy9cdFNldCBwcm9wZXJ0eSBsaXN0ZW5lcnNcblx0Z2V0IHgoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX3g7XG5cdH1cblx0c2V0IHgodikge1xuXHRcdGlmICh0aGlzLl94ICE9PSB2KSB7XG5cdFx0XHR0aGlzLmRpcnR5ID0gdHJ1ZTsgdGhpcy5feCA9IHY7XG5cdFx0fVxuXHR9XG5cblx0Z2V0IHkoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX3k7XG5cdH1cblx0c2V0IHkodikge1xuXHRcdGlmICh0aGlzLl95ICE9PSB2KSB7XG5cdFx0XHR0aGlzLmRpcnR5ID0gdHJ1ZTsgdGhpcy5feSA9IHY7XG5cdFx0fVxuXHR9XG5cblx0Z2V0IHcoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX3c7XG5cdH1cblx0c2V0IHcodikge1xuXHRcdGlmICh0aGlzLl93ICE9PSB2KSB7XG5cdFx0XHR0aGlzLmRpcnR5ID0gdHJ1ZTsgdGhpcy5fdyA9IHY7XG5cdFx0fVxuXHR9XG5cblx0Z2V0IGgoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2g7XG5cdH1cblx0c2V0IGgodikge1xuXHRcdGlmICh0aGlzLl9oICE9PSB2KSB7XG5cdFx0XHR0aGlzLmRpcnR5ID0gdHJ1ZTsgdGhpcy5faCA9IHY7XG5cdFx0fVxuXHR9XG5cblx0Z2V0IGR4KCkge1xuXHRcdHJldHVybiB0aGlzLl9keDtcblx0fVxuXHRzZXQgZHgodikge1xuXHRcdGlmICh0aGlzLl9keCAhPT0gdikge1xuXHRcdFx0dGhpcy5kaXJ0eSA9IHRydWU7IHRoaXMuX2R4ID0gdjtcblx0XHR9XG5cdH1cblxuXHRnZXQgZHkoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2R5O1xuXHR9XG5cdHNldCBkeSh2KSB7XG5cdFx0aWYgKHRoaXMuX2R5ICE9PSB2KSB7XG5cdFx0XHR0aGlzLmRpcnR5ID0gdHJ1ZTsgdGhpcy5fZHkgPSB2O1xuXHRcdH1cblx0fVxuXG5cdGdldCB2aXNpYmxlKCkge1xuXHRcdHJldHVybiAodGhpcy5fdmlzaWJsZSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IHRoaXMuX3Zpc2libGUpO1xuXHR9XG5cdHNldCB2aXNpYmxlKHYpIHtcblx0XHRpZiAodGhpcy5fdmlzaWJsZSAhPT0gdikge1xuXHRcdFx0dGhpcy5kaXJ0eSA9IHRydWU7IHRoaXMuX3Zpc2libGUgPSB2O1xuXHRcdH1cblx0fVxuXG5cdGdldCBvcGFjaXR5KCkge1xuXHRcdHJldHVybiAodGhpcy5fb3BhY2l0eSA9PT0gdW5kZWZpbmVkID8gMSA6IHRoaXMuX29wYWNpdHkpO1xuXHR9XG5cdHNldCBvcGFjaXR5KHYpIHtcblx0XHRpZiAodGhpcy5fb3BhY2l0eSAhPT0gdikge1xuXHRcdFx0dGhpcy5kaXJ0eSA9IHRydWU7IHRoaXMuX29wYWNpdHkgPSB2O1xuXHRcdH1cblx0fVxuXG5cdHNldCBkaXJ0eSAodikge1xuXHRcdC8vIEhhcyB0aGlzIGp1c3QgYmVlbiBtYWRlIGRpcnR5P1xuXHRcdGlmICghdGhpcy5fZGlydHkgJiYgdikge1xuXHRcdFx0Ly8gTWFyayBhcyBkaXJ0eVxuXHRcdFx0dGhpcy5fZGlydHkgPSB2O1xuXG5cdFx0XHQvLyBUcmlnZ2VyIGEgY2FudmFzIGNsZWFuXG5cdFx0XHR0aGlzLmRpc3BhdGNoRXZlbnQoY3JlYXRlRXZlbnQoJ2RpcnR5JykpO1xuXHRcdH1cblx0XHRlbHNlIGlmICghdikge1xuXHRcdFx0Ly8gcmVzZXRcblx0XHRcdHRoaXMuX2RpcnR5ID0gdjtcblx0XHR9XG5cdH1cblx0Z2V0IGRpcnR5ICgpIHtcblx0XHRyZXR1cm4gdGhpcy5fZGlydHk7XG5cdH1cblxuXHQvLyBMZXQgZXZlbnRzIGJ1YmJsZSB1cFxuXHRnZXQgcG9pbnRlckV2ZW50cyAoKSB7XG5cdFx0cmV0dXJuICh0aGlzLl9wb2ludGVyRXZlbnRzID09PSB1bmRlZmluZWQgPyAxIDogdGhpcy5fcG9pbnRlckV2ZW50cyk7XG5cdH1cblx0c2V0IHBvaW50ZXJFdmVudHMgKHYpIHtcblx0XHR0aGlzLl9wb2ludGVyRXZlbnRzID0gdjtcblx0fVxuXG5cdHBvc2l0aW9uKHggPSAwLCB5ID0gMCwgdyA9IDAsIGggPSAwKSB7XG5cblx0XHRpZiAoIXRoaXMucGFzdCkge1xuXHRcdFx0Ly8gU2V0IHBhc3QgcG9pbnRzXG5cdFx0XHR0aGlzLnBhc3QgPSB7fTtcblx0XHR9XG5cblx0XHR0aGlzLnBhc3QueCA9IHRoaXMueDtcblx0XHR0aGlzLnBhc3QueSA9IHRoaXMueTtcblx0XHR0aGlzLnBhc3QudyA9IHRoaXMudztcblx0XHR0aGlzLnBhc3QuaCA9IHRoaXMuaDtcblxuXHRcdC8vIEFzc2lnbiwgcmVjdGFuZ2xlIHNoYXBlXG5cdFx0Ly8gSGF2ZSBhIGJhY2t1cCBmb290cHJpbnRcblx0XHR0aGlzLnggPSB4O1xuXHRcdHRoaXMueSA9IHk7XG5cdFx0dGhpcy53ID0gdztcblx0XHR0aGlzLmggPSBoO1xuXHR9XG5cblx0Ly8gUGxhY2Vob2xkZXIgZnVuY3Rpb24gZm9yIGRyYXdpbmcgdG8gY2FudmFzXG5cdGZyYW1lKCkge31cblx0ZHJhdygpIHt9XG5cdHNldHVwKCkge31cblxuXHQvLyBFdmVudHNcblx0Ly8gQXNzaWduIEV2ZW50cyB0byBiZSBmaXJlZCB3aGVuIHRoZSB1c2VyIGNsaWNrcyB0aGlzIG9iamVjdFxuXHQvLyBBd2Vzb21lXG5cdGFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBjYWxsYmFjaykge1xuXHRcdGlmICghKGV2ZW50TmFtZSBpbiB0aGlzLmV2ZW50cykpIHtcblx0XHRcdHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0gPSBbXTtcblx0XHR9XG5cdFx0dGhpcy5ldmVudHNbZXZlbnROYW1lXS5wdXNoKGNhbGxiYWNrKTtcblx0fVxuXG5cdGRpc3BhdGNoRXZlbnQoZSkge1xuXHRcdGlmICghKGUudHlwZSBpbiB0aGlzLmV2ZW50cykpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0dGhpcy5ldmVudHNbZS50eXBlXS5mb3JFYWNoKGZuID0+IGZuKGUpKTtcblx0fVxuXG5cdC8vIEFzc2lnbiBnZXR0ZXJzIGFuZCBzZXR0ZXJzIHRvIGRlZmF1bHQgcHJvcGVydGllc1xuXHRfd2F0Y2hQcm9wZXJ0eShwcm9wTmFtZSkge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBwcm9wTmFtZSwge1xuXHRcdFx0Z2V0OiB0aGlzLl9nZXR0ZXIuYmluZCh0aGlzLCBwcm9wTmFtZSksXG5cdFx0XHRzZXQ6IHRoaXMuX3NldHRlci5iaW5kKHRoaXMsIHByb3BOYW1lKVxuXHRcdH0pO1xuXHR9XG5cblx0X2dldHRlcihwcm9wTmFtZSkge1xuXHRcdHJldHVybiB0aGlzW2BfJHsgcHJvcE5hbWV9YF07XG5cdH1cblxuXHRfc2V0dGVyKHByb3BOYW1lLCB2KSB7XG5cdFx0aWYgKHRoaXNbYF8keyBwcm9wTmFtZX1gXSAhPT0gdikge1xuXHRcdFx0dGhpcy5kaXJ0eSA9IHRydWU7XG5cdFx0XHR0aGlzW2BfJHsgcHJvcE5hbWV9YF0gPSB2O1xuXHRcdH1cblx0fVxufVxuIiwiLy8gdGV4dFxuLy8gVGV4dE9iamVjdCwgZGVmaW5lcyBhIHNoYXBlIG9iamVjdCB3aGljaCBjb250YWlucyB0ZXh0LlxuXG5pbXBvcnQgU2hhcGUgZnJvbSAnLi9zaGFwZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRleHQgZXh0ZW5kcyBTaGFwZSB7XG5cblx0Ly8gSW5pdGlhdGUgYSBuZXcgc2hhcGUgb2JqZWN0LlxuXHRjb25zdHJ1Y3RvciAodGV4dCkge1xuXHRcdC8vIGluaXRpYXRlIGluaGVyaXRhbmNlXG5cdFx0c3VwZXIoKTtcblxuXHRcdC8vIFdhdGNoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllcyBmb3IgY2hhbmdlc1xuXHRcdFsndGV4dCcsICdzaGFkb3dCbHVyJywgJ3NoYWRvd0NvbG9yJywgJ2ZpbGxTdHlsZScsICdzdHJva2VTdHlsZScsICd0ZXh0QWxpZ24nLCAndGV4dEJhc2VsaW5lJywgJ2xpbmVXaWR0aCddLmZvckVhY2godGhpcy5fd2F0Y2hQcm9wZXJ0eS5iaW5kKHRoaXMpKTtcblxuXHRcdC8vIERlZmluZSB0ZXh0XG5cdFx0dGhpcy50ZXh0ID0gdGV4dCB8fCAnJztcblxuXHRcdHRoaXMuc2hhZG93Q29sb3IgPSAnYmxhY2snO1xuXHRcdHRoaXMuZmlsbFN0eWxlID0gJ2JsYWNrJztcblx0XHR0aGlzLnN0cm9rZVN0eWxlID0gJ3doaXRlJztcblx0XHR0aGlzLnRleHRBbGlnbiA9ICdsZWZ0Jztcblx0XHR0aGlzLnRleHRCYXNlbGluZSA9ICd0b3AnO1xuXHRcdHRoaXMubGluZVdpZHRoID0gMDtcblx0XHR0aGlzLmFsaWduID0gJ2xlZnQgdG9wJztcblx0XHR0aGlzLmZvbnRTaXplID0gMzA7XG5cdH1cblxuXHQvLyBEZWZpbmUgdGhlIHRleHQgYW5kIHRoZSBhbGlnbm1lbnQgb2YgdGhlIG9iamVjdFxuXHRjYWxjIChjYW52YXMpIHtcblxuXHRcdC8vIERlZmluZSB0ZXh0XG5cdFx0W3RoaXMudGV4dEFsaWduLCB0aGlzLnRleHRCYXNlbGluZV0gPSB0aGlzLmFsaWduLnNwbGl0KCcgJyk7XG5cblx0XHRjb25zdCBjdHggPSBjYW52YXMuY3R4O1xuXHRcdGxldCBmb250U2l6ZSA9IHRoaXMuZm9udFNpemU7XG5cblx0XHQvLyBTcGxpdCB0ZXh0IGJ5IGxpbmUgYnJlYWtzXG5cdFx0dGhpcy5saW5lcyA9IHRoaXMudGV4dC50b1N0cmluZygpLnNwbGl0KCdcXG4nKTtcblxuXHRcdC8vIFdoaWNoIGlzIHRoZSBsb25nZXN0IGxpbmU/XG5cdFx0bGV0IF93aWR0aCA9IDA7XG5cdFx0bGV0IGRlZmF1bHRfdGV4dCA9IHRoaXMubGluZXNbMF07XG5cblx0XHR0aGlzLmxpbmVzLmZvckVhY2gobGluZSA9PiB7XG5cdFx0XHRjb25zdCBfdyA9IGN0eC5tZWFzdXJlVGV4dChsaW5lKS53aWR0aDtcblx0XHRcdGlmIChfdyA+IF93aWR0aCkge1xuXHRcdFx0XHRfd2lkdGggPSBfdztcblx0XHRcdFx0ZGVmYXVsdF90ZXh0ID0gbGluZTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIEZpbmQgdGhlIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIGl0ZW1cblx0XHQvLyBVc2luZyB0aGUgY2FudmFzIGNvbnRleHRcblx0XHRjdHguc2F2ZSgpO1xuXG5cdFx0Y3R4LnNoYWRvd0NvbG9yID0gJ2JsYWNrJztcblx0XHRjdHguZmlsbFN0eWxlID0gJ2JsYWNrJztcblx0XHRjdHguc3Ryb2tlU3R5bGUgPSAncmdiYSgyNTUsMjU1LDI1NSwwLjUpJztcblx0XHRjdHguZm9udCA9IGBib2xkICR7IGZvbnRTaXplIH1weCBBcmlhbGA7XG5cblx0XHR3aGlsZSAoY3R4Lm1lYXN1cmVUZXh0KGRlZmF1bHRfdGV4dCkud2lkdGggPiBjYW52YXMud2lkdGgpIHtcblx0XHRcdGZvbnRTaXplICo9IDAuOTtcblx0XHRcdGZvbnRTaXplID0gTWF0aC5yb3VuZChmb250U2l6ZSk7XG5cdFx0XHRjdHguZm9udCA9IGBib2xkICR7IGZvbnRTaXplIH1weCBBcmlhbGA7XG5cdFx0fVxuXG5cdFx0dGhpcy5zaGFkb3dCbHVyID0gY3R4LnNoYWRvd0JsdXIgPSBNYXRoLnJvdW5kKGZvbnRTaXplIC8gMTApO1xuXHRcdHRoaXMuZm9udFNpemUgPSBmb250U2l6ZTtcblx0XHR0aGlzLmZvbnQgPSBjdHguZm9udDtcblxuXHRcdHRoaXMudyA9IGN0eC5tZWFzdXJlVGV4dChkZWZhdWx0X3RleHQpLndpZHRoICsgKHRoaXMuc2hhZG93Qmx1ciAqIDIpO1xuXHRcdHRoaXMuaCA9IChmb250U2l6ZSArICh0aGlzLnNoYWRvd0JsdXIgKiAyKSkgKiB0aGlzLmxpbmVzLmxlbmd0aDtcblxuXHRcdGN0eC5yZXN0b3JlKCk7XG5cblx0XHQvLyBTdG9yZSBzdHlsZSBhdHRyaWJ1dGVzXG5cdFx0Ly8gU3RvcmUgdGhlIG5ldyBhdHRyaWJ1dGVzIG9mIHRoZSB0ZXh0IGl0ZW1cblx0XHR0aGlzLmxpbmVXaWR0aCA9IE1hdGguZmxvb3IoZm9udFNpemUgLyA2MCk7XG5cblxuXHRcdC8vIEhFSUdIVCBhbmQgV0lEVEhcblx0XHRzd2l0Y2ggKHRoaXMudGV4dEFsaWduKSB7XG5cdFx0XHRjYXNlICdjZW50ZXInOlxuXHRcdFx0Y2FzZSAnbWlkZGxlJzpcblx0XHRcdFx0dGhpcy50ZXh0QWxpZ24gPSAnY2VudGVyJztcblx0XHRcdFx0dGhpcy54ID0gKGNhbnZhcy53aWR0aCAvIDIpIC0gKHRoaXMudyAvIDIpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ2xlZnQnOlxuXHRcdFx0XHR0aGlzLnggPSAwO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ3JpZ2h0Jzpcblx0XHRcdFx0dGhpcy54ID0gY2FudmFzLndpZHRoIC0gdGhpcy53O1xuXHRcdFx0XHRicmVhaztcblx0XHR9XG5cblx0XHRzd2l0Y2ggKHRoaXMudGV4dEJhc2VsaW5lKSB7XG5cdFx0XHRjYXNlICdjZW50ZXInOlxuXHRcdFx0Y2FzZSAnbWlkZGxlJzpcblx0XHRcdFx0dGhpcy50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcblx0XHRcdFx0dGhpcy55ID0gKGNhbnZhcy5oZWlnaHQgLyAyKSAtICh0aGlzLmggLyAyKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICd0b3AnOlxuXHRcdFx0XHR0aGlzLnkgPSAwO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ2JvdHRvbSc6XG5cdFx0XHRcdHRoaXMueSA9IGNhbnZhcy5oZWlnaHQgLSB0aGlzLmg7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdH1cblxuXHRcdHRoaXMudGV4dEFsaWduID0gJ2xlZnQnO1xuXHRcdHRoaXMudGV4dEJhc2VsaW5lID0gJ3RvcCc7XG5cblx0XHRjdHgucmVzdG9yZSgpO1xuXHR9XG5cblx0Ly8gRHJhd1xuXHRkcmF3IChjdHgpIHtcblxuXHRcdGN0eC5zYXZlKCk7XG5cblx0XHRjdHguZ2xvYmFsQWxwaGEgPSB0aGlzLm9wYWNpdHk7XG5cblx0XHRjdHguc2hhZG93Q29sb3IgPSB0aGlzLnNoYWRvd0NvbG9yO1xuXHRcdGlmICh0aGlzLnNoYWRvd0JsdXIpIHtcblx0XHRcdGN0eC5zaGFkb3dCbHVyID0gdGhpcy5zaGFkb3dCbHVyO1xuXHRcdH1cblx0XHRjdHguZmlsbFN0eWxlID0gdGhpcy5maWxsU3R5bGU7XG5cdFx0Y3R4LnN0cm9rZVN0eWxlID0gdGhpcy5zdHJva2VTdHlsZTtcblx0XHRjdHguZm9udCA9IHRoaXMuZm9udDtcblxuXHRcdGN0eC50ZXh0QWxpZ24gPSB0aGlzLnRleHRBbGlnbjtcblx0XHRjdHgudGV4dEJhc2VsaW5lID0gdGhpcy50ZXh0QmFzZWxpbmU7XG5cdFx0Y3R4LmxpbmVXaWR0aCA9IHRoaXMubGluZVdpZHRoO1xuXG5cdFx0aWYgKHRoaXMubGluZVdpZHRoKSB7XG5cdFx0XHRjdHgubGluZVdpZHRoID0gdGhpcy5saW5lV2lkdGg7XG5cdFx0fVxuXG5cdFx0dGhpcy5saW5lcyA9IHRoaXMudGV4dC50b1N0cmluZygpLnNwbGl0KCdcXG4nKTtcblxuXHRcdGNvbnN0IGxlbiA9IHRoaXMubGluZXMubGVuZ3RoO1xuXG5cdFx0dGhpcy5saW5lcy5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuXHRcdFx0Y29uc3QgeSA9IHRoaXMueSArICh0aGlzLmggPyAoaW5kZXggKiAodGhpcy5oIC8gbGVuKSkgOiAwKTtcblxuXHRcdFx0Y3R4LmZpbGxUZXh0KGl0ZW0sIHRoaXMueCwgeSk7XG5cdFx0XHRpZiAodGhpcy5zdHJva2VTdHlsZSkge1xuXHRcdFx0XHRjdHguc3Ryb2tlVGV4dChpdGVtLCB0aGlzLngsIHkpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Y3R4LnJlc3RvcmUoKTtcblx0fVxufVxuIiwiLy8gQ29sb3JGbG9vZCwgQ2FudmFzIGFuaW1hdGlvblxuLy8gQ29weXJpZ2h0IEFuZHJldyBEb2Rzb24sIE1hcmNoIDIwMTMuXG4vLyBSZWZhY3RvcmVkIGluIDIwMTVcblxuLy8gR2V0IENhbnZhc1xuaW1wb3J0IENhbnZhcyBmcm9tICcuL2NsYXNzZXMvY2FudmFzJztcbmltcG9ydCBDb2xsZWN0aW9uIGZyb20gJy4vY2xhc3Nlcy9jb2xsZWN0aW9uJztcbmltcG9ydCBUZXh0IGZyb20gJy4vY2xhc3Nlcy90ZXh0JztcbmltcG9ydCBCYWNrZ3JvdW5kIGZyb20gJy4vY2xhc3Nlcy9iYWNrZ3JvdW5kJztcbmltcG9ydCBleHRlbmQgZnJvbSAndHJpY2tzL29iamVjdC9leHRlbmQnO1xuXG4vLyBDcmVhdGUgYSBuZXcgdGlsZVxuLy8gQXJndW1lbnRzIGhhbmRsZWQgYnkgcGFyZW50XG5jbGFzcyBUaWxlIHtcblxuXHRjb25zdHJ1Y3Rvcih4LCB5LCB3LCBoKSB7XG5cblx0XHQvLyBQYXJlbnQgT2JqZWN0XG5cdFx0dGhpcy54ID0geDtcblx0XHR0aGlzLnkgPSB5O1xuXHRcdHRoaXMudyA9IHc7XG5cdFx0dGhpcy5oID0gaDtcblxuXHRcdC8vIENhcHR1cmUgdGhlIGdyaWQgcG9zaXRpb25cblx0XHR0aGlzLmdyaWQgPSBuZXcgVWludDhBcnJheSgyKTtcblxuXHRcdGxldCBpbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHBhbGF0ZS5sZW5ndGgpO1xuXHRcdGlmIChpbmRleCA9PT0gcGFsYXRlLmxlbmd0aCkge1xuXHRcdFx0aW5kZXgtLTtcblx0XHR9XG5cblx0XHR0aGlzLmNvbG9ySW5kZXggPSBpbmRleDtcblx0XHR0aGlzLmZpbGxTdHlsZSA9IHBhbGF0ZVt0aGlzLmNvbG9ySW5kZXhdO1xuXHRcdHRoaXMuZmxvb2RlZCA9IGZhbHNlOyAvLyBpcyB0aGlzIHRpbGUgY2F1Z2h0XG5cdH1cblxuXHQvLyBFYWNoIGZ1bmN0aW9uIHBhc3NlZCBpbnRvIHRoZSBjb2xsZWN0aW9uIG11c3QgaGF2ZSBhIGRyYXcgZnVuY3Rpb25cblx0ZHJhdyhjdHgpIHtcblx0XHRjdHguZmlsbFN0eWxlID0gdGhpcy5maWxsU3R5bGU7XG5cdFx0Y3R4LmZpbGxSZWN0KHRoaXMueCwgdGhpcy55LCB0aGlzLncsIHRoaXMuaCk7XG5cdH1cbn1cblxuY29uc3QgcGFsYXRlID0gWydyZWQnLCAnZ3JlZW4nLCAnb3JhbmdlJywgJ2JsdWUnLCAnd2hpdGUnLCAnYmxhY2snXTtcblxuY2xhc3MgU3RhZ2Uge1xuXG5cdGNvbnN0cnVjdG9yKHRhcmdldCkge1xuXG5cdFx0Ly8gSW5pdGlhdGUgdGhlIGNhbnZhcyBpbiB0aGUgYmFzZVxuXHRcdHRoaXMuY2FudmFzID0gbmV3IENhbnZhcyh0YXJnZXQpO1xuXG5cdFx0Ly8gQ29sbGVjdGlvblxuXHRcdC8vIERlZmluZSB0aGUgY2FudmFzIHN0YXJ0IGVsZW1lbnRcblx0XHR0aGlzLmNvbGxlY3Rpb24gPSBuZXcgQ29sbGVjdGlvbih0aGlzLmNhbnZhcy50YXJnZXQpO1xuXG5cdFx0Ly8gVGlsZXNcblx0XHR0aGlzLnRpbGVzID0gW107XG5cblx0XHQvLyBBZGQgbGlzdGVuZXJzIHRvIHRoZSBjYW52YXMgRWxlbWVudFxuXHRcdHRoaXMuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ2ZyYW1lJywgKCkgPT4ge1xuXG5cdFx0XHQvLyBPbiBldmVyeSBmcmFtZVxuXHRcdFx0Ly8gUHJlcGFyZSBkaXJ0eSBhcmVhc1xuXHRcdFx0dGhpcy5jb2xsZWN0aW9uLnByZXBhcmUoKTtcblxuXHRcdFx0Ly8gRHJhdyBtYXJrZWQgaXRlbXNcblx0XHRcdHRoaXMuY29sbGVjdGlvbi5kcmF3KCk7XG5cdFx0fSk7XG5cblx0XHQvLyBJbml0aWF0ZVxuXHRcdGluaXQuY2FsbCh0aGlzKTtcblx0fVxuXG5cdHNldHVwKG9wdGlvbnMpIHtcblxuXHRcdC8vIFNldCB0aGUgb3B0aW9uc1xuXHRcdHRoaXMuY29uZmlnKG9wdGlvbnMpO1xuXG5cdFx0Ly8gU2V0dXBcblx0XHRzZXR1cC5jYWxsKHRoaXMpO1xuXHR9XG5cblx0Y29uZmlnKG9wdGlvbnMpIHtcblxuXHRcdC8vIE1lcmdlIHRoZSBjdXJyZW50IG9wdGlvbnNcblx0XHRleHRlbmQodGhpcy5vcHRpb25zLCBvcHRpb25zKTtcblxuXHRcdC8vIFNob3cgQ29udHJvbHNcblx0XHRzaG93Q29udHJvbHMuY2FsbCh0aGlzKTtcblx0fVxufVxuXG5cbi8vIEFkZCBTdGFnZSB0byB0aGUgYmFja2dyb3VuZFxuQmFja2dyb3VuZC5hZGQoU3RhZ2UpO1xuXG5cbmZ1bmN0aW9uIGluaXQoKSB7XG5cbi8vIFNob3cgdGV4dFxuXHR0aGlzLm9wdGlvbnMgPSB7XG5cdFx0Y29udHJvbHM6IHRydWVcblx0fTtcblxuLy8gQWRkIGEgdGV4dCBPYmplY3Rcbi8vIFdlIG9ubHkgaGF2ZSBvbmUgdGV4dCBPYmplY3Qgb24gdGhlIHNjcmVlbiBhdCBhIHRpbWUsIGxldHMgcmV1c2UgaXQuXG5cdGNvbnN0IHRpdGxlID0gbmV3IFRleHQoKTtcblx0dGl0bGUudGV4dCA9ICdGbG9vZCBJdCc7XG5cdHRpdGxlLmZvbnRTaXplID0gMTUwO1xuXHR0aXRsZS5hbGlnbiA9ICdjZW50ZXIgY2VudGVyJztcblx0dGl0bGUuY2FsYyh0aGlzLmNhbnZhcyk7XG5cdHRoaXMudGl0bGUgPSB0aXRsZTtcblxuXHRjb25zdCBjcmVkaXRzID0gbmV3IFRleHQoKTtcblx0Y3JlZGl0cy50ZXh0ID0gJ0VuZGVkJztcblx0Y3JlZGl0cy56SW5kZXggPSAxO1xuXHRjcmVkaXRzLmZvbnRTaXplID0gMTUwO1xuXHRjcmVkaXRzLmFsaWduID0gJ2NlbnRlciBjZW50ZXInO1xuXHRjcmVkaXRzLnZpc2libGUgPSBmYWxzZTtcblx0Y3JlZGl0cy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBzZXR1cC5iaW5kKHRoaXMpKTtcblx0Y3JlZGl0cy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0Jywgc2V0dXAuYmluZCh0aGlzKSk7XG5cdHRoaXMuY3JlZGl0cyA9IGNyZWRpdHM7XG5cbi8vIEhlbHBcblx0Y29uc3QgaW5mbyA9IG5ldyBUZXh0KCk7XG5cdGluZm8udGV4dCA9ICdTdGFydCBpbiB0aGUgdG9wIGxlZnQgY29ybmVyXFxuRmxvb2QgdGlsZXMgYnkgY29sb3JcXG5JbiBhcyBmZXcgbW92ZXMgYXMgcG9zc2libGUnO1xuXHRpbmZvLnpJbmRleCA9IDE7XG5cdGluZm8uYWxpZ24gPSAnY2VudGVyIGNlbnRlcic7XG5cdGluZm8uZm9udFNpemUgPSA0MDtcblx0aW5mby5jYWxjKHRoaXMuY2FudmFzKTtcblx0dGhpcy5pbmZvID0gaW5mbztcblxuXG5cdGNvbnN0IHNjb3JlID0gbmV3IFRleHQoKTtcblx0c2NvcmUuekluZGV4ID0gMTtcblx0c2NvcmUuYWxpZ24gPSAncmlnaHQgYm90dG9tJztcblx0c2NvcmUucG9pbnRlckV2ZW50cyA9IGZhbHNlO1xuXHRzY29yZS5mb250U2l6ZSA9IDQwO1xuXHR0aGlzLnNjb3JlID0gc2NvcmU7XG5cbi8vIElzIHRoaXMgcGxheWluZyBhcyBhIGJhY2tncm91bmQgaW1hZ2U/XG4vLyBXZSB3YW50IHRvIGRpc3BsYXkgYSBidXR0b24gdG8gZW5hYmxlIHBsYXlpbmcgaW4gZnVsbCBzY3JlZW4uXG5cdGNvbnN0IHBsYXlCdG4gPSBuZXcgVGV4dCgpO1xuXHRwbGF5QnRuLnRleHQgPSAn4pa6Jztcblx0cGxheUJ0bi56SW5kZXggPSAxO1xuXHRwbGF5QnRuLmFsaWduID0gJ2xlZnQgdG9wJztcblx0cGxheUJ0bi5mb250U2l6ZSA9IDQwO1xuXHRwbGF5QnRuLmNhbGModGhpcy5jYW52YXMpO1xuXHRwbGF5QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2V0dXAuYmluZCh0aGlzKSk7XG5cdHRoaXMucGxheUJ0biA9IHBsYXlCdG47XG5cblxuLy8gUmVidWlsZCB0aGUgYm9hcmQgb24gcmVzaXplXG5cdHRoaXMuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHNldHVwLmJpbmQodGhpcykpO1xuXG4vLyBVc2VyIGhhcyBjbGlja2VkIGFuIGl0ZW0gb24gdGhlIGNhbnZhc1xuLy8gV2UnbGwgdXNlIGV2ZW50IGRlbGVnYXRpb24gdG8gdGVsbCB1cyB3aGF0IHRoZSB1c2VyIGhhcyBjbGlja2VkLlxuXHR0aGlzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHVzZXJDbGljay5iaW5kKHRoaXMpKTtcblxufVxuXG5mdW5jdGlvbiB1c2VyQ2xpY2soZSkge1xuXG5cdC8vIEdldCB0aGUgaXRlbSBhdCB0aGUgY2xpY2sgbG9jYXRpb25cblx0Y29uc3QgdGFyZ2V0ID0gdGhpcy5jb2xsZWN0aW9uLmVsZW1lbnRGcm9tUG9pbnQoZS5vZmZzZXRYLCBlLm9mZnNldFkpO1xuXG5cdC8vIFRpbGUgQ2xpY2tlZFxuXHRpZiAodGFyZ2V0ICYmIHRhcmdldCBpbnN0YW5jZW9mIFRpbGUpIHtcblx0XHRwbGF5LmNhbGwodGhpcywgdGFyZ2V0KTtcblx0fVxuXHRlbHNlIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHQvLyBIYXMgdGhlIGdhbWUgc3RhdGUgY2hhbmdlZD9cblx0aWYgKHRoaXMuZmxvb2RlZCA+PSB0aGlzLnRpbGVzLmxlbmd0aCAmJiB0aGlzLmNsaWNrcyA8IHRoaXMubWF4X3RyaWVzKSB7XG5cdFx0dGhpcy5jcmVkaXRzLnRleHQgPSBgS3Vkb3MhICR7dGhpcy5jbGlja3MgKyAxfSBtb3Zlc2A7XG5cdFx0dGhpcy5jcmVkaXRzLmNhbGModGhpcy5jYW52YXMpO1xuXHRcdHRoaXMuZW5kZWQgPSB0cnVlO1xuXHR9XG5cdGVsc2UgaWYgKCsrdGhpcy5jbGlja3MgPj0gdGhpcy5tYXhfdHJpZXMpIHtcblx0XHR0aGlzLmNyZWRpdHMudGV4dCA9ICdHYW1lIG92ZXIhJztcblx0XHR0aGlzLmNyZWRpdHMuY2FsYyh0aGlzLmNhbnZhcyk7XG5cblx0XHR0aGlzLmVuZGVkID0gdHJ1ZTtcblx0fVxuXHRlbHNlIHtcblx0XHR0aGlzLmVuZGVkID0gZmFsc2U7XG5cdH1cblxuXHQvLyBDYWxjdWxhdGUgY2xpY2tzXG5cdHRoaXMuc2NvcmUudGV4dCA9IGAke3RoaXMuY2xpY2tzfS8ke3RoaXMubWF4X3RyaWVzfWA7XG5cdHRoaXMuc2NvcmUuY2FsYyh0aGlzLmNhbnZhcyk7XG5cblx0c2hvd0NvbnRyb2xzLmNhbGwodGhpcyk7XG59XG5cbmZ1bmN0aW9uIHNldHVwKCkge1xuXHQvLyBSZW1vdmUgZXZlcnl0aGluZ1xuXHR0aGlzLmNvbGxlY3Rpb24ubGVuZ3RoID0gMDtcblx0dGhpcy50aWxlcy5sZW5ndGggPSAwO1xuXG5cdHRoaXMuY2xpY2tzID0gMDtcblx0dGhpcy5zZWxlY3RlZENvbG9yID0gbnVsbDtcblx0dGhpcy5mbG9vZGVkID0gMTtcblx0dGhpcy5lbmRlZCA9IGZhbHNlO1xuXG5cdC8vIERlZmluZSB0eXBlIHNpemVcblx0Ly8gc2V0IHRpbGUgZGVmYXVsdCBXaWR0aCBhbmQgaGVpZ2h0XG5cdGxldCB3ID0gNTA7XG5cdGxldCBoID0gNTA7XG5cblx0Ly8gc2V0IG51bWJlciBvZiB0aWxlcyBob3Jpem9udGFsbHkgYW5kIHZlcnRpY2FsbHlcblx0dGhpcy5ueCA9IE1hdGguZmxvb3IodGhpcy5jYW52YXMud2lkdGggLyB3KTtcblx0dGhpcy5ueSA9IE1hdGguZmxvb3IodGhpcy5jYW52YXMuaGVpZ2h0IC8gaCk7XG5cblx0dGhpcy5tYXhfdHJpZXMgPSB0aGlzLm54ICsgdGhpcy5ueTtcblxuXHQvLyBEbyB0aGUgdGlsZXMgbm90IHBlcmZlY3RseSBmaXQgdGhlIHNwYWNlP1xuXHQvLyBzcGxpdCB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSB0aWxlcywgYWRkaW5nIHRvIHRoZSB3aWR0aHMgYW5kIGhlaWdodHNcblx0dyArPSBNYXRoLmZsb29yKCh0aGlzLmNhbnZhcy53aWR0aCAlICh0aGlzLm54ICogdykpIC8gdGhpcy5ueCk7XG5cdGggKz0gTWF0aC5mbG9vcigodGhpcy5jYW52YXMuaGVpZ2h0ICUgKHRoaXMubnkgKiBoKSkgLyB0aGlzLm55KTtcblxuXHQvLyBDcmVhdGUgdGlsZXNcblx0Zm9yIChsZXQgeSA9IDA7IHkgPCB0aGlzLm55OyB5KyspIHtcblx0XHRmb3IgKGxldCB4ID0gMDsgeCA8IHRoaXMubng7IHgrKykge1xuXG5cdFx0XHRjb25zdCB0aWxlID0gbmV3IFRpbGUoeCAqIHcsIHkgKiBoLCB3IC0gMSwgaCAtIDEpO1xuXHRcdFx0dGhpcy50aWxlcy5wdXNoKHRpbGUpO1xuXHRcdFx0dGhpcy5jb2xsZWN0aW9uLnB1c2godGlsZSk7XG5cdFx0XHR0aWxlLmdyaWQgPSBbeCwgeV07XG5cdFx0fVxuXHR9XG5cblx0Ly8gV3JpdGUgbWVzc2FnZVxuXHR0aGlzLmluZm8ueSA9IHRoaXMudGl0bGUueSArIHRoaXMudGl0bGUuaDtcblxuXHQvLyBBZGQgdGV4dCBpdGVtc1xuXHR0aGlzLmNvbGxlY3Rpb24ucHVzaCh0aGlzLnRpdGxlKTtcblx0dGhpcy5jb2xsZWN0aW9uLnB1c2godGhpcy5pbmZvKTtcblx0dGhpcy5jb2xsZWN0aW9uLnB1c2godGhpcy5jcmVkaXRzKTtcblx0dGhpcy5jb2xsZWN0aW9uLnB1c2godGhpcy5wbGF5QnRuKTtcblx0dGhpcy5jb2xsZWN0aW9uLnB1c2godGhpcy5zY29yZSk7XG5cblx0Ly8gU3RhcnRpbmcgc3RhdGVcblx0Ly8gU2VsZWN0IHRoZSBmaXJzdCB0aWxlLCAodG9wIGxlZnQgY29ybmVyKVxuXHQvLyBNYXJrIGFzIGZsb29kZWRcblx0dGhpcy50aWxlc1swXS5mbG9vZGVkID0gdHJ1ZTtcblxuXHQvLyBGbG9vZCBpdHMgbmVpZ2hib3VyaW5nIHRpbGVzIG9uIHN0YXJ0XG5cdHBsYXkuY2FsbCh0aGlzLCB0aGlzLnRpbGVzWzBdKTtcblxuXHQvLyBTb3J0IHRoZSBjb2xsZWN0aW9uIGJ5IHotaW5kZXggdGhpcyBlbnN1cmVzIGV2ZXJ5dGhpbmcgaXMgZHJhd24gaW4gdGhlIHJpZ2h0IG9yZGVyXG5cdHRoaXMuY29sbGVjdGlvbi5zb3J0KCk7XG5cblx0Ly8gU2hvdyBDb250cm9sc1xuXHRzaG93Q29udHJvbHMuY2FsbCh0aGlzKTtcbn1cblxuXG5mdW5jdGlvbiBwbGF5KHRpbGVTZWxlY3RlZCkge1xuXG5cdGlmICghdGlsZVNlbGVjdGVkKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0dGhpcy5zZWxlY3RlZENvbG9yID0gdGlsZVNlbGVjdGVkLmNvbG9ySW5kZXg7XG5cblx0Ly8gVHJpZ2dlciBGbG9vZGluZ1xuXHR0aGlzLnRpbGVzLmZvckVhY2godGlsZSA9PiB7XG5cdFx0aWYgKHRpbGUuZmxvb2RlZCkge1xuXHRcdFx0Zmxvb2QuY2FsbCh0aGlzLCB0aWxlKTtcblx0XHR9XG5cdH0pO1xufVxuXG4vLyBGbG9vZCB0aGlzIHRpbGUgd2l0aCB0aGUgbmV3IGNvbG91ciBhbmQgaXRzIG5laWdoYm91cnMgd2l0aCB0aGUgc2FtZSBjb2xvdXJcbmZ1bmN0aW9uIGZsb29kKHRpbGUpIHtcblxuXHRjb25zdCBbeCwgeV0gPSB0aWxlLmdyaWQ7XG5cblx0dGlsZS5jb2xvckluZGV4ID0gdGhpcy5zZWxlY3RlZENvbG9yO1xuXHR0aWxlLmZpbGxTdHlsZSA9IHBhbGF0ZVt0aGlzLnNlbGVjdGVkQ29sb3JdO1xuXG5cdC8vIE1hcmsgdGhpcyBhcyBuZWVkaW5nIHRvIGJlIHJlZHJhd25cblx0dGlsZS5kaXJ0eSA9IHRydWU7XG5cblx0Ly8gZmluZCBhbGwgdGlsZXMgbmV4dCB0byB0aGlzIG9uZS5cblx0Y29uc3QgZWRnZVRpbGVzID0gW1xuXHRcdChNYXRoLm1heCh5IC0gMSwgMCkgKiB0aGlzLm54KSArIHgsXG5cdFx0KHkgKiB0aGlzLm54KSArIE1hdGgubWluKHggKyAxLCB0aGlzLm54IC0gMSksXG5cdFx0KChNYXRoLm1pbih5ICsgMSwgdGhpcy5ueSAtIDEpKSAqIHRoaXMubngpICsgeCxcblx0XHQoeSAqIHRoaXMubngpICsgTWF0aC5tYXgoeCAtIDEsIDApXG5cdF07XG5cblx0ZWRnZVRpbGVzLmZvckVhY2goZWRnZSA9PiB7XG5cdFx0Y29uc3QgdGlsZSA9IHRoaXMudGlsZXNbZWRnZV07XG5cdFx0aWYgKGVkZ2UgPiAwICYmIHRpbGUpIHtcblx0XHRcdGlmICh0aWxlLmNvbG9ySW5kZXggPT09IHRoaXMuc2VsZWN0ZWRDb2xvciAmJiAhdGlsZS5mbG9vZGVkKSB7XG5cdFx0XHRcdHRpbGUuZmxvb2RlZCA9IHRydWU7XG5cdFx0XHRcdGZsb29kLmNhbGwodGhpcywgdGlsZSk7XG5cdFx0XHRcdHRoaXMuZmxvb2RlZCsrO1xuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG59XG5cbmZ1bmN0aW9uIHNob3dDb250cm9scygpIHtcblx0Ly8gU2hvdyBDb250cm9scyBhbmQgaW5mb3JtYXRpb24/XG5cdGNvbnN0IHNob3dDb250cm9scyA9IHRoaXMub3B0aW9ucy5jb250cm9scztcblxuXHR0aGlzLnRpdGxlLnZpc2libGUgPSB0aGlzLmNsaWNrcyA9PT0gMCAmJiAhdGhpcy5lbmRlZCAmJiBzaG93Q29udHJvbHM7XG5cdHRoaXMuaW5mby52aXNpYmxlID0gdGhpcy5jbGlja3MgPT09IDAgJiYgIXRoaXMuZW5kZWQgJiYgc2hvd0NvbnRyb2xzO1xuXHR0aGlzLnNjb3JlLnZpc2libGUgPSB0aGlzLmNsaWNrcyA+IDAgJiYgc2hvd0NvbnRyb2xzO1xuXHR0aGlzLmNyZWRpdHMudmlzaWJsZSA9IHRoaXMuZW5kZWQgJiYgc2hvd0NvbnRyb2xzO1xuXHR0aGlzLnBsYXlCdG4udmlzaWJsZSA9IHNob3dDb250cm9scztcbn1cbiJdfQ=="}