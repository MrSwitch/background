{"version":3,"sources":["dist/node_modules/browser-pack/_prelude.js","dist/node_modules/tricks/events/createDummyEvent.js","dist/node_modules/tricks/events/createEvent.js","dist/node_modules/tricks/object/Queue.js","dist/node_modules/tricks/object/extend.js","dist/node_modules/tricks/object/instanceOf.js","dist/node_modules/tricks/support/requestAnimationFrame.js","dist/src/classes/Background.js","dist/src/classes/canvas.js","dist/src/classes/collection.js","dist/src/classes/shape.js","dist/src/classes/text.js","dist/src/mineField.js"],"names":[],"mappings":"AAAA;;;ACAA,OAAO,OAAP,GAAiB,aAAK;AACrB,GAAE,eAAF,GAAoB,YAAM,CAAE,CAA5B;AACA,GAAE,cAAF,GAAmB,YAAM,CAAE,CAA3B;AACA,QAAO,CAAP;AACA,CAJD;;;;;ACAA;AACA;AACA,IAAM,OAAO,EAAC,SAAS,IAAV,EAAgB,YAAY,IAA5B,EAAb;;AAEA,IAAI,cAAc,qBAAC,SAAD;AAAA,KAAY,OAAZ,uEAAsB,IAAtB;AAAA,QACjB,IAAI,KAAJ,CAAU,SAAV,EAAqB,OAArB,CADiB;AAAA,CAAlB;;AAGA,IAAI;AACH,aAAY,MAAZ;AACA,CAFD,CAGA,OAAO,CAAP,EAAU;AACT,eAAc,qBAAC,SAAD,EAA+B;AAAA,MAAnB,OAAmB,uEAAT,IAAS;;AAC5C,MAAM,IAAI,SAAS,WAAT,CAAqB,OAArB,CAAV;AACA,IAAE,SAAF,CAAY,SAAZ,EAAuB,CAAC,CAAC,QAAQ,OAAjC,EAA0C,CAAC,CAAC,QAAQ,UAApD;AACA,SAAO,CAAP;AACA,EAJD;AAKA;;AAED,OAAO,OAAP,GAAiB,WAAjB;;;;;;;;;AClBA;AACA;AACA;AACA;;AAEA,OAAO,OAAP;AAEC,gBAAa,GAAb,EAAkB,OAAlB,EAA2B;AAAA;;AAC1B,OAAK,KAAL,GAAc,MAAM,OAAN,CAAc,GAAd,IAAqB,GAArB,GAA2B,EAAzC;AACA,OAAK,OAAL,GAAe,OAAf;AACA;;AAED;;;AAPD;AAAA;AAAA,yBAQgB;AAAA;;AAAA,qCAAN,IAAM;AAAN,QAAM;AAAA;;AAEd;AACA,QAAK,OAAL,CAAa;AAAA,WAAQ,MAAK,KAAL,CAAW,IAAX,CAAgB,IAAhB,CAAR;AAAA,IAAb;;AAEA;AACA,OAAI,KAAK,QAAT,EAAmB;AAClB,SAAK,OAAL,CAAa;AAAA,YAAQ,MAAK,QAAL,CAAc,IAAd,CAAR;AAAA,KAAb;AACA;AACD;;AAED;;AAnBD;AAAA;AAAA,sBAoBe;AACb,UAAO,KAAK,KAAL,CAAW,MAAlB;AACA,GAtBF;AAAA,oBAuBa,KAvBb,EAuBoB;AAClB,UAAO,KAAK,KAAL,CAAW,MAAX,GAAoB,KAA3B;AACA;;AAED;;AA3BD;AAAA;AAAA,sBA4BgB;AACd,UAAO,KAAK,QAAZ;AACA,GA9BF;AAAA,oBAgCc,QAhCd,EAgCwB;AAAA;;AAEtB,QAAK,QAAL,GAAgB,QAAhB;;AAEA,OAAI,KAAK,QAAT,EAAmB;AAClB,SAAK,KAAL,CAAW,OAAX,CAAmB;AAAA,YAAQ,OAAK,QAAL,CAAc,IAAd,CAAR;AAAA,KAAnB;AACA;AACD;AAvCF;;AAAA;AAAA;;;;;ACLA,IAAM,aAAa,QAAQ,iBAAR,CAAnB;;AAEA,OAAO,OAAP,GAAiB,SAAS,MAAT,CAAgB,CAAhB,EAA4B;AAAA,mCAAN,IAAM;AAAN,MAAM;AAAA;;AAC5C,MAAK,OAAL,CAAa,aAAK;AACjB,MAAI,MAAM,OAAN,CAAc,CAAd,KAAoB,MAAM,OAAN,CAAc,CAAd,CAAxB,EAA0C;AACzC,SAAM,SAAN,CAAgB,IAAhB,CAAqB,KAArB,CAA2B,CAA3B,EAA8B,CAA9B;AACA,GAFD,MAGK,IAAI,WAAW,CAAX,EAAc,MAAd,KAAyB,WAAW,CAAX,EAAc,MAAd,CAAzB,IAAkD,MAAM,CAA5D,EAA+D;AACnE,QAAK,IAAM,CAAX,IAAgB,CAAhB,EAAmB;AAClB,MAAE,CAAF,IAAO,OAAO,EAAE,CAAF,CAAP,EAAa,EAAE,CAAF,CAAb,CAAP;AACA;AACD,GAJI,MAKA,IAAI,MAAM,OAAN,CAAc,CAAd,CAAJ,EAAsB;AAC1B;AACA,OAAI,EAAE,KAAF,CAAQ,CAAR,CAAJ;AACA,GAHI,MAIA;AACJ,OAAI,CAAJ;AACA;AACD,EAhBD;AAiBA,QAAO,CAAP;AACA,CAnBD;;;;;ACFA,OAAO,OAAP,GAAiB,UAAC,IAAD,EAAO,IAAP;AAAA,SAAgB,QAAQ,gBAAgB,IAAxC;AAAA,CAAjB;;;;;ACAA;AACA,OAAO,qBAAP,GACC,OAAO,qBAAP,IACA,OAAO,2BADP,IAEA,OAAO,wBAFP,IAGA,OAAO,sBAHP,IAIA,OAAO,uBAJP,IAKC;AAAA,QAAY,WAAW,QAAX,EAAqB,OAAO,EAA5B,CAAZ;AAAA,CANF;;AAQA,OAAO,OAAP,GAAiB,OAAO,qBAAP,CAA6B,IAA7B,CAAkC,MAAlC,CAAjB;;;;;;;;;qjBCTA;AACA;;AAEA;;;;;;;;AAEA;AACA,IAAM,QAAQ,OAAO,UAAP,GAAoB,oBAAU,OAAO,UAAjB,CAAlC;;AAEA,SAAS,YAAT,CAAsB,QAAtB,EAAgC;AAC/B;AACA,UAAS,UAAT;AACA;;IAEoB,U;;;;;;;sBAET,K,EAAO;AACjB;AACA,cAAW,MAAX,CAAkB,IAAlB,CAAuB,KAAvB;;AAEA;AACA,OAAI,WAAW,MAAX,CAAkB,MAAlB,KAA6B,CAAjC,EAAoC;AACnC;AACA,UAAM,OAAN,GAAgB,YAAhB;AACA;AACD;;AAED;;;;uBACY,M,EAAQ;AACnB;AACA,OAAM,QAAQ,WAAW,MAAX,CAAkB,CAAlB,CAAd;;AAEA;AACA,OAAI,KAAJ,EAAW;AACV,WAAO,IAAI,KAAJ,CAAU,MAAV,CAAP;AACA;AACD;;;;;;kBAtBmB,U;;;AAyBrB,WAAW,MAAX,GAAoB,EAApB;;;;;;;;;qjBCtCA;AACA;;AAEA;;;AACA;;AACA;;;;AACA;;;;;;;;AAEA;AACA,IAAM,kBAAkB,YAAxB;AACA,IAAM,aAAa,CAAC,OAAD,EAAU,WAAV,EAAuB,SAAvB,EAAkC,WAAlC,EAA+C,WAA/C,EAA4D,UAA5D,EAAwE,OAAxE,EAAiF,QAAjF,CAAnB;AACA,IAAM,cAAc,CAAC,WAAD,EAAc,YAAd,EAA4B,UAA5B,CAApB;;AAEA,IAAM,kBAAkB,SAAxB;;IAEqB,M;;AAEpB;AACA;AACA,iBAAY,MAAZ,EAAoB;AAAA;;AAAA;;AAEnB,MAAI,eAAJ;;AAEA;AACA,OAAK,MAAL,GAAc,EAAd;;AAEA;AACA,MAAI,EAAE,gBAAgB,SAAS,aAAT,CAAuB,QAAvB,CAAlB,CAAJ,EAAyD;AACxD;AACA;AACA;;AAED,MAAI,EAAE,UAAU,kBAAkB,iBAA9B,CAAJ,EAAsD;;AAErD;AACA,YAAS,MAAT;;AAEA;AACA,YAAS,SAAS,aAAT,CAAuB,QAAvB,CAAT;AACA,UAAO,KAAP,CAAa,eAAb,GAA+B,OAA/B;;AAEA;AACA,OAAI,CAAC,MAAL,EAAa;AACZ;AACA,aAAS,SAAS,IAAlB;AACA,WAAO,KAAP,CAAa,OAAb,GAAuB,yCAAvB;AACA,WAAO,YAAP,CAAoB,UAApB,EAAgC,CAAhC;;AAEA,aAAS,eAAT,CAAyB,KAAzB,CAA+B,OAA/B,GAAyC,kBAAzC;AACA,aAAS,IAAT,CAAc,KAAd,CAAoB,OAApB,GAA8B,kBAA9B;;AAEA;AACA,WAAO,gBAAP,CAAwB,QAAxB,EAAkC,KAAK,MAAL,CAAY,IAAZ,CAAiB,IAAjB,CAAlC;AACA;;AAED;AACA,UAAO,YAAP,CAAoB,MAApB,EAA4B,OAAO,iBAAnC;;AAEA,QAAK,MAAL,GAAc,MAAd;;AAEA,QAAK,MAAL;AACA,GA7BD,MA8BK;AACJ,QAAK,MAAL,GAAc,MAAd;AACA,YAAS,OAAO,UAAhB;AACA;;AAED,OAAK,GAAL,GAAW,OAAO,UAAP,CAAkB,IAAlB,CAAX;;AAEA;AACA,OAAK,GAAL,CAAS,IAAT;;AAEA;AACA,OAAK,KAAL,GAAa,CAAb;AACA,OAAK,IAAL,GAAY,CAAZ;;AAEA;AACA,OAAK,IAAL;;AAEA;AACA,aAAW,OAAX,CAAmB;AAAA,UAAa,MAAK,MAAL,CAAY,gBAAZ,CAA6B,SAA7B,EAAwC,MAAK,aAAL,CAAmB,IAAnB,OAAxC,CAAb;AAAA,GAAnB;;AAEA;AACA,cAAY,OAAZ,CAAoB;AAAA,UAAa,MAAK,MAAL,CAAY,gBAAZ,CAA6B,SAA7B,EAAwC,MAAK,kBAAL,CAAwB,IAAxB,OAAxC,CAAb;AAAA,GAApB;;AAEA;AACA;AACA,MAAI,WAAW,SAAS,IAApB,IAA4B,OAAO,KAAP,CAAa,gBAAb,CAA8B,SAA9B,MAA6C,IAA7E,EAAmF;AAClF;AACA,cAAW,OAAX,CAAmB;AAAA,WAAa,SAAS,gBAAT,CAA0B,SAA1B,EAAqC,MAAK,aAAL,CAAmB,IAAnB,OAArC,CAAb;AAAA,IAAnB;;AAEA;AACA,eAAY,OAAZ,CAAoB;AAAA,WAAa,SAAS,gBAAT,CAA0B,SAA1B,EAAqC,MAAK,kBAAL,CAAwB,IAAxB,OAArC,CAAb;AAAA,IAApB;AACA;;AAED;AACA;AACC;AACA,OAAM,QAAQ,KAAK,MAAL,CAAY,KAA1B;AACA,OAAM,WAAW,MAAM,gBAAN,CAAuB,SAAvB,CAAjB;AACA;AACA,UAAO,gBAAP,CAAwB,YAAxB,EAAsC,WAAW,IAAX,CAAgB,KAAhB,EAAuB,QAAvB,CAAtC;;AAEA,cAAW,IAAX,CAAgB,KAAhB,EAAuB,QAAvB;AACA;AACD;;AAED;;;;;2BAiCS;AACR,OAAM,SAAU,KAAK,MAAL,CAAY,UAAZ,KAA2B,SAAS,IAArC,GAA6C,SAAS,eAAtD,GAAwE,KAAK,MAAL,CAAY,UAAnG;AACA,OAAM,SAAS,OAAO,YAAtB;AACA,OAAM,QAAQ,OAAO,WAArB;AACA,OAAI,UAAU,KAAd;;AAEA,OAAI,KAAK,KAAL,KAAe,KAAnB,EAA0B;AACzB,cAAU,IAAV;AACA,SAAK,KAAL,GAAa,KAAb;AACA;AACD,OAAI,KAAK,MAAL,KAAgB,MAApB,EAA4B;AAC3B,cAAU,IAAV;AACA,SAAK,MAAL,GAAc,MAAd;AACA;;AAED,OAAI,OAAJ,EAAa;AACZ,SAAK,MAAL,CAAY,aAAZ,CAA0B,2BAAY,QAAZ,CAA1B;AACA;AACD;;;0BAEO;AACP,QAAK,GAAL,CAAS,SAAT,CAAmB,CAAnB,EAAsB,CAAtB,EAAyB,KAAK,MAAL,CAAY,KAArC,EAA4C,KAAK,MAAL,CAAY,MAAxD;AACA;;AAED;;;;iCACe;;AAEd;AACA,UAAO,QAAP,CAAgB,IAAhB,GAAuB,eAAvB;AACA;;AAED;;;;yBACO;;AAEN;AACA,QAAK,GAAL;;AAEA;AACA,QAAK,MAAL,CAAY,aAAZ,CAA0B,2BAAY,OAAZ,CAA1B;;AAEA;AACA,yBAAsB,KAAK,IAAL,CAAU,IAAV,CAAe,IAAf,CAAtB;AACA;;AAED;;;;mCACiB,U,EAAY,O,EAAS;AAAA;;AAErC,cAAW,KAAX,CAAiB,eAAjB,EAAkC,OAAlC,CAA0C,qBAAa;AACtD;AACA,QAAI,EAAE,aAAa,OAAK,MAApB,CAAJ,EAAiC;AAChC,YAAK,MAAL,CAAY,SAAZ,IAAyB,EAAzB;AACA;;AAED,WAAK,MAAL,CAAY,SAAZ,EAAuB,IAAvB,CAA4B,OAA5B;AACA,IAPD;AAQA;;AAED;;;;gCACc,C,EAAG;;AAEhB,OAAI,EAAE,IAAF,IAAU,KAAK,MAAnB,EAA2B;;AAE1B,QAAM,SAAS,EAAE,aAAjB;;AAEA;AACA,QAAI,WAAW,QAAf,EAAyB;;AAExB,SAAI,gCAAiB;AACpB,YAAM,EAAE,IADY;AAEpB,cAAQ,KAAK,MAFO;AAGpB,eAAS,EAAE,KAAF,IAAW,EAAE,OAHF;AAIpB,eAAS,EAAE,KAAF,IAAW,EAAE;AAJF,MAAjB,CAAJ;AAMA;;AAED,SAAK,MAAL,CAAY,EAAE,IAAd,EAAoB,OAApB,CAA4B;AAAA,YAAW,QAAQ,CAAR,CAAX;AAAA,KAA5B;AACA,MAAE,cAAF;AACA,MAAE,eAAF;AACA;AACD;;AAED;;;;qCACmB,C,EAAG;AACrB;AACA;AACA,OAAM,QAAQ,CAAC,EAAE,OAAF,IAAa,EAAE,cAAhB,EAAgC,CAAhC,CAAd;AACA,OAAI,KAAJ,EAAW;AACV,MAAE,OAAF,GAAY,KAAK,GAAL,CAAS,MAAM,KAAN,IAAe,MAAM,OAA9B,CAAZ;AACA,MAAE,OAAF,GAAY,KAAK,GAAL,CAAS,MAAM,KAAN,IAAe,MAAM,OAA9B,CAAZ;AACA;;AAED,QAAK,aAAL,CAAmB,CAAnB;AACA;;;sBA5HW;AACX,UAAO,KAAK,MAAL,CAAY,KAAnB;AACA,G;oBACS,K,EAAO;AAChB,QAAK,MAAL,CAAY,KAAZ,GAAoB,KAApB;AACA,UAAO,KAAP;AACA;;;sBAEY;AACZ,UAAO,KAAK,MAAL,CAAY,MAAnB;AACA,G;oBACU,K,EAAO;AACjB,QAAK,MAAL,CAAY,MAAZ,GAAqB,KAArB;AACA,UAAO,KAAP;AACA;;;sBACS;AACT,UAAO,KAAK,IAAZ;AACA,G;oBACO,K,EAAO;;AAEd,QAAK,IAAL,GAAY,KAAZ;;AAEA,OAAM,MAAO,IAAI,IAAJ,EAAD,CAAa,OAAb,EAAZ;;AAEA,OAAK,MAAM,KAAK,KAAZ,GAAqB,IAAzB,EAA+B;AAC9B;AACA,SAAK,KAAL,GAAa,GAAb;AACA,SAAK,IAAL,GAAY,CAAZ;AACA;AACD;;;;;;kBA1HmB,M;;;AA6NrB,SAAS,UAAT,CAAoB,CAApB,EAAuB;;AAEtB,KAAM,SAAS,SAAf;;AAEA,KAAI,OAAO,QAAP,CAAgB,IAAhB,WAA8B,eAAlC,EAAqD;AACpD,MAAI,KAAJ;AACA;;AAED,KAAI,MAAM,SAAV,EAAqB;AACpB;AACA,OAAK,WAAL,CAAiB,MAAjB,EAAyB,CAAzB;AACA,EAHD,MAIK;AACJ;AACA,OAAK,cAAL,CAAoB,MAApB;AACA;AACD;;;;;;;;;;;;;AC5PD;;AAEA,IAAM,aAAa,CAAC,OAAD,EAAU,WAAV,EAAuB,SAAvB,EAAkC,WAAlC,EAA+C,WAA/C,EAA4D,UAA5D,EAAwE,WAAxE,EAAqF,YAArF,EAAmG,UAAnG,EAA+G,OAA/G,CAAnB;;IAEqB,U;AAEpB,qBAAY,MAAZ,EAAoB;AAAA;;AACnB;AACA,OAAK,QAAL,GAAgB,EAAhB;;AAEA;AACA,OAAK,MAAL,GAAc,EAAd;;AAEA;AACA,OAAK,IAAL,CAAU,MAAV;AACA;;AAED;;;;;uBACM,M,EAAQ;AAAA;;AAEb;AACA,QAAK,MAAL,GAAc,MAAd;;AAEA;AACA,QAAK,GAAL,GAAW,OAAO,UAAP,CAAkB,IAAlB,CAAX;;AAEA;AACA,cAAW,OAAX,CAAmB;AAAA,WAAa,OAAO,gBAAP,CAAwB,SAAxB,EAAmC,MAAK,gBAAL,CAAsB,IAAtB,OAAnC,CAAb;AAAA,IAAnB;AAEA;;;uBAEI,I,EAAM;AACV,QAAK,KAAL,GAAa,IAAb;;AAEA;AACA,OAAI,KAAK,QAAL,CAAc,OAAd,CAAsB,IAAtB,MAAgC,CAAC,CAArC,EAAwC;AACvC,QAAI,KAAK,KAAT,EAAgB;AACf,UAAK,KAAL,CAAW,IAAX;AACA;;AAED;AACA,SAAK,QAAL,CAAc,IAAd,CAAmB,IAAnB;AACA;AACD;;;;;AAUD;AACA;4BACU;AAAA;;AACT,QAAK,QAAL,CAAc,OAAd,CAAsB,gBAAQ;AAC7B,QAAI,KAAK,KAAL,KAAe,IAAnB,EACC,OAAK,YAAL,CAAkB,IAAlB;AACD,IAHD;AAIA;;AAED;;;;+BACa,I,EAAM;;AAElB,OAAM,MAAM,KAAK,GAAjB;;AAEA,OAAI,KAAK,KAAL,KAAe,SAAnB,EAA8B;AAC7B;AACA;;AAED;AACA,QAAK,KAAL,GAAa,SAAb;;AAEA;AACA,OAAI,SAAJ,CAAc,KAAK,CAAnB,EAAsB,KAAK,CAA3B,EAA8B,KAAK,CAAnC,EAAsC,KAAK,CAA3C;;AAEA;AACA,OAAI,KAAK,IAAL,IAAa,UAAU,KAAK,IAAf,EAAqB,IAArB,CAAjB,EAA6C;AAC5C,QAAI,SAAJ,CAAc,KAAK,IAAL,CAAU,CAAxB,EAA2B,KAAK,IAAL,CAAU,CAArC,EAAwC,KAAK,IAAL,CAAU,CAAlD,EAAqD,KAAK,IAAL,CAAU,CAA/D;AACA;;AAED;AACA,QAAK,QAAL,CAAc,OAAd,CAAsB,KAAK,gBAAL,CAAsB,IAAtB,CAA2B,IAA3B,EAAiC,IAAjC,CAAtB;AACA;;;mCAEgB,I,EAAM,O,EAAS;;AAE/B;AACA,OAAI,CAAC,QAAQ,KAAT,IAAkB,QAAQ,OAAR,KAAoB,KAAtC,KAAgD,UAAU,OAAV,EAAmB,IAAnB,MAA6B,KAAK,IAAL,GAAY,UAAU,OAAV,EAAmB,KAAK,IAAxB,CAAZ,GAA4C,KAAzE,CAAhD,CAAJ,EAAsI;AACrI;AACA,SAAK,YAAL,CAAkB,OAAlB;AACA;AACD;;;yBAEM;AACN;AACA,QAAK,QAAL,CAAc,IAAd,CAAmB,UAAC,CAAD,EAAI,CAAJ,EAAU;AAC5B,QAAI,EAAE,MAAF,IAAY,CAAhB;AACA,QAAI,EAAE,MAAF,IAAY,CAAhB;AACA,WAAO,EAAE,IAAI,CAAN,KAAY,EAAE,IAAI,CAAN,CAAnB;AACA,IAJD;AAKA;;AAED;;;;yBACO;;AAEN,OAAM,MAAM,KAAK,GAAjB;;AAEA;AACA;AACA,QAAK,QAAL,CAAc,OAAd,CAAsB,gBAAQ;;AAE7B,QAAI,KAAK,KAAT,EAAgB;AACf,UAAK,KAAL,CAAW,GAAX;AACA;;AAED,QAAI,KAAK,KAAL,IAAc,KAAK,OAAL,KAAiB,KAAnC,EAA0C;AACzC,UAAK,IAAL,CAAU,GAAV;AACA;;AAED,SAAK,KAAL,GAAa,KAAb;AACA,IAXD;AAYA;;;mCAEgB,C,EAAG,C,EAAG;;AAEtB,OAAI,eAAJ;;AAEA;AACA,OAAM,MAAM;AACX,QADW;AAEX,QAFW;AAGX,OAAG,CAHQ;AAIX,OAAG;AAJQ,IAAZ;;AAOA,QAAK,QAAL,CAAc,OAAd,CAAsB,gBAAQ;;AAE7B,QAAI,KAAK,OAAL,KAAiB,KAAjB,IAA0B,CAAC,KAAK,CAAhC,IAAqC,CAAC,KAAK,CAA3C,IAAgD,KAAK,aAAL,KAAuB,KAA3E,EAAkF;AACjF;AACA;;AAED;AACA,QAAI,UAAU,GAAV,EAAe,IAAf,CAAJ,EAA0B;AACzB;AACA,cAAS,IAAT;AACA;AACD,IAXD;;AAaA,UAAO,MAAP;AACA;;AAED;;;;mCACiB,S,EAAW,O,EAAS;;AAEpC;AACA,OAAI,EAAE,aAAa,KAAK,MAApB,CAAJ,EAAiC;AAChC,SAAK,MAAL,CAAY,SAAZ,IAAyB,EAAzB;AACA;;AAED,QAAK,MAAL,CAAY,SAAZ,EAAuB,IAAvB,CAA4B,OAA5B;AACA;;AAED;;;;gCACc,C,EAAG;AAChB,OAAI,EAAE,IAAF,IAAU,KAAK,MAAnB,EACC,KAAK,MAAL,CAAY,EAAE,IAAd,EAAoB,OAApB,CAA4B;AAAA,WAAW,QAAQ,CAAR,CAAX;AAAA,IAA5B;AACD;;AAED;;;;mCACiB,C,EAAG;AACnB;AACA,OAAK,OAAO,UAAP,KAAsB,WAAtB,IAAqC,aAAa,UAAnD,IACF,OAAO,UAAP,KAAsB,WAAtB,IAAqC,aAAa,UADpD,EACiE;;AAEhE;AACA,QAAM,MAAM;AACX,QAAG,EAAE,OADM;AAEX,QAAG,EAAE,OAFM;AAGX,QAAG,CAHQ;AAIX,QAAG;AAJQ,KAAZ;;AAOA,SAAK,QAAL,CAAc,OAAd,CAAsB,gBAAQ;;AAE7B,SAAI,CAAC,KAAK,OAAN,IAAiB,CAAC,KAAK,CAAvB,IAA4B,CAAC,KAAK,CAAlC,IAAuC,CAAC,KAAK,aAAjD,EAAgE;AAC/D;AACA;;AAED;AACA,eAAU,GAAV,EAAe,IAAf,KAAwB,KAAK,aAAL,CAAmB,CAAnB,CAAxB;AACA,KARD;AASA;AACD;;;sBArJa;AACb,UAAO,KAAK,QAAL,CAAc,MAArB;AACA,G;oBACW,C,EAAG;AACd,UAAO,KAAK,QAAL,CAAc,MAAd,GAAuB,CAA9B;AACA;;;;;;AAoJF;AACA;AACA;AACA;;;kBArMqB,U;AAsMrB,SAAS,SAAT,CAAmB,CAAnB,EAAsB,CAAtB,EAAyB;AACxB,QAAO,EAAE,EAAE,CAAF,GAAO,EAAE,CAAF,GAAM,EAAE,CAAf,IACR,EAAE,CAAF,GAAM,EAAE,CAAT,GAAc,EAAE,CADP,IAET,EAAE,CAAF,GAAO,EAAE,CAAF,GAAM,EAAE,CAFN,IAGR,EAAE,CAAF,GAAM,EAAE,CAAT,GAAc,EAAE,CAHT,CAAP;AAIA;;AAED,SAAS,SAAT,CAAmB,CAAnB,EAAsB,CAAtB,EAAyB;AACxB,QAAQ,EAAE,CAAF,KAAQ,EAAE,CAAV,IACR,EAAE,CAAF,KAAQ,EAAE,CADF,IAER,EAAE,CAAF,KAAQ,EAAE,CAFF,IAGR,EAAE,CAAF,KAAQ,EAAE,CAHV;AAIA;;;;;;;;;qjBCtND;AACA;AACA;AACA;;;AACA;;;;;;;;IAEqB,K;AAEpB,kBAAsB;AAAA;;AAErB;AACA,OAAK,MAAL,GAAc,EAAd;;AAEA,MAAI,UAAK,MAAT,EAAiB;AAChB;AACA,QAAK,QAAL;AACA;AACD;;AAEF;;;;;6BAmGsC;AAAA,OAA5B,CAA4B,uEAAxB,CAAwB;AAAA,OAArB,CAAqB,uEAAjB,CAAiB;AAAA,OAAd,CAAc,uEAAV,CAAU;AAAA,OAAP,CAAO,uEAAH,CAAG;;;AAEpC,OAAI,CAAC,KAAK,IAAV,EAAgB;AACf;AACA,SAAK,IAAL,GAAY,EAAZ;AACA;;AAED,QAAK,IAAL,CAAU,CAAV,GAAc,KAAK,CAAnB;AACA,QAAK,IAAL,CAAU,CAAV,GAAc,KAAK,CAAnB;AACA,QAAK,IAAL,CAAU,CAAV,GAAc,KAAK,CAAnB;AACA,QAAK,IAAL,CAAU,CAAV,GAAc,KAAK,CAAnB;;AAEA;AACA;AACA,QAAK,CAAL,GAAS,CAAT;AACA,QAAK,CAAL,GAAS,CAAT;AACA,QAAK,CAAL,GAAS,CAAT;AACA,QAAK,CAAL,GAAS,CAAT;AACA;;AAED;;;;0BACQ,CAAE;;;yBACH,CAAE;;;0BACD,CAAE;;AAEV;AACA;AACA;;;;mCACiB,S,EAAW,Q,EAAU;AACrC,OAAI,EAAE,aAAa,KAAK,MAApB,CAAJ,EAAiC;AAChC,SAAK,MAAL,CAAY,SAAZ,IAAyB,EAAzB;AACA;AACD,QAAK,MAAL,CAAY,SAAZ,EAAuB,IAAvB,CAA4B,QAA5B;AACA;;;gCAEa,C,EAAG;AAChB,OAAI,EAAE,EAAE,IAAF,IAAU,KAAK,MAAjB,CAAJ,EAA8B;AAC7B;AACA;AACD,QAAK,MAAL,CAAY,EAAE,IAAd,EAAoB,OAApB,CAA4B;AAAA,WAAM,GAAG,CAAH,CAAN;AAAA,IAA5B;AACA;;AAED;;;;iCACe,Q,EAAU;AACxB,UAAO,cAAP,CAAsB,IAAtB,EAA4B,QAA5B,EAAsC;AACrC,SAAK,KAAK,OAAL,CAAa,IAAb,CAAkB,IAAlB,EAAwB,QAAxB,CADgC;AAErC,SAAK,KAAK,OAAL,CAAa,IAAb,CAAkB,IAAlB,EAAwB,QAAxB;AAFgC,IAAtC;AAIA;;;0BAEO,Q,EAAU;AACjB,UAAO,WAAU,QAAV,CAAP;AACA;;;0BAEO,Q,EAAU,C,EAAG;AACpB,OAAI,WAAU,QAAV,MAA0B,CAA9B,EAAiC;AAChC,SAAK,KAAL,GAAa,IAAb;AACA,eAAU,QAAV,IAAwB,CAAxB;AACA;AACD;;;sBA7JO;AACP,UAAO,KAAK,EAAZ;AACA,G;oBACK,C,EAAG;AACR,OAAI,KAAK,EAAL,KAAY,CAAhB,EAAmB;AAClB,SAAK,KAAL,GAAa,IAAb,CAAmB,KAAK,EAAL,GAAU,CAAV;AACnB;AACD;;;sBAEO;AACP,UAAO,KAAK,EAAZ;AACA,G;oBACK,C,EAAG;AACR,OAAI,KAAK,EAAL,KAAY,CAAhB,EAAmB;AAClB,SAAK,KAAL,GAAa,IAAb,CAAmB,KAAK,EAAL,GAAU,CAAV;AACnB;AACD;;;sBAEO;AACP,UAAO,KAAK,EAAZ;AACA,G;oBACK,C,EAAG;AACR,OAAI,KAAK,EAAL,KAAY,CAAhB,EAAmB;AAClB,SAAK,KAAL,GAAa,IAAb,CAAmB,KAAK,EAAL,GAAU,CAAV;AACnB;AACD;;;sBAEO;AACP,UAAO,KAAK,EAAZ;AACA,G;oBACK,C,EAAG;AACR,OAAI,KAAK,EAAL,KAAY,CAAhB,EAAmB;AAClB,SAAK,KAAL,GAAa,IAAb,CAAmB,KAAK,EAAL,GAAU,CAAV;AACnB;AACD;;;sBAEQ;AACR,UAAO,KAAK,GAAZ;AACA,G;oBACM,C,EAAG;AACT,OAAI,KAAK,GAAL,KAAa,CAAjB,EAAoB;AACnB,SAAK,KAAL,GAAa,IAAb,CAAmB,KAAK,GAAL,GAAW,CAAX;AACnB;AACD;;;sBAEQ;AACR,UAAO,KAAK,GAAZ;AACA,G;oBACM,C,EAAG;AACT,OAAI,KAAK,GAAL,KAAa,CAAjB,EAAoB;AACnB,SAAK,KAAL,GAAa,IAAb,CAAmB,KAAK,GAAL,GAAW,CAAX;AACnB;AACD;;;sBAEa;AACb,UAAQ,KAAK,QAAL,KAAkB,SAAlB,GAA8B,IAA9B,GAAqC,KAAK,QAAlD;AACA,G;oBACW,C,EAAG;AACd,OAAI,KAAK,QAAL,KAAkB,CAAtB,EAAyB;AACxB,SAAK,KAAL,GAAa,IAAb,CAAmB,KAAK,QAAL,GAAgB,CAAhB;AACnB;AACD;;;sBAEa;AACb,UAAQ,KAAK,QAAL,KAAkB,SAAlB,GAA8B,CAA9B,GAAkC,KAAK,QAA/C;AACA,G;oBACW,C,EAAG;AACd,OAAI,KAAK,QAAL,KAAkB,CAAtB,EAAyB;AACxB,SAAK,KAAL,GAAa,IAAb,CAAmB,KAAK,QAAL,GAAgB,CAAhB;AACnB;AACD;;;oBAEU,C,EAAG;AACb;AACA,OAAI,CAAC,KAAK,MAAN,IAAgB,CAApB,EAAuB;AACtB;AACA,SAAK,MAAL,GAAc,CAAd;;AAEA;AACA,SAAK,aAAL,CAAmB,2BAAY,OAAZ,CAAnB;AACA,IAND,MAOK,IAAI,CAAC,CAAL,EAAQ;AACZ;AACA,SAAK,MAAL,GAAc,CAAd;AACA;AACD,G;sBACY;AACZ,UAAO,KAAK,MAAZ;AACA;;AAED;;;;sBACqB;AACpB,UAAQ,KAAK,cAAL,KAAwB,SAAxB,GAAoC,CAApC,GAAwC,KAAK,cAArD;AACA,G;oBACkB,C,EAAG;AACrB,QAAK,cAAL,GAAsB,CAAtB;AACA;;;;;;kBA9GmB,K;;;;;;;;;;;;;ACHrB;;;;;;;;;;+eAHA;AACA;;IAIqB,I;;;AAEpB;AACA,eAAa,IAAb,EAAmB;AAAA;;AAIlB;AAJkB;AAClB;;;AAIA,GAAC,MAAD,EAAS,YAAT,EAAuB,aAAvB,EAAsC,WAAtC,EAAmD,aAAnD,EAAkE,WAAlE,EAA+E,cAA/E,EAA+F,WAA/F,EAA4G,OAA5G,CAAoH,MAAK,cAAL,CAAoB,IAApB,OAApH;;AAEA;AACA,QAAK,IAAL,GAAY,QAAQ,EAApB;;AAEA,QAAK,WAAL,GAAmB,OAAnB;AACA,QAAK,SAAL,GAAiB,OAAjB;AACA,QAAK,WAAL,GAAmB,OAAnB;AACA,QAAK,SAAL,GAAiB,MAAjB;AACA,QAAK,YAAL,GAAoB,KAApB;AACA,QAAK,SAAL,GAAiB,CAAjB;AACA,QAAK,KAAL,GAAa,UAAb;AACA,QAAK,QAAL,GAAgB,EAAhB;AAjBkB;AAkBlB;;AAED;;;;;uBACM,M,EAAQ;AAAA,sBAGyB,KAAK,KAAL,CAAW,KAAX,CAAiB,GAAjB,CAHzB;;AAEb;;;AAFa;;AAGZ,QAAK,SAHO;AAGI,QAAK,YAHT;;;AAKb,OAAM,MAAM,OAAO,GAAnB;AACA,OAAI,WAAW,KAAK,QAApB;;AAEA;AACA,QAAK,KAAL,GAAa,KAAK,IAAL,CAAU,QAAV,GAAqB,KAArB,CAA2B,IAA3B,CAAb;;AAEA;AACA,OAAI,SAAS,CAAb;AACA,OAAI,eAAe,KAAK,KAAL,CAAW,CAAX,CAAnB;;AAEA,QAAK,KAAL,CAAW,OAAX,CAAmB,gBAAQ;AAC1B,QAAM,KAAK,IAAI,WAAJ,CAAgB,IAAhB,EAAsB,KAAjC;AACA,QAAI,KAAK,MAAT,EAAiB;AAChB,cAAS,EAAT;AACA,oBAAe,IAAf;AACA;AACD,IAND;;AAQA;AACA;AACA,OAAI,IAAJ;;AAEA,OAAI,WAAJ,GAAkB,OAAlB;AACA,OAAI,SAAJ,GAAgB,OAAhB;AACA,OAAI,WAAJ,GAAkB,uBAAlB;AACA,OAAI,IAAJ,aAAoB,QAApB;;AAEA,UAAO,IAAI,WAAJ,CAAgB,YAAhB,EAA8B,KAA9B,GAAsC,OAAO,KAApD,EAA2D;AAC1D,gBAAY,GAAZ;AACA,eAAW,KAAK,KAAL,CAAW,QAAX,CAAX;AACA,QAAI,IAAJ,aAAoB,QAApB;AACA;;AAED,QAAK,UAAL,GAAkB,IAAI,UAAJ,GAAiB,KAAK,KAAL,CAAW,WAAW,EAAtB,CAAnC;AACA,QAAK,QAAL,GAAgB,QAAhB;AACA,QAAK,IAAL,GAAY,IAAI,IAAhB;;AAEA,QAAK,CAAL,GAAS,IAAI,WAAJ,CAAgB,YAAhB,EAA8B,KAA9B,GAAuC,KAAK,UAAL,GAAkB,CAAlE;AACA,QAAK,CAAL,GAAS,CAAC,WAAY,KAAK,UAAL,GAAkB,CAA/B,IAAqC,KAAK,KAAL,CAAW,MAAzD;;AAEA,OAAI,OAAJ;;AAEA;AACA;AACA,QAAK,SAAL,GAAiB,KAAK,KAAL,CAAW,WAAW,EAAtB,CAAjB;;AAGA;AACA,WAAQ,KAAK,SAAb;AACC,SAAK,QAAL;AACA,SAAK,QAAL;AACC,UAAK,SAAL,GAAiB,QAAjB;AACA,UAAK,CAAL,GAAU,OAAO,KAAP,GAAe,CAAhB,GAAsB,KAAK,CAAL,GAAS,CAAxC;AACA;AACD,SAAK,MAAL;AACC,UAAK,CAAL,GAAS,CAAT;AACA;AACD,SAAK,OAAL;AACC,UAAK,CAAL,GAAS,OAAO,KAAP,GAAe,KAAK,CAA7B;AACA;AAXF;;AAcA,WAAQ,KAAK,YAAb;AACC,SAAK,QAAL;AACA,SAAK,QAAL;AACC,UAAK,YAAL,GAAoB,QAApB;AACA,UAAK,CAAL,GAAU,OAAO,MAAP,GAAgB,CAAjB,GAAuB,KAAK,CAAL,GAAS,CAAzC;AACA;AACD,SAAK,KAAL;AACC,UAAK,CAAL,GAAS,CAAT;AACA;AACD,SAAK,QAAL;AACC,UAAK,CAAL,GAAS,OAAO,MAAP,GAAgB,KAAK,CAA9B;AACA;AAXF;;AAcA,QAAK,SAAL,GAAiB,MAAjB;AACA,QAAK,YAAL,GAAoB,KAApB;;AAEA,OAAI,OAAJ;AACA;;AAED;;;;uBACM,G,EAAK;AAAA;;AAEV,OAAI,IAAJ;;AAEA,OAAI,WAAJ,GAAkB,KAAK,OAAvB;;AAEA,OAAI,WAAJ,GAAkB,KAAK,WAAvB;AACA,OAAI,KAAK,UAAT,EAAqB;AACpB,QAAI,UAAJ,GAAiB,KAAK,UAAtB;AACA;AACD,OAAI,SAAJ,GAAgB,KAAK,SAArB;AACA,OAAI,WAAJ,GAAkB,KAAK,WAAvB;AACA,OAAI,IAAJ,GAAW,KAAK,IAAhB;;AAEA,OAAI,SAAJ,GAAgB,KAAK,SAArB;AACA,OAAI,YAAJ,GAAmB,KAAK,YAAxB;AACA,OAAI,SAAJ,GAAgB,KAAK,SAArB;;AAEA,OAAI,KAAK,SAAT,EAAoB;AACnB,QAAI,SAAJ,GAAgB,KAAK,SAArB;AACA;;AAED,QAAK,KAAL,GAAa,KAAK,IAAL,CAAU,QAAV,GAAqB,KAArB,CAA2B,IAA3B,CAAb;;AAEA,OAAM,MAAM,KAAK,KAAL,CAAW,MAAvB;;AAEA,QAAK,KAAL,CAAW,OAAX,CAAmB,UAAC,IAAD,EAAO,KAAP,EAAiB;AACnC,QAAM,IAAI,OAAK,CAAL,IAAU,OAAK,CAAL,GAAU,SAAS,OAAK,CAAL,GAAS,GAAlB,CAAV,GAAoC,CAA9C,CAAV;;AAEA,QAAI,QAAJ,CAAa,IAAb,EAAmB,OAAK,CAAxB,EAA2B,CAA3B;AACA,QAAI,OAAK,WAAT,EAAsB;AACrB,SAAI,UAAJ,CAAe,IAAf,EAAqB,OAAK,CAA1B,EAA6B,CAA7B;AACA;AACD,IAPD;;AASA,OAAI,OAAJ;AACA;;;;;;kBApJmB,I;;;;;;;qjBCLrB;AACA;;AAEA;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;AAGA;AACA;IACM,I;AAEL,iBAAsB;AAAA;;AAErB;AACA,OAAK,QAAL;;AAEA;AACA;AACA,OAAK,IAAL,GAAY,KAAK,MAAL,KAAiB,IAAI,CAAjC;;AAEA;AACA,OAAK,MAAL,GAAc,KAAd;;AAEA;AACA,OAAK,IAAL,GAAY,CAAC,CAAD,EAAI,CAAJ,CAAZ;;AAEA;AACA,OAAK,SAAL,GAAiB,MAAjB;;AAEA;AACA,OAAK,IAAL,GAAY,CAAZ,CAnBqB,CAmBN;AACf;;;;2BAEQ,C,EAAG,C,EAAG,C,EAAG,C,EAAG;AACpB,QAAK,CAAL,GAAS,CAAT;AACA,QAAK,CAAL,GAAS,CAAT;AACA,QAAK,CAAL,GAAS,CAAT;AACA,QAAK,CAAL,GAAS,CAAT;AACA,QAAK,KAAL,GAAa,IAAb;AACA;;;0BAEO,CAAE;;;0BACF,CAAE;;;uBACL,G,EAAK;AACT,OAAI,SAAJ,GAAgB,KAAK,SAArB;AACA,OAAI,QAAJ,CAAa,KAAK,CAAlB,EAAqB,KAAK,CAA1B,EAA6B,KAAK,CAAlC,EAAqC,KAAK,CAA1C;AACA;;;sBAEU;AACV,UAAO,MAAP;AACA;;;;;;AAGF;;;;;;;;IAMM,K;AACL,kBAAc;AAAA;;AAAA;;AAEb,OAAK,OAAL,GAAe;AACd,aAAU;AADI,GAAf;;AAIA,OAAK,KAAL,GAAa,EAAb,EACA,KAAK,KAAL,GAAa,EADb,EAEA,KAAK,OAAL,GAAe,CAFf,EAGA,KAAK,IAAL,GAAY,KAHZ,EAIA,KAAK,KAAL,GAAa,KAJb;;AAMF;AACE,MAAM,SAAS,sBAAf;AACA,OAAK,MAAL,GAAc,MAAd;;AAEF;AACE,MAAM,aAAa,yBAAe,OAAO,MAAtB,CAAnB;AACA,OAAK,UAAL,GAAkB,UAAlB;;AAEF;AACA;;AAEE,MAAM,QAAQ,oBAAd;AACA,QAAM,IAAN,GAAa,WAAb;AACA,QAAM,KAAN,GAAc,eAAd;AACA,QAAM,QAAN,GAAiB,GAAjB;AACA,QAAM,MAAN,GAAe,CAAf;AACA,QAAM,IAAN,CAAW,MAAX;AACA,QAAM,aAAN,GAAsB,KAAtB;AACA,OAAK,KAAL,GAAa,KAAb;;AAEA,MAAM,OAAO,oBAAb;AACA,OAAK,IAAL,GAAY,gBAAZ;AACA,OAAK,KAAL,GAAa,eAAb;AACA,OAAK,QAAL,GAAgB,EAAhB;AACA,OAAK,MAAL,GAAc,CAAd;AACA,OAAK,IAAL,CAAU,MAAV;AACA,OAAK,aAAL,GAAqB,KAArB;AACA,OAAK,CAAL,GAAS,KAAK,CAAL,GAAS,MAAM,CAAxB;AACA,OAAK,IAAL,GAAY,IAAZ;;AAEA,MAAM,UAAU,oBAAhB;AACA,UAAQ,KAAR,GAAgB,eAAhB;AACA,UAAQ,MAAR,GAAiB,CAAjB;AACA,UAAQ,QAAR,GAAmB,GAAnB;AACA,UAAQ,IAAR,CAAa,MAAb;AACA,UAAQ,aAAR,GAAwB,KAAxB;AACA,OAAK,OAAL,GAAe,OAAf;;AAEF;;;;AAIE,SAAO,gBAAP,CAAwB,WAAxB,EAAqC;AAAA,UAAK,UAAU,IAAV,QAAqB,EAAE,OAAvB,EAAgC,EAAE,OAAlC,CAAL;AAAA,GAArC;AACA,SAAO,gBAAP,CAAwB,YAAxB,EAAsC;AAAA,UAAK,UAAU,IAAV,QAAqB,EAAE,OAAvB,EAAgC,EAAE,OAAlC,CAAL;AAAA,GAAtC;AACA,SAAO,gBAAP,CAAwB,QAAxB,EAAkC,OAAM,IAAN,CAAW,IAAX,CAAlC;AACA,SAAO,gBAAP,CAAwB,OAAxB,EAAiC,YAAM;;AAEtC;AACA,cAAW,OAAX;;AAEA;AACA,cAAW,IAAX;AAEA,GARD;AAWA;;;;wBACK,O,EAAS;;AAEd;AACA,QAAK,MAAL,CAAY,OAAZ;;AAEA;AACA,UAAM,IAAN,CAAW,IAAX;AACA;;;yBACM,O,EAAS;;AAEf;AACA,yBAAO,KAAK,OAAZ,EAAqB,OAArB;;AAEA;AACA,gBAAa,IAAb,CAAkB,IAAlB;AACA;;;;;;AAIF;;;AACA,qBAAW,GAAX,CAAe,KAAf;;AAEA,SAAS,SAAT,CAAmB,CAAnB,EAAsB,CAAtB,EAAyB;;AAExB;AACA,KAAI,KAAK,KAAT,EAAgB;AACf,SAAM,IAAN,CAAW,IAAX;AACA;AACA;;AAED;AACA,KAAM,SAAS,KAAK,UAAL,CAAgB,gBAAhB,CAAiC,CAAjC,EAAoC,CAApC,CAAf;;AAEA,KAAI,UAAU,OAAO,IAAP,KAAgB,MAA9B,EAAsC;AACrC,OAAK,IAAL,CAAU,IAAV,EAAgB,MAAhB;AACA;AACD;;AAGD;AACA,SAAS,MAAT,GAAiB;;AAEhB,KAAM,SAAS,KAAK,MAApB;AACA,KAAM,aAAa,KAAK,UAAxB;AACA,KAAM,QAAQ,KAAK,KAAnB;AACA,KAAM,QAAQ,KAAK,KAAnB;;AAEA;AACA;;AAEA,MAAK,KAAL,CAAW,MAAX,GAAoB,CAApB;AACA,MAAK,OAAL,GAAe,CAAf;AACA,MAAK,IAAL,GAAY,KAAZ;AACA,MAAK,KAAL,GAAa,KAAb;;AAEA,OAAM,MAAN,GAAe,CAAf;AACA,YAAW,MAAX,GAAoB,CAApB;;AAEA,KAAI,UAAJ;AACA,KAAI,UAAJ;;AAEA,KAAI,IAAI,EAAR;;AAEA;AACA,KAAM,KAAK,KAAK,KAAL,CAAW,OAAO,KAAP,GAAe,CAA1B,CAAX;AACA,KAAM,KAAK,KAAK,KAAL,CAAW,OAAO,MAAP,GAAgB,CAA3B,CAAX;;AAEA,MAAK,EAAL,GAAU,EAAV;AACA,MAAK,EAAL,GAAU,EAAV;;AAEA;AACA;AACA,MAAK,KAAK,KAAL,CAAY,OAAO,KAAP,IAAgB,KAAK,CAArB,CAAD,GAA4B,EAAvC,CAAL;AACA,MAAK,KAAK,KAAL,CAAY,OAAO,MAAP,IAAiB,KAAK,CAAtB,CAAD,GAA6B,EAAxC,CAAL;;AAEA;AACA,MAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,EAApB,EAAwB,GAAxB,EAA6B;AAC5B,OAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,EAApB,EAAwB,GAAxB,EAA6B;;AAE5B,OAAM,OAAO,IAAI,IAAJ,CAAS,IAAI,CAAb,EAAgB,IAAI,CAApB,EAAuB,IAAI,CAA3B,EAA8B,IAAI,CAAlC,CAAb;AACA,QAAK,IAAL,GAAY,CAAC,CAAD,EAAI,CAAJ,CAAZ;AACA,SAAM,IAAN,CAAW,IAAX;AACA,cAAW,IAAX,CAAgB,IAAhB;;AAEA;AACA,OAAI,KAAK,IAAT,EAAe;AACd,UAAM,IAAN,CAAW,IAAX;AACA;AACD;AACD;;AAED,KAAM,UAAU,KAAK,OAArB;AACA,KAAM,OAAO,KAAK,IAAlB;AACA,KAAM,QAAQ,KAAK,KAAnB;;AAEA;AACA,YAAW,IAAX,CAAgB,KAAhB;AACA,YAAW,IAAX,CAAgB,OAAhB;AACA,YAAW,IAAX,CAAgB,IAAhB;;AAEA;AACA,cAAa,IAAb,CAAkB,IAAlB;;AAEA,SAAQ,OAAR,GAAkB,KAAlB;;AAEA;AACA,YAAW,IAAX;AACA;;AAED,SAAS,IAAT,CAAc,IAAd,EAAoB;AAAA;;AAEnB,KAAM,QAAQ,KAAK,KAAnB;AACA,KAAM,QAAQ,KAAK,KAAnB;AACA,KAAM,UAAU,KAAK,OAArB;AACA,KAAM,OAAO,KAAK,IAAlB;AACA,KAAM,QAAQ,KAAK,KAAnB;;AAEA,KAAI,CAAC,IAAL,EAAW;AACV,SAAO,IAAP;AACA;;AAED;AACA;AACA,KAAI,KAAK,OAAL,KAAiB,CAArB,EAAwB;AACvB;AACA,OAAK,IAAL,GAAY,KAAZ;AACA;;AAED;AACA,KAAI,KAAK,IAAT,EAAe;AACd,OAAK,IAAL,GAAY,IAAZ;AACA;AACD;AAHA,MAIK,IAAI,CAAC,KAAK,MAAV,EAAkB;AACtB;AACA,SAAM,IAAN,CAAW,IAAX,EAAiB,IAAjB;AACA;;AAED,KAAM,KAAK,OAAL,GAAe,MAAM,MAAtB,KAAkC,MAAM,MAAzC,IAAoD,KAAK,IAA7D,EAAmE;;AAElE;AACA,QAAM,OAAN,CAAc;AAAA,UAAQ,SAAS,IAAT,SAAoB,IAApB,CAAR;AAAA,GAAd;;AAEA;AACA,OAAK,KAAL,GAAa,IAAb;;AAEA;AACA,UAAQ,IAAR,GAAe,KAAK,IAAL,GAAY,OAAZ,GAAsB,QAArC;AACA,UAAQ,IAAR,CAAa,KAAK,MAAlB;AACA,OAAK,IAAL,GAAY,gBAAZ;;AAEA;AACA,eAAa,IAAb,CAAkB,IAAlB;AACA,EAfD,MAgBK;AACJ,QAAM,OAAN,GAAgB,KAAhB;AACA,OAAK,OAAL,GAAe,KAAf;AACA,UAAQ,OAAR,GAAkB,KAAlB;AACA;AAED;;AAED;AACA,SAAS,KAAT,CAAe,IAAf,EAAqB;;AAEpB,KAAM,KAAK,KAAK,EAAhB;AACA,KAAM,KAAK,KAAK,EAAhB;AACA,KAAM,QAAQ,KAAK,KAAnB;;AAJoB,iCAML,KAAK,IANA;AAAA,KAMb,CANa;AAAA,KAMV,CANU;;AAQpB,KAAI,KAAK,MAAT,EAAiB;AAChB;AACA;;AAED;AACA,MAAK,OAAL;;AAEA;AACA;AACA,KAAM,YAAY,CAChB,KAAK,GAAL,CAAS,IAAI,CAAb,EAAgB,CAAhB,IAAqB,EAAtB,GAA4B,KAAK,GAAL,CAAS,IAAI,CAAb,EAAgB,CAAhB,CADX,EAEd,KAAK,GAAL,CAAS,IAAI,CAAb,EAAgB,CAAhB,IAAqB,EAAtB,GAA4B,CAFb,EAGd,KAAK,GAAL,CAAS,IAAI,CAAb,EAAgB,CAAhB,IAAqB,EAAtB,GAA4B,KAAK,GAAL,CAAS,IAAI,CAAb,EAAgB,KAAK,CAArB,CAHb,EAId,IAAI,EAAL,GAAW,KAAK,GAAL,CAAS,IAAI,CAAb,EAAgB,KAAK,CAArB,CAJI,EAKb,KAAK,GAAL,CAAS,IAAI,CAAb,EAAgB,KAAK,CAArB,CAAD,GAA4B,EAA7B,GAAmC,KAAK,GAAL,CAAS,IAAI,CAAb,EAAgB,KAAK,CAArB,CALpB,EAMb,KAAK,GAAL,CAAS,IAAI,CAAb,EAAgB,KAAK,CAArB,CAAD,GAA4B,EAA7B,GAAmC,CANpB,EAOb,KAAK,GAAL,CAAS,IAAI,CAAb,EAAgB,KAAK,CAArB,CAAD,GAA4B,EAA7B,GAAmC,KAAK,GAAL,CAAS,IAAI,CAAb,EAAgB,CAAhB,CAPpB,EAQd,IAAI,EAAL,GAAW,KAAK,GAAL,CAAS,IAAI,CAAb,EAAgB,CAAhB,CARI,EAUjB,MAViB,CAUV,UAAC,GAAD,EAAM,KAAN,EAAa,GAAb;AAAA,SAAqB,IAAI,OAAJ,CAAY,GAAZ,MAAqB,KAArB,IAA8B,MAAM,GAAN,CAAnD;AAAA,EAVU,EAWjB,GAXiB,CAWb;AAAA,SAAO,MAAM,GAAN,CAAP;AAAA,EAXa,CAAlB;;AAaA;AACA;AACA;AACA,WACC,OADD,CACS,iBAAS;AACjB,OAAK,IAAL,IAAa,CAAC,MAAM,IAApB;AACA,EAHD;;AAKA;AACA,MAAK,MAAL,GAAc,IAAd;;AAEA;AACA,UAAS,IAAT,CAAc,IAAd,EAAoB,IAApB;;AAEA;AACA;AACA,KAAI,KAAK,IAAL,KAAc,CAAlB,EAAqB;AACpB,YAAU,OAAV,CAAkB,MAAM,IAAN,CAAW,IAAX,CAAlB;AACA;AACD;;AAGD,SAAS,QAAT,CAAkB,IAAlB,EAAwB;AACvB;AACA,MAAK,SAAL,GAAiB,KAAK,IAAL,GAAY,KAAZ,GAAoB,iBAArC;;AAEA;AACA,MAAK,KAAL,GAAa,IAAb;;AAEA;AACA,KAAI,KAAK,IAAT,EAAe;;AAEd;AACA,MAAM,OAAO,oBAAb;AACA,OAAK,IAAL,GAAY,KAAK,IAAjB;AACA,OAAK,YAAL,GAAoB,QAApB;AACA,OAAK,SAAL,GAAiB,QAAjB;AACA,OAAK,WAAL,GAAmB,IAAnB;AACA,OAAK,SAAL,GAAiB,OAAjB;AACA,OAAK,IAAL,GAAY,iBAAZ;AACA,OAAK,CAAL,GAAS,KAAK,CAAL,GAAU,KAAK,CAAL,GAAS,CAA5B;AACA,OAAK,CAAL,GAAS,KAAK,CAAL,GAAU,KAAK,CAAL,GAAS,CAA5B;AACA,OAAK,CAAL,GAAS,CAAT;AACA,OAAK,CAAL,GAAS,CAAT;;AAEA,OAAK,UAAL,CAAgB,IAAhB,CAAqB,IAArB;AACA,OAAK,UAAL,CAAgB,IAAhB;AACA;AACD;;AAED,SAAS,YAAT,GAAwB;AACvB,KAAM,eAAe,KAAK,OAAL,CAAa,QAAlC;AACA,KAAM,aAAa,EAAE,KAAK,OAAL,KAAiB,CAAjB,IAAsB,KAAK,IAA3B,IAAmC,KAAK,KAA1C,CAAnB;;AAEA;AACA,MAAK,KAAL,CAAW,OAAX,GAAqB,KAAK,OAAL,KAAiB,CAAjB,IAAsB,CAAC,KAAK,KAA5B,IAAqC,YAA1D;AACA,MAAK,IAAL,CAAU,OAAV,GAAoB,CAAC,UAAD,IAAe,YAAnC;AACA,MAAK,OAAL,CAAa,OAAb,GAAuB,KAAK,KAAL,IAAc,YAArC;AACA","file":"mineField.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","module.exports = e => {\n\te.stopPropagation = () => {};\n\te.preventDefault = () => {};\n\treturn e;\n};\n","// IE does not support `new Event()`\n// See https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Creating_and_triggering_events for details\nconst dict = {bubbles: true, cancelable: true};\n\nlet createEvent = (eventname, options = dict) =>\n\tnew Event(eventname, options);\n\ntry {\n\tcreateEvent('test');\n}\ncatch (e) {\n\tcreateEvent = (eventname, options = dict) => {\n\t\tconst e = document.createEvent('Event');\n\t\te.initEvent(eventname, !!options.bubbles, !!options.cancelable);\n\t\treturn e;\n\t};\n}\n\nmodule.exports = createEvent;\n","// Create a queuing function\n// Queues items in an Array like function until a handler has been defined\n// Then each item will be processed against the handler.\n// Useful for creating Global Asynchronous Queues, as can be retro fitted to existing arrays.\n\nmodule.exports = class Queue {\n\n\tconstructor (arr, handler) {\n\t\tthis.items = (Array.isArray(arr) ? arr : []);\n\t\tthis.handler = handler;\n\t}\n\n\t// Mimic the Array.push function\n\tpush (...args) {\n\n\t\t// Append items to the internal array.\n\t\targs.forEach(item => this.items.push(item));\n\n\t\t// Trigger the custom handler\n\t\tif (this._handler) {\n\t\t\targs.forEach(item => this._handler(item));\n\t\t}\n\t}\n\n\t// Mimic the length\n\tget length () {\n\t\treturn this.items.length;\n\t}\n\tset length (value) {\n\t\treturn this.items.length = value;\n\t}\n\n\t// Set the item handler\n\tget handler () {\n\t\treturn this._handler;\n\t}\n\n\tset handler (callback) {\n\n\t\tthis._handler = callback;\n\n\t\tif (this._handler) {\n\t\t\tthis.items.forEach(item => this._handler(item));\n\t\t}\n\t}\n};\n","const instanceOf = require('./instanceOf.js');\n\nmodule.exports = function extend(r, ...args) {\n\targs.forEach(o => {\n\t\tif (Array.isArray(r) && Array.isArray(o)) {\n\t\t\tArray.prototype.push.apply(r, o);\n\t\t}\n\t\telse if (instanceOf(r, Object) && instanceOf(o, Object) && r !== o) {\n\t\t\tfor (const x in o) {\n\t\t\t\tr[x] = extend(r[x], o[x]);\n\t\t\t}\n\t\t}\n\t\telse if (Array.isArray(o)) {\n\t\t\t// Clone it\n\t\t\tr = o.slice(0);\n\t\t}\n\t\telse {\n\t\t\tr = o;\n\t\t}\n\t});\n\treturn r;\n};\n","module.exports = (test, root) => root && test instanceof root;\n","// requestAnimationFrame polyfill\nwindow.requestAnimationFrame =\n\twindow.requestAnimationFrame ||\n\twindow.webkitRequestAnimationFrame ||\n\twindow.mozRequestAnimationFrame ||\n\twindow.oRequestAnimationFrame ||\n\twindow.msRequestAnimationFrame ||\n\t(callback => setTimeout(callback, 1000 / 60));\n\nmodule.exports = window.requestAnimationFrame.bind(window);\n","// Background\n// Exposes the basic properties/methods of a controllable background\n\nimport Queue from 'tricks/object/Queue';\n\n// Extract the window.background items\nconst queue = window.background = new Queue(window.background);\n\nfunction queueHandler(callback) {\n\t// Each item in the queue should be a function\n\tcallback(Background);\n}\n\nexport default class Background {\n\n\tstatic add(stage) {\n\t\t// Store the\n\t\tBackground.stages.push(stage);\n\n\t\t// Trigger ready if it has not already been set\n\t\tif (Background.stages.length === 1) {\n\t\t\t// Initiate the queue\n\t\t\tqueue.handler = queueHandler;\n\t\t}\n\t}\n\n\t// Create a new instance of a stage\n\tstatic init(target) {\n\t\t// Get the default stage which has been registered with this class\n\t\tconst stage = Background.stages[0];\n\n\t\t// Return instance\n\t\tif (stage) {\n\t\t\treturn new stage(target);\n\t\t}\n\t}\n}\n\nBackground.stages = [];\n","// Setup\n// This constructs the canvas object\n\n// Includes\nimport 'tricks/support/requestAnimationFrame';\nimport createEvent from 'tricks/events/createEvent';\nimport createDummyEvent from 'tricks/events/createDummyEvent';\n\n// Constants\nconst BACKGROUND_HASH = 'background';\nconst UserEvents = ['click', 'mousedown', 'mouseup', 'mouseover', 'mousemove', 'mouseout', 'frame', 'resize'];\nconst TouchEvents = ['touchmove', 'touchstart', 'touchend'];\n\nconst EVENT_SEPARATOR = /[\\s\\,]+/;\n\nexport default class Canvas {\n\n\t// Construct the Canvas Element\n\t// @param canvas should be an root element container for this imagery.\n\tconstructor(canvas) {\n\n\t\tlet parent;\n\n\t\t// events\n\t\tthis.events = {};\n\n\t\t// browser check\n\t\tif (!('getContext' in document.createElement('canvas'))) {\n\t\t\t// browser doesn't support canvas\n\t\t\treturn;\n\t\t}\n\n\t\tif (!(canvas && canvas instanceof HTMLCanvasElement)) {\n\n\t\t\t// Set the parent\n\t\t\tparent = canvas;\n\n\t\t\t// Create the canvas layer\n\t\t\tcanvas = document.createElement('canvas');\n\t\t\tcanvas.style.backgroundColor = 'white';\n\n\t\t\t// Not a parent\n\t\t\tif (!parent) {\n\t\t\t\t// Append to the body\n\t\t\t\tparent = document.body;\n\t\t\t\tcanvas.style.cssText = 'position:fixed;z-index:-1;top:0;left:0;';\n\t\t\t\tcanvas.setAttribute('tabindex', 0);\n\n\t\t\t\tdocument.documentElement.style.cssText = 'min-height:100%;';\n\t\t\t\tdocument.body.style.cssText = 'min-height:100%;';\n\n\t\t\t\t// Bind window resize events\n\t\t\t\twindow.addEventListener('resize', this.resize.bind(this));\n\t\t\t}\n\n\t\t\t// Append this element\n\t\t\tparent.insertBefore(canvas, parent.firstElementChild);\n\n\t\t\tthis.target = canvas;\n\n\t\t\tthis.resize();\n\t\t}\n\t\telse {\n\t\t\tthis.target = canvas;\n\t\t\tparent = canvas.parentNode;\n\t\t}\n\n\t\tthis.ctx = canvas.getContext('2d');\n\n\t\t// Set initial save point\n\t\tthis.ctx.save();\n\n\t\t// Initiate the time\n\t\tthis._time = 0;\n\t\tthis._fps = 0;\n\n\t\t// Initiate the draw\n\t\tthis.draw();\n\n\t\t// Bind events\n\t\tUserEvents.forEach(eventname => this.target.addEventListener(eventname, this.dispatchEvent.bind(this)));\n\n\t\t// Format Touch events\n\t\tTouchEvents.forEach(eventname => this.target.addEventListener(eventname, this.dispatchTouchEvent.bind(this)));\n\n\t\t// In IE user-events aren't propagated to elements which have negative z-Index's\n\t\t// Listen to events on the document element and propagate those accordingly\n\t\tif (parent === document.body && canvas.style.getPropertyValue('z-index') === '-1') {\n\t\t\t// Bind events\n\t\t\tUserEvents.forEach(eventname => document.addEventListener(eventname, this.dispatchEvent.bind(this)));\n\n\t\t\t// Format Touch events\n\t\t\tTouchEvents.forEach(eventname => document.addEventListener(eventname, this.dispatchTouchEvent.bind(this)));\n\t\t}\n\n\t\t// Listen to hashChange events\n\t\t{\n\t\t\t// HASH CHANGE DEPTH\n\t\t\tconst style = this.target.style;\n\t\t\tconst initialZ = style.getPropertyValue('z-index');\n\t\t\t// Listen to changes to the background hash to bring the canvas element to the front\n\t\t\twindow.addEventListener('hashchange', hashchange.bind(style, initialZ));\n\n\t\t\thashchange.call(style, initialZ);\n\t\t}\n\t}\n\n\t// ensure its keeping up.\n\tget width() {\n\t\treturn this.target.width;\n\t}\n\tset width(value) {\n\t\tthis.target.width = value;\n\t\treturn value;\n\t}\n\n\tget height() {\n\t\treturn this.target.height;\n\t}\n\tset height(value) {\n\t\tthis.target.height = value;\n\t\treturn value;\n\t}\n\tget fps() {\n\t\treturn this._fps;\n\t}\n\tset fps(value) {\n\n\t\tthis._fps = value;\n\n\t\tconst now = (new Date()).getTime();\n\n\t\tif ((now - this._time) > 1000) {\n\t\t\t// console.log('fps: %d', this._fps);\n\t\t\tthis._time = now;\n\t\t\tthis._fps = 0;\n\t\t}\n\t}\n\n\n\tresize() {\n\t\tconst parent = (this.target.parentNode === document.body) ? document.documentElement : this.target.parentNode;\n\t\tconst height = parent.clientHeight;\n\t\tconst width = parent.clientWidth;\n\t\tlet changed = false;\n\n\t\tif (this.width !== width) {\n\t\t\tchanged = true;\n\t\t\tthis.width = width;\n\t\t}\n\t\tif (this.height !== height) {\n\t\t\tchanged = true;\n\t\t\tthis.height = height;\n\t\t}\n\n\t\tif (changed) {\n\t\t\tthis.target.dispatchEvent(createEvent('resize'));\n\t\t}\n\t}\n\n\tclear() {\n\t\tthis.ctx.clearRect(0, 0, this.target.width, this.target.height);\n\t}\n\n\t// Bring the content of the canvas to the front\n\tbringToFront() {\n\n\t\t// Update the window.location with the hash #background\n\t\twindow.location.hash = BACKGROUND_HASH;\n\t}\n\n\t// Trigger the draw function\n\tdraw() {\n\n\t\t// Increment the number of frames\n\t\tthis.fps++;\n\n\t\t// Call the frame function in the context of the frame to draw\n\t\tthis.target.dispatchEvent(createEvent('frame'));\n\n\t\t// Request another frame\n\t\trequestAnimationFrame(this.draw.bind(this));\n\t}\n\n\t// The user has clicked an item on the page\n\taddEventListener(eventnames, handler) {\n\n\t\teventnames.split(EVENT_SEPARATOR).forEach(eventname => {\n\t\t\t// Add to the events list\n\t\t\tif (!(eventname in this.events)) {\n\t\t\t\tthis.events[eventname] = [];\n\t\t\t}\n\n\t\t\tthis.events[eventname].push(handler);\n\t\t});\n\t}\n\n\t// Dispatch\n\tdispatchEvent(e) {\n\n\t\tif (e.type in this.events) {\n\n\t\t\tconst target = e.currentTarget;\n\n\t\t\t// This was triggered using event delegation, aka in the background\n\t\t\tif (target === document) {\n\n\t\t\t\te = createDummyEvent({\n\t\t\t\t\ttype: e.type,\n\t\t\t\t\ttarget: this.target,\n\t\t\t\t\toffsetX: e.pageX || e.offsetX,\n\t\t\t\t\toffsetY: e.pageY || e.offsetY\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.events[e.type].forEach(handler => handler(e));\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t}\n\t}\n\n\t// Dispatch\n\tdispatchTouchEvent(e) {\n\t\t// If this was a touch event\n\t\t// Determine the offset to the canvas element relative to the item being clicked\n\t\tconst touch = (e.touches || e.changedTouches)[0];\n\t\tif (touch) {\n\t\t\te.offsetX = Math.abs(touch.pageX || touch.screenX);\n\t\t\te.offsetY = Math.abs(touch.pageY || touch.screenY);\n\t\t}\n\n\t\tthis.dispatchEvent(e);\n\t}\n}\n\n\nfunction hashchange(z) {\n\n\tconst zIndex = 'z-index';\n\n\tif (window.location.hash === `#${ BACKGROUND_HASH}`) {\n\t\tz = 10000;\n\t}\n\n\tif (z !== undefined) {\n\t\t// Set the z-Index\n\t\tthis.setProperty(zIndex, z);\n\t}\n\telse {\n\t\t// Remove the z-Index\n\t\tthis.removeProperty(zIndex);\n\t}\n}\n","// Collection\n\nconst UserEvents = ['click', 'mousedown', 'mouseup', 'mouseover', 'mousemove', 'mouseout', 'touchmove', 'touchstart', 'touchend', 'frame'];\n\nexport default class Collection {\n\n\tconstructor(target) {\n\t\t// Create an empty children\n\t\tthis.children = [];\n\n\t\t// Events\n\t\tthis.events = [];\n\n\t\t// setup the canvas element\n\t\tthis.init(target);\n\t}\n\n\t// listen to canvas events\n\tinit (target) {\n\n\t\t// Define the canvas object as the target for the collection\n\t\tthis.target = target;\n\n\t\t// Define the CTX\n\t\tthis.ctx = target.getContext('2d');\n\n\t\t// listen to user interactive events and trigger those on items\n\t\tUserEvents.forEach(eventname => target.addEventListener(eventname, this._findAndDispatch.bind(this)));\n\n\t}\n\n\tpush(item) {\n\t\titem.dirty = true;\n\n\t\t// Is this item already in the collection?\n\t\tif (this.children.indexOf(item) === -1) {\n\t\t\tif (item.setup) {\n\t\t\t\titem.setup(this);\n\t\t\t}\n\n\t\t\t// item.addEventListener('dirty', this.prepareChild.bind(this, item));\n\t\t\tthis.children.push(item);\n\t\t}\n\t}\n\n\tget length () {\n\t\treturn this.children.length;\n\t}\n\tset length (v) {\n\t\treturn this.children.length = v;\n\t}\n\n\n\t// Touch\n\t// Mark items and objects in the same space to be redrawn\n\tprepare() {\n\t\tthis.children.forEach(item => {\n\t\t\tif (item.dirty === true)\n\t\t\t\tthis.prepareChild(item);\n\t\t});\n\t}\n\n\t// Clean Item\n\tprepareChild(item) {\n\n\t\tconst ctx = this.ctx;\n\n\t\tif (item.dirty === 'pending') {\n\t\t\treturn;\n\t\t}\n\n\t\t// Mark this item as dirty\n\t\titem.dirty = 'pending';\n\n\t\t// Remove from Canvas\n\t\tctx.clearRect(item.x, item.y, item.w, item.h);\n\n\t\t// If the items old position is different\n\t\tif (item.past && displaced(item.past, item)) {\n\t\t\tctx.clearRect(item.past.x, item.past.y, item.past.w, item.past.h);\n\t\t}\n\n\t\t// Loop though objects and redraw those that exist within the position\n\t\tthis.children.forEach(this._prepareSiblings.bind(this, item));\n\t}\n\n\t_prepareSiblings(item, sibling) {\n\n\t\t// Does this Object overlap with the focused object?\n\t\tif (!sibling.dirty && sibling.visible !== false && (intersect(sibling, item) || (item.past ? intersect(sibling, item.past) : false))) {\n\t\t\t// Nested clean\n\t\t\tthis.prepareChild(sibling);\n\t\t}\n\t}\n\n\tsort() {\n\t\t// Sort items by z-index\n\t\tthis.children.sort((a, b) => {\n\t\t\ta = a.zIndex || 0;\n\t\t\tb = b.zIndex || 0;\n\t\t\treturn +(a > b) || -(a < b);\n\t\t});\n\t}\n\n\t// Trigger the draw function\n\tdraw() {\n\n\t\tconst ctx = this.ctx;\n\n\t\t// Find items that have changed\n\t\t// Remove background\n\t\tthis.children.forEach(item => {\n\n\t\t\tif (item.frame) {\n\t\t\t\titem.frame(ctx);\n\t\t\t}\n\n\t\t\tif (item.dirty && item.visible !== false) {\n\t\t\t\titem.draw(ctx);\n\t\t\t}\n\n\t\t\titem.dirty = false;\n\t\t});\n\t}\n\n\telementFromPoint(x, y) {\n\n\t\tlet target;\n\n\t\t// Find the canvas item which this targets?\n\t\tconst obj = {\n\t\t\tx,\n\t\t\ty,\n\t\t\tw: 1,\n\t\t\th: 1\n\t\t};\n\n\t\tthis.children.forEach(item => {\n\n\t\t\tif (item.visible === false || !item.w || !item.h || item.pointerEvents === false) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Is this a target?\n\t\t\tif (intersect(obj, item)) {\n\t\t\t\t// Define this as a target\n\t\t\t\ttarget = item;\n\t\t\t}\n\t\t});\n\n\t\treturn target;\n\t}\n\n\t// The user has clicked an item on the page\n\taddEventListener(eventname, handler) {\n\n\t\t// Add to the events list\n\t\tif (!(eventname in this.events)) {\n\t\t\tthis.events[eventname] = [];\n\t\t}\n\n\t\tthis.events[eventname].push(handler);\n\t}\n\n\t// Dispatch\n\tdispatchEvent(e) {\n\t\tif (e.type in this.events)\n\t\t\tthis.events[e.type].forEach(handler => handler(e));\n\t}\n\n\t// Find and _dispatch\n\t_findAndDispatch(e) {\n\t\t// If this is not a pointerEvent lets just pass it through.\n\t\tif ((typeof MouseEvent !== 'undefined' && e instanceof MouseEvent) ||\n\t\t\t(typeof TouchEvent !== 'undefined' && e instanceof TouchEvent)) {\n\n\t\t\t// Find the canvas item which this targets?\n\t\t\tconst obj = {\n\t\t\t\tx: e.offsetX,\n\t\t\t\ty: e.offsetY,\n\t\t\t\tw: 1,\n\t\t\t\th: 1\n\t\t\t};\n\n\t\t\tthis.children.forEach(item => {\n\n\t\t\t\tif (!item.visible || !item.w || !item.h || !item.pointerEvents) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Intersects?\n\t\t\t\tintersect(obj, item) && item.dispatchEvent(e);\n\t\t\t});\n\t\t}\n\t}\n}\n\n\n// Intersect\n// Given two objects with, x,y,w,h properties\n// Do their rectangular dimensions intersect?\n// return Boolean true false.\nfunction intersect(a, b) {\n\treturn !(a.x > (b.x + b.w) ||\n\t(a.x + a.w) < b.x ||\n\ta.y > (b.y + b.h) ||\n\t(a.y + a.h) < b.y);\n}\n\nfunction displaced(a, b) {\n\treturn (a.x !== b.x ||\n\ta.y !== b.y ||\n\ta.w !== b.w ||\n\ta.h !== b.h);\n}\n","// Shape\n// CanvasShapes\n// The parent object defining a basic shape, x,y,w,h, for starters.\n// And basic operatings you might like to include on a shape\nimport createEvent from 'tricks/events/createEvent';\n\nexport default class Shape {\n\n\tconstructor (...args) {\n\n\t\t// initieate  events\n\t\tthis.events = [];\n\n\t\tif (args.length) {\n\t\t\t// Store the values\n\t\t\tthis.position(...args);\n\t\t}\n\t}\n\n//\tSet property listeners\n\tget x() {\n\t\treturn this._x;\n\t}\n\tset x(v) {\n\t\tif (this._x !== v) {\n\t\t\tthis.dirty = true; this._x = v;\n\t\t}\n\t}\n\n\tget y() {\n\t\treturn this._y;\n\t}\n\tset y(v) {\n\t\tif (this._y !== v) {\n\t\t\tthis.dirty = true; this._y = v;\n\t\t}\n\t}\n\n\tget w() {\n\t\treturn this._w;\n\t}\n\tset w(v) {\n\t\tif (this._w !== v) {\n\t\t\tthis.dirty = true; this._w = v;\n\t\t}\n\t}\n\n\tget h() {\n\t\treturn this._h;\n\t}\n\tset h(v) {\n\t\tif (this._h !== v) {\n\t\t\tthis.dirty = true; this._h = v;\n\t\t}\n\t}\n\n\tget dx() {\n\t\treturn this._dx;\n\t}\n\tset dx(v) {\n\t\tif (this._dx !== v) {\n\t\t\tthis.dirty = true; this._dx = v;\n\t\t}\n\t}\n\n\tget dy() {\n\t\treturn this._dy;\n\t}\n\tset dy(v) {\n\t\tif (this._dy !== v) {\n\t\t\tthis.dirty = true; this._dy = v;\n\t\t}\n\t}\n\n\tget visible() {\n\t\treturn (this._visible === undefined ? true : this._visible);\n\t}\n\tset visible(v) {\n\t\tif (this._visible !== v) {\n\t\t\tthis.dirty = true; this._visible = v;\n\t\t}\n\t}\n\n\tget opacity() {\n\t\treturn (this._opacity === undefined ? 1 : this._opacity);\n\t}\n\tset opacity(v) {\n\t\tif (this._opacity !== v) {\n\t\t\tthis.dirty = true; this._opacity = v;\n\t\t}\n\t}\n\n\tset dirty (v) {\n\t\t// Has this just been made dirty?\n\t\tif (!this._dirty && v) {\n\t\t\t// Mark as dirty\n\t\t\tthis._dirty = v;\n\n\t\t\t// Trigger a canvas clean\n\t\t\tthis.dispatchEvent(createEvent('dirty'));\n\t\t}\n\t\telse if (!v) {\n\t\t\t// reset\n\t\t\tthis._dirty = v;\n\t\t}\n\t}\n\tget dirty () {\n\t\treturn this._dirty;\n\t}\n\n\t// Let events bubble up\n\tget pointerEvents () {\n\t\treturn (this._pointerEvents === undefined ? 1 : this._pointerEvents);\n\t}\n\tset pointerEvents (v) {\n\t\tthis._pointerEvents = v;\n\t}\n\n\tposition(x = 0, y = 0, w = 0, h = 0) {\n\n\t\tif (!this.past) {\n\t\t\t// Set past points\n\t\t\tthis.past = {};\n\t\t}\n\n\t\tthis.past.x = this.x;\n\t\tthis.past.y = this.y;\n\t\tthis.past.w = this.w;\n\t\tthis.past.h = this.h;\n\n\t\t// Assign, rectangle shape\n\t\t// Have a backup footprint\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.w = w;\n\t\tthis.h = h;\n\t}\n\n\t// Placeholder function for drawing to canvas\n\tframe() {}\n\tdraw() {}\n\tsetup() {}\n\n\t// Events\n\t// Assign Events to be fired when the user clicks this object\n\t// Awesome\n\taddEventListener(eventName, callback) {\n\t\tif (!(eventName in this.events)) {\n\t\t\tthis.events[eventName] = [];\n\t\t}\n\t\tthis.events[eventName].push(callback);\n\t}\n\n\tdispatchEvent(e) {\n\t\tif (!(e.type in this.events)) {\n\t\t\treturn;\n\t\t}\n\t\tthis.events[e.type].forEach(fn => fn(e));\n\t}\n\n\t// Assign getters and setters to default properties\n\t_watchProperty(propName) {\n\t\tObject.defineProperty(this, propName, {\n\t\t\tget: this._getter.bind(this, propName),\n\t\t\tset: this._setter.bind(this, propName)\n\t\t});\n\t}\n\n\t_getter(propName) {\n\t\treturn this[`_${ propName}`];\n\t}\n\n\t_setter(propName, v) {\n\t\tif (this[`_${ propName}`] !== v) {\n\t\t\tthis.dirty = true;\n\t\t\tthis[`_${ propName}`] = v;\n\t\t}\n\t}\n}\n","// text\n// TextObject, defines a shape object which contains text.\n\nimport Shape from './shape';\n\nexport default class Text extends Shape {\n\n\t// Initiate a new shape object.\n\tconstructor (text) {\n\t\t// initiate inheritance\n\t\tsuper();\n\n\t\t// Watch the following properties for changes\n\t\t['text', 'shadowBlur', 'shadowColor', 'fillStyle', 'strokeStyle', 'textAlign', 'textBaseline', 'lineWidth'].forEach(this._watchProperty.bind(this));\n\n\t\t// Define text\n\t\tthis.text = text || '';\n\n\t\tthis.shadowColor = 'black';\n\t\tthis.fillStyle = 'black';\n\t\tthis.strokeStyle = 'white';\n\t\tthis.textAlign = 'left';\n\t\tthis.textBaseline = 'top';\n\t\tthis.lineWidth = 0;\n\t\tthis.align = 'left top';\n\t\tthis.fontSize = 30;\n\t}\n\n\t// Define the text and the alignment of the object\n\tcalc (canvas) {\n\n\t\t// Define text\n\t\t[this.textAlign, this.textBaseline] = this.align.split(' ');\n\n\t\tconst ctx = canvas.ctx;\n\t\tlet fontSize = this.fontSize;\n\n\t\t// Split text by line breaks\n\t\tthis.lines = this.text.toString().split('\\n');\n\n\t\t// Which is the longest line?\n\t\tlet _width = 0;\n\t\tlet default_text = this.lines[0];\n\n\t\tthis.lines.forEach(line => {\n\t\t\tconst _w = ctx.measureText(line).width;\n\t\t\tif (_w > _width) {\n\t\t\t\t_width = _w;\n\t\t\t\tdefault_text = line;\n\t\t\t}\n\t\t});\n\n\t\t// Find the width and height of the item\n\t\t// Using the canvas context\n\t\tctx.save();\n\n\t\tctx.shadowColor = 'black';\n\t\tctx.fillStyle = 'black';\n\t\tctx.strokeStyle = 'rgba(255,255,255,0.5)';\n\t\tctx.font = `bold ${ fontSize }px Arial`;\n\n\t\twhile (ctx.measureText(default_text).width > canvas.width) {\n\t\t\tfontSize *= 0.9;\n\t\t\tfontSize = Math.round(fontSize);\n\t\t\tctx.font = `bold ${ fontSize }px Arial`;\n\t\t}\n\n\t\tthis.shadowBlur = ctx.shadowBlur = Math.round(fontSize / 10);\n\t\tthis.fontSize = fontSize;\n\t\tthis.font = ctx.font;\n\n\t\tthis.w = ctx.measureText(default_text).width + (this.shadowBlur * 2);\n\t\tthis.h = (fontSize + (this.shadowBlur * 2)) * this.lines.length;\n\n\t\tctx.restore();\n\n\t\t// Store style attributes\n\t\t// Store the new attributes of the text item\n\t\tthis.lineWidth = Math.floor(fontSize / 60);\n\n\n\t\t// HEIGHT and WIDTH\n\t\tswitch (this.textAlign) {\n\t\t\tcase 'center':\n\t\t\tcase 'middle':\n\t\t\t\tthis.textAlign = 'center';\n\t\t\t\tthis.x = (canvas.width / 2) - (this.w / 2);\n\t\t\t\tbreak;\n\t\t\tcase 'left':\n\t\t\t\tthis.x = 0;\n\t\t\t\tbreak;\n\t\t\tcase 'right':\n\t\t\t\tthis.x = canvas.width - this.w;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tswitch (this.textBaseline) {\n\t\t\tcase 'center':\n\t\t\tcase 'middle':\n\t\t\t\tthis.textBaseline = 'middle';\n\t\t\t\tthis.y = (canvas.height / 2) - (this.h / 2);\n\t\t\t\tbreak;\n\t\t\tcase 'top':\n\t\t\t\tthis.y = 0;\n\t\t\t\tbreak;\n\t\t\tcase 'bottom':\n\t\t\t\tthis.y = canvas.height - this.h;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tthis.textAlign = 'left';\n\t\tthis.textBaseline = 'top';\n\n\t\tctx.restore();\n\t}\n\n\t// Draw\n\tdraw (ctx) {\n\n\t\tctx.save();\n\n\t\tctx.globalAlpha = this.opacity;\n\n\t\tctx.shadowColor = this.shadowColor;\n\t\tif (this.shadowBlur) {\n\t\t\tctx.shadowBlur = this.shadowBlur;\n\t\t}\n\t\tctx.fillStyle = this.fillStyle;\n\t\tctx.strokeStyle = this.strokeStyle;\n\t\tctx.font = this.font;\n\n\t\tctx.textAlign = this.textAlign;\n\t\tctx.textBaseline = this.textBaseline;\n\t\tctx.lineWidth = this.lineWidth;\n\n\t\tif (this.lineWidth) {\n\t\t\tctx.lineWidth = this.lineWidth;\n\t\t}\n\n\t\tthis.lines = this.text.toString().split('\\n');\n\n\t\tconst len = this.lines.length;\n\n\t\tthis.lines.forEach((item, index) => {\n\t\t\tconst y = this.y + (this.h ? (index * (this.h / len)) : 0);\n\n\t\t\tctx.fillText(item, this.x, y);\n\t\t\tif (this.strokeStyle) {\n\t\t\t\tctx.strokeText(item, this.x, y);\n\t\t\t}\n\t\t});\n\n\t\tctx.restore();\n\t}\n}\n","// mineField, Canvas annimation\n// Copyright Andrew Dodson, March 2013\n\n// Get Canvas\nimport Canvas from './classes/canvas';\nimport Collection from './classes/collection';\nimport Text from './classes/text';\nimport Background from './classes/background';\nimport extend from 'tricks/object/extend';\n\n\n// Create a new tile\n// Arguments handled by parent\nclass Tile {\n\n\tconstructor (...args) {\n\n\t\t// Define the position of this square\n\t\tthis.position(...args);\n\n\t\t// Mine?\n\t\t// Assign with a 1 in 5 chance\n\t\tthis.mine = Math.random() < (1 / 8);\n\n\t\t// Private mark as to whether this has been played\n\t\tthis.played = false;\n\n\t\t// Define an initial grid position for this tile.\n\t\tthis.grid = [0, 0];\n\n\t\t// Define a default fill color for tiles.\n\t\tthis.fillStyle = '#ccc';\n\n\t\t// Initial heat\n\t\tthis.heat = 0; // How many bombs are next to this?\n\t}\n\n\tposition(x, y, w, h) {\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.w = w;\n\t\tthis.h = h;\n\t\tthis.dirty = true;\n\t}\n\n\tsetup() {}\n\tframe() {}\n\tdraw(ctx) {\n\t\tctx.fillStyle = this.fillStyle;\n\t\tctx.fillRect(this.x, this.y, this.w, this.h);\n\t}\n\n\tget type() {\n\t\treturn 'tile';\n\t}\n}\n\n/******************************************\n *\n *  Build Canvas Object Collection\n * * Tiles\n * * Data\n ******************************************/\nclass Stage {\n\tconstructor() {\n\n\t\tthis.options = {\n\t\t\tcontrols: true\n\t\t};\n\n\t\tthis.tiles = [],\n\t\tthis.mines = [],\n\t\tthis.flooded = 0,\n\t\tthis.boom = false,\n\t\tthis.ended = false;\n\n// Iniitate canvas\n\t\tconst canvas = new Canvas();\n\t\tthis.canvas = canvas;\n\n// Iniitate collection\n\t\tconst collection = new Collection(canvas.target);\n\t\tthis.collection = collection;\n\n// Add a text Object\n// We only have one text Object on the screen at a time, lets reuse it.\n\n\t\tconst title = new Text();\n\t\ttitle.text = 'MineField';\n\t\ttitle.align = 'center center';\n\t\ttitle.fontSize = 150;\n\t\ttitle.zIndex = 1;\n\t\ttitle.calc(canvas);\n\t\ttitle.pointerEvents = false;\n\t\tthis.title = title;\n\n\t\tconst info = new Text();\n\t\tinfo.text = 'Tap  to  start';\n\t\tinfo.align = 'center center';\n\t\tinfo.fontSize = 40;\n\t\tinfo.zIndex = 1;\n\t\tinfo.calc(canvas);\n\t\tinfo.pointerEvents = false;\n\t\tinfo.y = info.y + title.h;\n\t\tthis.info = info;\n\n\t\tconst credits = new Text();\n\t\tcredits.align = 'center center';\n\t\tcredits.zIndex = 1;\n\t\tcredits.fontSize = 150;\n\t\tcredits.calc(canvas);\n\t\tcredits.pointerEvents = false;\n\t\tthis.credits = credits;\n\n/******************************************\n *  Add Events, to listen to in game play\n ******************************************/\n\n\t\tcanvas.addEventListener('mousedown', e => userClick.call(this, e.offsetX, e.offsetY));\n\t\tcanvas.addEventListener('touchstart', e => userClick.call(this, e.offsetX, e.offsetY));\n\t\tcanvas.addEventListener('resize', setup.bind(this));\n\t\tcanvas.addEventListener('frame', () => {\n\n\t\t\t// Draw items\n\t\t\tcollection.prepare();\n\n\t\t\t// Draw items\n\t\t\tcollection.draw();\n\n\t\t});\n\n\n\t}\n\tsetup(options) {\n\n\t\t// Update config\n\t\tthis.config(options);\n\n\t\t// Setup all the tiles\n\t\tsetup.call(this);\n\t}\n\tconfig(options) {\n\n\t\t// Merge the current options\n\t\textend(this.options, options);\n\n\t\t// Show Controls\n\t\tshowControls.call(this);\n\t}\n}\n\n\n// Add Stage to the background\nBackground.add(Stage);\n\nfunction userClick(x, y) {\n\n\t// If we need to reset?\n\tif (this.ended) {\n\t\tsetup.call(this);\n\t\treturn;\n\t}\n\n\t// Tile Clicked\n\tconst target = this.collection.elementFromPoint(x, y);\n\n\tif (target && target.type === 'tile') {\n\t\tplay.call(this, target);\n\t}\n}\n\n\n// Setup\nfunction setup() {\n\n\tconst canvas = this.canvas;\n\tconst collection = this.collection;\n\tconst tiles = this.tiles;\n\tconst mines = this.mines;\n\n\t// Define type size\n\t// set tile default Width and height\n\n\tthis.mines.length = 0;\n\tthis.flooded = 0;\n\tthis.boom = false;\n\tthis.ended = false;\n\n\ttiles.length = 0;\n\tcollection.length = 0;\n\n\tlet h;\n\tlet w;\n\n\tw = h = 50;\n\n\t// set number of tiles horizontally and vertically\n\tconst nx = Math.floor(canvas.width / w);\n\tconst ny = Math.floor(canvas.height / h);\n\n\tthis.nx = nx;\n\tthis.ny = ny;\n\n\t// Do the tiles not perfectly fit the space?\n\t// split the difference between the tiles, adding to the widths and heights\n\tw += Math.floor((canvas.width % (nx * w)) / nx);\n\th += Math.floor((canvas.height % (ny * h)) / ny);\n\n\t// Create tiles\n\tfor (let y = 0; y < ny; y++) {\n\t\tfor (let x = 0; x < nx; x++) {\n\n\t\t\tconst tile = new Tile(x * w, y * h, w - 1, h - 1);\n\t\t\ttile.grid = [x, y];\n\t\t\ttiles.push(tile);\n\t\t\tcollection.push(tile);\n\n\t\t\t// Upgrade the number of mines\n\t\t\tif (tile.mine) {\n\t\t\t\tmines.push(tile);\n\t\t\t}\n\t\t}\n\t}\n\n\tconst credits = this.credits;\n\tconst info = this.info;\n\tconst title = this.title;\n\n\t// Flood its neighbouring tiles on start\n\tcollection.push(title);\n\tcollection.push(credits);\n\tcollection.push(info);\n\n\t// Show Controls?\n\tshowControls.call(this);\n\n\tcredits.visible = false;\n\n\t// Sort the collection by z-index this ensures everything is drawn in the right order\n\tcollection.sort();\n}\n\nfunction play(tile) {\n\n\tconst mines = this.mines;\n\tconst tiles = this.tiles;\n\tconst credits = this.credits;\n\tconst info = this.info;\n\tconst title = this.title;\n\n\tif (!tile) {\n\t\treturn true;\n\t}\n\n\t// If this is the first time the game has been played,\n\t// flooded will equal 0\n\tif (this.flooded === 0) {\n\t\t// Ensure this is not a mine\n\t\ttile.mine = false;\n\t}\n\n\t// Is it a mine\n\tif (tile.mine) {\n\t\tthis.boom = true;\n\t}\n\t// Check to see it this tile has been exposed before?\n\telse if (!tile.played) {\n\t\t// Trigger Flooding\n\t\tflood.call(this, tile);\n\t}\n\n\tif (((this.flooded + mines.length) === tiles.length) || this.boom) {\n\n\t\t// Show all the mines\n\t\tmines.forEach(mine => markTile.call(this, mine));\n\n\t\t// Mark as ended\n\t\tthis.ended = true;\n\n\t\t// Update Text\n\t\tcredits.text = this.boom ? 'BOOM!' : 'Kudos!';\n\t\tcredits.calc(this.canvas);\n\t\tinfo.text = 'Tap to restart';\n\n\t\t// Show controls\n\t\tshowControls.call(this);\n\t}\n\telse {\n\t\ttitle.visible = false;\n\t\tinfo.visible = false;\n\t\tcredits.visible = false;\n\t}\n\n}\n\n// Flood this tile with the new colour and its neighbours with the same colour\nfunction flood(tile) {\n\n\tconst nx = this.nx;\n\tconst ny = this.ny;\n\tconst tiles = this.tiles;\n\n\tconst [x, y] = tile.grid;\n\n\tif (tile.played) {\n\t\treturn;\n\t}\n\n\t// Add to Counter\n\tthis.flooded++;\n\n\t// find all tiles around this one.\n\t// Filter the array so we only have unique values\n\tconst edgeTiles = [\n\t((Math.max(y - 1, 0) * nx) + Math.max(x - 1, 0))\n\t, ((Math.max(y - 1, 0) * nx) + x)\n\t, ((Math.max(y - 1, 0) * nx) + Math.min(x + 1, nx - 1))\n\t, ((y * nx) + Math.min(x + 1, nx - 1))\n\t, (((Math.min(y + 1, ny - 1)) * nx) + Math.min(x + 1, nx - 1))\n\t, (((Math.min(y + 1, ny - 1)) * nx) + x)\n\t, (((Math.min(y + 1, ny - 1)) * nx) + Math.max(x - 1, 0))\n\t, ((y * nx) + Math.max(x - 1, 0))\n\t]\n\t.filter((key, index, arr) => arr.indexOf(key) === index && tiles[key])\n\t.map(key => tiles[key]);\n\n\t// Any bombs nearby?\n\t// Find the `heat` of the current node\n\t// Loop through all the tiles surrouding this point\n\tedgeTiles\n\t.forEach(_tile => {\n\t\ttile.heat += +_tile.mine;\n\t});\n\n\t// Set the tile mode to played\n\ttile.played = true;\n\n\t// Change tile appearance\n\tmarkTile.call(this, tile);\n\n\t// If this tile is the one selected,\n\t// And has no heat, then recurse through all neighbours and flood them no heat\n\tif (tile.heat === 0) {\n\t\tedgeTiles.forEach(flood.bind(this));\n\t}\n}\n\n\nfunction markTile(tile) {\n\t// Style\n\ttile.fillStyle = tile.mine ? 'red' : 'rgba(0,0,0,0.1)';\n\n\t// Mark as dirty\n\ttile.dirty = true;\n\n\t// Can't make this visible\n\tif (tile.heat) {\n\n\t\t// Create text\n\t\tconst text = new Text();\n\t\ttext.text = tile.heat;\n\t\ttext.textBaseline = 'middle';\n\t\ttext.textAlign = 'center';\n\t\ttext.strokeStyle = null;\n\t\ttext.fillStyle = 'black';\n\t\ttext.font = 'bold 30px Arial';\n\t\ttext.x = tile.x + (tile.w / 2);\n\t\ttext.y = tile.y + (tile.h / 2);\n\t\ttext.w = 0;\n\t\ttext.h = 0;\n\n\t\tthis.collection.push(text);\n\t\tthis.collection.sort();\n\t}\n}\n\nfunction showControls() {\n\tconst showControls = this.options.controls;\n\tconst inProgress = !(this.flooded === 0 || this.boom || this.ended);\n\n\t// Show some controls only between game plays?\n\tthis.title.visible = this.flooded === 0 && !this.ended && showControls;\n\tthis.info.visible = !inProgress && showControls;\n\tthis.credits.visible = this.ended && showControls;\n}\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvdHJpY2tzL2V2ZW50cy9jcmVhdGVEdW1teUV2ZW50LmpzIiwibm9kZV9tb2R1bGVzL3RyaWNrcy9ldmVudHMvY3JlYXRlRXZlbnQuanMiLCJub2RlX21vZHVsZXMvdHJpY2tzL29iamVjdC9RdWV1ZS5qcyIsIm5vZGVfbW9kdWxlcy90cmlja3Mvb2JqZWN0L2V4dGVuZC5qcyIsIm5vZGVfbW9kdWxlcy90cmlja3Mvb2JqZWN0L2luc3RhbmNlT2YuanMiLCJub2RlX21vZHVsZXMvdHJpY2tzL3N1cHBvcnQvcmVxdWVzdEFuaW1hdGlvbkZyYW1lLmpzIiwic3JjL2NsYXNzZXMvQmFja2dyb3VuZC5qcyIsInNyYy9jbGFzc2VzL2NhbnZhcy5qcyIsInNyYy9jbGFzc2VzL2NvbGxlY3Rpb24uanMiLCJzcmMvY2xhc3Nlcy9zaGFwZS5qcyIsInNyYy9jbGFzc2VzL3RleHQuanMiLCJzcmMvbWluZUZpZWxkLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQSxPQUFPLE9BQVAsR0FBaUIsYUFBSztBQUNyQixHQUFFLGVBQUYsR0FBb0IsWUFBTSxDQUFFLENBQTVCO0FBQ0EsR0FBRSxjQUFGLEdBQW1CLFlBQU0sQ0FBRSxDQUEzQjtBQUNBLFFBQU8sQ0FBUDtBQUNBLENBSkQ7Ozs7O0FDQUE7QUFDQTtBQUNBLElBQU0sT0FBTyxFQUFDLFNBQVMsSUFBVixFQUFnQixZQUFZLElBQTVCLEVBQWI7O0FBRUEsSUFBSSxjQUFjLHFCQUFDLFNBQUQ7QUFBQSxLQUFZLE9BQVosdUVBQXNCLElBQXRCO0FBQUEsUUFDakIsSUFBSSxLQUFKLENBQVUsU0FBVixFQUFxQixPQUFyQixDQURpQjtBQUFBLENBQWxCOztBQUdBLElBQUk7QUFDSCxhQUFZLE1BQVo7QUFDQSxDQUZELENBR0EsT0FBTyxDQUFQLEVBQVU7QUFDVCxlQUFjLHFCQUFDLFNBQUQsRUFBK0I7QUFBQSxNQUFuQixPQUFtQix1RUFBVCxJQUFTOztBQUM1QyxNQUFNLElBQUksU0FBUyxXQUFULENBQXFCLE9BQXJCLENBQVY7QUFDQSxJQUFFLFNBQUYsQ0FBWSxTQUFaLEVBQXVCLENBQUMsQ0FBQyxRQUFRLE9BQWpDLEVBQTBDLENBQUMsQ0FBQyxRQUFRLFVBQXBEO0FBQ0EsU0FBTyxDQUFQO0FBQ0EsRUFKRDtBQUtBOztBQUVELE9BQU8sT0FBUCxHQUFpQixXQUFqQjs7Ozs7Ozs7O0FDbEJBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE9BQU8sT0FBUDtBQUVDLGdCQUFhLEdBQWIsRUFBa0IsT0FBbEIsRUFBMkI7QUFBQTs7QUFDMUIsT0FBSyxLQUFMLEdBQWMsTUFBTSxPQUFOLENBQWMsR0FBZCxJQUFxQixHQUFyQixHQUEyQixFQUF6QztBQUNBLE9BQUssT0FBTCxHQUFlLE9BQWY7QUFDQTs7QUFFRDs7O0FBUEQ7QUFBQTtBQUFBLHlCQVFnQjtBQUFBOztBQUFBLHFDQUFOLElBQU07QUFBTixRQUFNO0FBQUE7O0FBRWQ7QUFDQSxRQUFLLE9BQUwsQ0FBYTtBQUFBLFdBQVEsTUFBSyxLQUFMLENBQVcsSUFBWCxDQUFnQixJQUFoQixDQUFSO0FBQUEsSUFBYjs7QUFFQTtBQUNBLE9BQUksS0FBSyxRQUFULEVBQW1CO0FBQ2xCLFNBQUssT0FBTCxDQUFhO0FBQUEsWUFBUSxNQUFLLFFBQUwsQ0FBYyxJQUFkLENBQVI7QUFBQSxLQUFiO0FBQ0E7QUFDRDs7QUFFRDs7QUFuQkQ7QUFBQTtBQUFBLHNCQW9CZTtBQUNiLFVBQU8sS0FBSyxLQUFMLENBQVcsTUFBbEI7QUFDQSxHQXRCRjtBQUFBLG9CQXVCYSxLQXZCYixFQXVCb0I7QUFDbEIsVUFBTyxLQUFLLEtBQUwsQ0FBVyxNQUFYLEdBQW9CLEtBQTNCO0FBQ0E7O0FBRUQ7O0FBM0JEO0FBQUE7QUFBQSxzQkE0QmdCO0FBQ2QsVUFBTyxLQUFLLFFBQVo7QUFDQSxHQTlCRjtBQUFBLG9CQWdDYyxRQWhDZCxFQWdDd0I7QUFBQTs7QUFFdEIsUUFBSyxRQUFMLEdBQWdCLFFBQWhCOztBQUVBLE9BQUksS0FBSyxRQUFULEVBQW1CO0FBQ2xCLFNBQUssS0FBTCxDQUFXLE9BQVgsQ0FBbUI7QUFBQSxZQUFRLE9BQUssUUFBTCxDQUFjLElBQWQsQ0FBUjtBQUFBLEtBQW5CO0FBQ0E7QUFDRDtBQXZDRjs7QUFBQTtBQUFBOzs7OztBQ0xBLElBQU0sYUFBYSxRQUFRLGlCQUFSLENBQW5COztBQUVBLE9BQU8sT0FBUCxHQUFpQixTQUFTLE1BQVQsQ0FBZ0IsQ0FBaEIsRUFBNEI7QUFBQSxtQ0FBTixJQUFNO0FBQU4sTUFBTTtBQUFBOztBQUM1QyxNQUFLLE9BQUwsQ0FBYSxhQUFLO0FBQ2pCLE1BQUksTUFBTSxPQUFOLENBQWMsQ0FBZCxLQUFvQixNQUFNLE9BQU4sQ0FBYyxDQUFkLENBQXhCLEVBQTBDO0FBQ3pDLFNBQU0sU0FBTixDQUFnQixJQUFoQixDQUFxQixLQUFyQixDQUEyQixDQUEzQixFQUE4QixDQUE5QjtBQUNBLEdBRkQsTUFHSyxJQUFJLFdBQVcsQ0FBWCxFQUFjLE1BQWQsS0FBeUIsV0FBVyxDQUFYLEVBQWMsTUFBZCxDQUF6QixJQUFrRCxNQUFNLENBQTVELEVBQStEO0FBQ25FLFFBQUssSUFBTSxDQUFYLElBQWdCLENBQWhCLEVBQW1CO0FBQ2xCLE1BQUUsQ0FBRixJQUFPLE9BQU8sRUFBRSxDQUFGLENBQVAsRUFBYSxFQUFFLENBQUYsQ0FBYixDQUFQO0FBQ0E7QUFDRCxHQUpJLE1BS0EsSUFBSSxNQUFNLE9BQU4sQ0FBYyxDQUFkLENBQUosRUFBc0I7QUFDMUI7QUFDQSxPQUFJLEVBQUUsS0FBRixDQUFRLENBQVIsQ0FBSjtBQUNBLEdBSEksTUFJQTtBQUNKLE9BQUksQ0FBSjtBQUNBO0FBQ0QsRUFoQkQ7QUFpQkEsUUFBTyxDQUFQO0FBQ0EsQ0FuQkQ7Ozs7O0FDRkEsT0FBTyxPQUFQLEdBQWlCLFVBQUMsSUFBRCxFQUFPLElBQVA7QUFBQSxTQUFnQixRQUFRLGdCQUFnQixJQUF4QztBQUFBLENBQWpCOzs7OztBQ0FBO0FBQ0EsT0FBTyxxQkFBUCxHQUNDLE9BQU8scUJBQVAsSUFDQSxPQUFPLDJCQURQLElBRUEsT0FBTyx3QkFGUCxJQUdBLE9BQU8sc0JBSFAsSUFJQSxPQUFPLHVCQUpQLElBS0M7QUFBQSxRQUFZLFdBQVcsUUFBWCxFQUFxQixPQUFPLEVBQTVCLENBQVo7QUFBQSxDQU5GOztBQVFBLE9BQU8sT0FBUCxHQUFpQixPQUFPLHFCQUFQLENBQTZCLElBQTdCLENBQWtDLE1BQWxDLENBQWpCOzs7Ozs7Ozs7cWpCQ1RBO0FBQ0E7O0FBRUE7Ozs7Ozs7O0FBRUE7QUFDQSxJQUFNLFFBQVEsT0FBTyxVQUFQLEdBQW9CLG9CQUFVLE9BQU8sVUFBakIsQ0FBbEM7O0FBRUEsU0FBUyxZQUFULENBQXNCLFFBQXRCLEVBQWdDO0FBQy9CO0FBQ0EsVUFBUyxVQUFUO0FBQ0E7O0lBRW9CLFU7Ozs7Ozs7c0JBRVQsSyxFQUFPO0FBQ2pCO0FBQ0EsY0FBVyxNQUFYLENBQWtCLElBQWxCLENBQXVCLEtBQXZCOztBQUVBO0FBQ0EsT0FBSSxXQUFXLE1BQVgsQ0FBa0IsTUFBbEIsS0FBNkIsQ0FBakMsRUFBb0M7QUFDbkM7QUFDQSxVQUFNLE9BQU4sR0FBZ0IsWUFBaEI7QUFDQTtBQUNEOztBQUVEOzs7O3VCQUNZLE0sRUFBUTtBQUNuQjtBQUNBLE9BQU0sUUFBUSxXQUFXLE1BQVgsQ0FBa0IsQ0FBbEIsQ0FBZDs7QUFFQTtBQUNBLE9BQUksS0FBSixFQUFXO0FBQ1YsV0FBTyxJQUFJLEtBQUosQ0FBVSxNQUFWLENBQVA7QUFDQTtBQUNEOzs7Ozs7a0JBdEJtQixVOzs7QUF5QnJCLFdBQVcsTUFBWCxHQUFvQixFQUFwQjs7Ozs7Ozs7O3FqQkN0Q0E7QUFDQTs7QUFFQTs7O0FBQ0E7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7QUFFQTtBQUNBLElBQU0sa0JBQWtCLFlBQXhCO0FBQ0EsSUFBTSxhQUFhLENBQUMsT0FBRCxFQUFVLFdBQVYsRUFBdUIsU0FBdkIsRUFBa0MsV0FBbEMsRUFBK0MsV0FBL0MsRUFBNEQsVUFBNUQsRUFBd0UsT0FBeEUsRUFBaUYsUUFBakYsQ0FBbkI7QUFDQSxJQUFNLGNBQWMsQ0FBQyxXQUFELEVBQWMsWUFBZCxFQUE0QixVQUE1QixDQUFwQjs7QUFFQSxJQUFNLGtCQUFrQixTQUF4Qjs7SUFFcUIsTTs7QUFFcEI7QUFDQTtBQUNBLGlCQUFZLE1BQVosRUFBb0I7QUFBQTs7QUFBQTs7QUFFbkIsTUFBSSxlQUFKOztBQUVBO0FBQ0EsT0FBSyxNQUFMLEdBQWMsRUFBZDs7QUFFQTtBQUNBLE1BQUksRUFBRSxnQkFBZ0IsU0FBUyxhQUFULENBQXVCLFFBQXZCLENBQWxCLENBQUosRUFBeUQ7QUFDeEQ7QUFDQTtBQUNBOztBQUVELE1BQUksRUFBRSxVQUFVLGtCQUFrQixpQkFBOUIsQ0FBSixFQUFzRDs7QUFFckQ7QUFDQSxZQUFTLE1BQVQ7O0FBRUE7QUFDQSxZQUFTLFNBQVMsYUFBVCxDQUF1QixRQUF2QixDQUFUO0FBQ0EsVUFBTyxLQUFQLENBQWEsZUFBYixHQUErQixPQUEvQjs7QUFFQTtBQUNBLE9BQUksQ0FBQyxNQUFMLEVBQWE7QUFDWjtBQUNBLGFBQVMsU0FBUyxJQUFsQjtBQUNBLFdBQU8sS0FBUCxDQUFhLE9BQWIsR0FBdUIseUNBQXZCO0FBQ0EsV0FBTyxZQUFQLENBQW9CLFVBQXBCLEVBQWdDLENBQWhDOztBQUVBLGFBQVMsZUFBVCxDQUF5QixLQUF6QixDQUErQixPQUEvQixHQUF5QyxrQkFBekM7QUFDQSxhQUFTLElBQVQsQ0FBYyxLQUFkLENBQW9CLE9BQXBCLEdBQThCLGtCQUE5Qjs7QUFFQTtBQUNBLFdBQU8sZ0JBQVAsQ0FBd0IsUUFBeEIsRUFBa0MsS0FBSyxNQUFMLENBQVksSUFBWixDQUFpQixJQUFqQixDQUFsQztBQUNBOztBQUVEO0FBQ0EsVUFBTyxZQUFQLENBQW9CLE1BQXBCLEVBQTRCLE9BQU8saUJBQW5DOztBQUVBLFFBQUssTUFBTCxHQUFjLE1BQWQ7O0FBRUEsUUFBSyxNQUFMO0FBQ0EsR0E3QkQsTUE4Qks7QUFDSixRQUFLLE1BQUwsR0FBYyxNQUFkO0FBQ0EsWUFBUyxPQUFPLFVBQWhCO0FBQ0E7O0FBRUQsT0FBSyxHQUFMLEdBQVcsT0FBTyxVQUFQLENBQWtCLElBQWxCLENBQVg7O0FBRUE7QUFDQSxPQUFLLEdBQUwsQ0FBUyxJQUFUOztBQUVBO0FBQ0EsT0FBSyxLQUFMLEdBQWEsQ0FBYjtBQUNBLE9BQUssSUFBTCxHQUFZLENBQVo7O0FBRUE7QUFDQSxPQUFLLElBQUw7O0FBRUE7QUFDQSxhQUFXLE9BQVgsQ0FBbUI7QUFBQSxVQUFhLE1BQUssTUFBTCxDQUFZLGdCQUFaLENBQTZCLFNBQTdCLEVBQXdDLE1BQUssYUFBTCxDQUFtQixJQUFuQixPQUF4QyxDQUFiO0FBQUEsR0FBbkI7O0FBRUE7QUFDQSxjQUFZLE9BQVosQ0FBb0I7QUFBQSxVQUFhLE1BQUssTUFBTCxDQUFZLGdCQUFaLENBQTZCLFNBQTdCLEVBQXdDLE1BQUssa0JBQUwsQ0FBd0IsSUFBeEIsT0FBeEMsQ0FBYjtBQUFBLEdBQXBCOztBQUVBO0FBQ0E7QUFDQSxNQUFJLFdBQVcsU0FBUyxJQUFwQixJQUE0QixPQUFPLEtBQVAsQ0FBYSxnQkFBYixDQUE4QixTQUE5QixNQUE2QyxJQUE3RSxFQUFtRjtBQUNsRjtBQUNBLGNBQVcsT0FBWCxDQUFtQjtBQUFBLFdBQWEsU0FBUyxnQkFBVCxDQUEwQixTQUExQixFQUFxQyxNQUFLLGFBQUwsQ0FBbUIsSUFBbkIsT0FBckMsQ0FBYjtBQUFBLElBQW5COztBQUVBO0FBQ0EsZUFBWSxPQUFaLENBQW9CO0FBQUEsV0FBYSxTQUFTLGdCQUFULENBQTBCLFNBQTFCLEVBQXFDLE1BQUssa0JBQUwsQ0FBd0IsSUFBeEIsT0FBckMsQ0FBYjtBQUFBLElBQXBCO0FBQ0E7O0FBRUQ7QUFDQTtBQUNDO0FBQ0EsT0FBTSxRQUFRLEtBQUssTUFBTCxDQUFZLEtBQTFCO0FBQ0EsT0FBTSxXQUFXLE1BQU0sZ0JBQU4sQ0FBdUIsU0FBdkIsQ0FBakI7QUFDQTtBQUNBLFVBQU8sZ0JBQVAsQ0FBd0IsWUFBeEIsRUFBc0MsV0FBVyxJQUFYLENBQWdCLEtBQWhCLEVBQXVCLFFBQXZCLENBQXRDOztBQUVBLGNBQVcsSUFBWCxDQUFnQixLQUFoQixFQUF1QixRQUF2QjtBQUNBO0FBQ0Q7O0FBRUQ7Ozs7OzJCQWlDUztBQUNSLE9BQU0sU0FBVSxLQUFLLE1BQUwsQ0FBWSxVQUFaLEtBQTJCLFNBQVMsSUFBckMsR0FBNkMsU0FBUyxlQUF0RCxHQUF3RSxLQUFLLE1BQUwsQ0FBWSxVQUFuRztBQUNBLE9BQU0sU0FBUyxPQUFPLFlBQXRCO0FBQ0EsT0FBTSxRQUFRLE9BQU8sV0FBckI7QUFDQSxPQUFJLFVBQVUsS0FBZDs7QUFFQSxPQUFJLEtBQUssS0FBTCxLQUFlLEtBQW5CLEVBQTBCO0FBQ3pCLGNBQVUsSUFBVjtBQUNBLFNBQUssS0FBTCxHQUFhLEtBQWI7QUFDQTtBQUNELE9BQUksS0FBSyxNQUFMLEtBQWdCLE1BQXBCLEVBQTRCO0FBQzNCLGNBQVUsSUFBVjtBQUNBLFNBQUssTUFBTCxHQUFjLE1BQWQ7QUFDQTs7QUFFRCxPQUFJLE9BQUosRUFBYTtBQUNaLFNBQUssTUFBTCxDQUFZLGFBQVosQ0FBMEIsMkJBQVksUUFBWixDQUExQjtBQUNBO0FBQ0Q7OzswQkFFTztBQUNQLFFBQUssR0FBTCxDQUFTLFNBQVQsQ0FBbUIsQ0FBbkIsRUFBc0IsQ0FBdEIsRUFBeUIsS0FBSyxNQUFMLENBQVksS0FBckMsRUFBNEMsS0FBSyxNQUFMLENBQVksTUFBeEQ7QUFDQTs7QUFFRDs7OztpQ0FDZTs7QUFFZDtBQUNBLFVBQU8sUUFBUCxDQUFnQixJQUFoQixHQUF1QixlQUF2QjtBQUNBOztBQUVEOzs7O3lCQUNPOztBQUVOO0FBQ0EsUUFBSyxHQUFMOztBQUVBO0FBQ0EsUUFBSyxNQUFMLENBQVksYUFBWixDQUEwQiwyQkFBWSxPQUFaLENBQTFCOztBQUVBO0FBQ0EseUJBQXNCLEtBQUssSUFBTCxDQUFVLElBQVYsQ0FBZSxJQUFmLENBQXRCO0FBQ0E7O0FBRUQ7Ozs7bUNBQ2lCLFUsRUFBWSxPLEVBQVM7QUFBQTs7QUFFckMsY0FBVyxLQUFYLENBQWlCLGVBQWpCLEVBQWtDLE9BQWxDLENBQTBDLHFCQUFhO0FBQ3REO0FBQ0EsUUFBSSxFQUFFLGFBQWEsT0FBSyxNQUFwQixDQUFKLEVBQWlDO0FBQ2hDLFlBQUssTUFBTCxDQUFZLFNBQVosSUFBeUIsRUFBekI7QUFDQTs7QUFFRCxXQUFLLE1BQUwsQ0FBWSxTQUFaLEVBQXVCLElBQXZCLENBQTRCLE9BQTVCO0FBQ0EsSUFQRDtBQVFBOztBQUVEOzs7O2dDQUNjLEMsRUFBRzs7QUFFaEIsT0FBSSxFQUFFLElBQUYsSUFBVSxLQUFLLE1BQW5CLEVBQTJCOztBQUUxQixRQUFNLFNBQVMsRUFBRSxhQUFqQjs7QUFFQTtBQUNBLFFBQUksV0FBVyxRQUFmLEVBQXlCOztBQUV4QixTQUFJLGdDQUFpQjtBQUNwQixZQUFNLEVBQUUsSUFEWTtBQUVwQixjQUFRLEtBQUssTUFGTztBQUdwQixlQUFTLEVBQUUsS0FBRixJQUFXLEVBQUUsT0FIRjtBQUlwQixlQUFTLEVBQUUsS0FBRixJQUFXLEVBQUU7QUFKRixNQUFqQixDQUFKO0FBTUE7O0FBRUQsU0FBSyxNQUFMLENBQVksRUFBRSxJQUFkLEVBQW9CLE9BQXBCLENBQTRCO0FBQUEsWUFBVyxRQUFRLENBQVIsQ0FBWDtBQUFBLEtBQTVCO0FBQ0EsTUFBRSxjQUFGO0FBQ0EsTUFBRSxlQUFGO0FBQ0E7QUFDRDs7QUFFRDs7OztxQ0FDbUIsQyxFQUFHO0FBQ3JCO0FBQ0E7QUFDQSxPQUFNLFFBQVEsQ0FBQyxFQUFFLE9BQUYsSUFBYSxFQUFFLGNBQWhCLEVBQWdDLENBQWhDLENBQWQ7QUFDQSxPQUFJLEtBQUosRUFBVztBQUNWLE1BQUUsT0FBRixHQUFZLEtBQUssR0FBTCxDQUFTLE1BQU0sS0FBTixJQUFlLE1BQU0sT0FBOUIsQ0FBWjtBQUNBLE1BQUUsT0FBRixHQUFZLEtBQUssR0FBTCxDQUFTLE1BQU0sS0FBTixJQUFlLE1BQU0sT0FBOUIsQ0FBWjtBQUNBOztBQUVELFFBQUssYUFBTCxDQUFtQixDQUFuQjtBQUNBOzs7c0JBNUhXO0FBQ1gsVUFBTyxLQUFLLE1BQUwsQ0FBWSxLQUFuQjtBQUNBLEc7b0JBQ1MsSyxFQUFPO0FBQ2hCLFFBQUssTUFBTCxDQUFZLEtBQVosR0FBb0IsS0FBcEI7QUFDQSxVQUFPLEtBQVA7QUFDQTs7O3NCQUVZO0FBQ1osVUFBTyxLQUFLLE1BQUwsQ0FBWSxNQUFuQjtBQUNBLEc7b0JBQ1UsSyxFQUFPO0FBQ2pCLFFBQUssTUFBTCxDQUFZLE1BQVosR0FBcUIsS0FBckI7QUFDQSxVQUFPLEtBQVA7QUFDQTs7O3NCQUNTO0FBQ1QsVUFBTyxLQUFLLElBQVo7QUFDQSxHO29CQUNPLEssRUFBTzs7QUFFZCxRQUFLLElBQUwsR0FBWSxLQUFaOztBQUVBLE9BQU0sTUFBTyxJQUFJLElBQUosRUFBRCxDQUFhLE9BQWIsRUFBWjs7QUFFQSxPQUFLLE1BQU0sS0FBSyxLQUFaLEdBQXFCLElBQXpCLEVBQStCO0FBQzlCO0FBQ0EsU0FBSyxLQUFMLEdBQWEsR0FBYjtBQUNBLFNBQUssSUFBTCxHQUFZLENBQVo7QUFDQTtBQUNEOzs7Ozs7a0JBMUhtQixNOzs7QUE2TnJCLFNBQVMsVUFBVCxDQUFvQixDQUFwQixFQUF1Qjs7QUFFdEIsS0FBTSxTQUFTLFNBQWY7O0FBRUEsS0FBSSxPQUFPLFFBQVAsQ0FBZ0IsSUFBaEIsV0FBOEIsZUFBbEMsRUFBcUQ7QUFDcEQsTUFBSSxLQUFKO0FBQ0E7O0FBRUQsS0FBSSxNQUFNLFNBQVYsRUFBcUI7QUFDcEI7QUFDQSxPQUFLLFdBQUwsQ0FBaUIsTUFBakIsRUFBeUIsQ0FBekI7QUFDQSxFQUhELE1BSUs7QUFDSjtBQUNBLE9BQUssY0FBTCxDQUFvQixNQUFwQjtBQUNBO0FBQ0Q7Ozs7Ozs7Ozs7Ozs7QUM1UEQ7O0FBRUEsSUFBTSxhQUFhLENBQUMsT0FBRCxFQUFVLFdBQVYsRUFBdUIsU0FBdkIsRUFBa0MsV0FBbEMsRUFBK0MsV0FBL0MsRUFBNEQsVUFBNUQsRUFBd0UsV0FBeEUsRUFBcUYsWUFBckYsRUFBbUcsVUFBbkcsRUFBK0csT0FBL0csQ0FBbkI7O0lBRXFCLFU7QUFFcEIscUJBQVksTUFBWixFQUFvQjtBQUFBOztBQUNuQjtBQUNBLE9BQUssUUFBTCxHQUFnQixFQUFoQjs7QUFFQTtBQUNBLE9BQUssTUFBTCxHQUFjLEVBQWQ7O0FBRUE7QUFDQSxPQUFLLElBQUwsQ0FBVSxNQUFWO0FBQ0E7O0FBRUQ7Ozs7O3VCQUNNLE0sRUFBUTtBQUFBOztBQUViO0FBQ0EsUUFBSyxNQUFMLEdBQWMsTUFBZDs7QUFFQTtBQUNBLFFBQUssR0FBTCxHQUFXLE9BQU8sVUFBUCxDQUFrQixJQUFsQixDQUFYOztBQUVBO0FBQ0EsY0FBVyxPQUFYLENBQW1CO0FBQUEsV0FBYSxPQUFPLGdCQUFQLENBQXdCLFNBQXhCLEVBQW1DLE1BQUssZ0JBQUwsQ0FBc0IsSUFBdEIsT0FBbkMsQ0FBYjtBQUFBLElBQW5CO0FBRUE7Ozt1QkFFSSxJLEVBQU07QUFDVixRQUFLLEtBQUwsR0FBYSxJQUFiOztBQUVBO0FBQ0EsT0FBSSxLQUFLLFFBQUwsQ0FBYyxPQUFkLENBQXNCLElBQXRCLE1BQWdDLENBQUMsQ0FBckMsRUFBd0M7QUFDdkMsUUFBSSxLQUFLLEtBQVQsRUFBZ0I7QUFDZixVQUFLLEtBQUwsQ0FBVyxJQUFYO0FBQ0E7O0FBRUQ7QUFDQSxTQUFLLFFBQUwsQ0FBYyxJQUFkLENBQW1CLElBQW5CO0FBQ0E7QUFDRDs7Ozs7QUFVRDtBQUNBOzRCQUNVO0FBQUE7O0FBQ1QsUUFBSyxRQUFMLENBQWMsT0FBZCxDQUFzQixnQkFBUTtBQUM3QixRQUFJLEtBQUssS0FBTCxLQUFlLElBQW5CLEVBQ0MsT0FBSyxZQUFMLENBQWtCLElBQWxCO0FBQ0QsSUFIRDtBQUlBOztBQUVEOzs7OytCQUNhLEksRUFBTTs7QUFFbEIsT0FBTSxNQUFNLEtBQUssR0FBakI7O0FBRUEsT0FBSSxLQUFLLEtBQUwsS0FBZSxTQUFuQixFQUE4QjtBQUM3QjtBQUNBOztBQUVEO0FBQ0EsUUFBSyxLQUFMLEdBQWEsU0FBYjs7QUFFQTtBQUNBLE9BQUksU0FBSixDQUFjLEtBQUssQ0FBbkIsRUFBc0IsS0FBSyxDQUEzQixFQUE4QixLQUFLLENBQW5DLEVBQXNDLEtBQUssQ0FBM0M7O0FBRUE7QUFDQSxPQUFJLEtBQUssSUFBTCxJQUFhLFVBQVUsS0FBSyxJQUFmLEVBQXFCLElBQXJCLENBQWpCLEVBQTZDO0FBQzVDLFFBQUksU0FBSixDQUFjLEtBQUssSUFBTCxDQUFVLENBQXhCLEVBQTJCLEtBQUssSUFBTCxDQUFVLENBQXJDLEVBQXdDLEtBQUssSUFBTCxDQUFVLENBQWxELEVBQXFELEtBQUssSUFBTCxDQUFVLENBQS9EO0FBQ0E7O0FBRUQ7QUFDQSxRQUFLLFFBQUwsQ0FBYyxPQUFkLENBQXNCLEtBQUssZ0JBQUwsQ0FBc0IsSUFBdEIsQ0FBMkIsSUFBM0IsRUFBaUMsSUFBakMsQ0FBdEI7QUFDQTs7O21DQUVnQixJLEVBQU0sTyxFQUFTOztBQUUvQjtBQUNBLE9BQUksQ0FBQyxRQUFRLEtBQVQsSUFBa0IsUUFBUSxPQUFSLEtBQW9CLEtBQXRDLEtBQWdELFVBQVUsT0FBVixFQUFtQixJQUFuQixNQUE2QixLQUFLLElBQUwsR0FBWSxVQUFVLE9BQVYsRUFBbUIsS0FBSyxJQUF4QixDQUFaLEdBQTRDLEtBQXpFLENBQWhELENBQUosRUFBc0k7QUFDckk7QUFDQSxTQUFLLFlBQUwsQ0FBa0IsT0FBbEI7QUFDQTtBQUNEOzs7eUJBRU07QUFDTjtBQUNBLFFBQUssUUFBTCxDQUFjLElBQWQsQ0FBbUIsVUFBQyxDQUFELEVBQUksQ0FBSixFQUFVO0FBQzVCLFFBQUksRUFBRSxNQUFGLElBQVksQ0FBaEI7QUFDQSxRQUFJLEVBQUUsTUFBRixJQUFZLENBQWhCO0FBQ0EsV0FBTyxFQUFFLElBQUksQ0FBTixLQUFZLEVBQUUsSUFBSSxDQUFOLENBQW5CO0FBQ0EsSUFKRDtBQUtBOztBQUVEOzs7O3lCQUNPOztBQUVOLE9BQU0sTUFBTSxLQUFLLEdBQWpCOztBQUVBO0FBQ0E7QUFDQSxRQUFLLFFBQUwsQ0FBYyxPQUFkLENBQXNCLGdCQUFROztBQUU3QixRQUFJLEtBQUssS0FBVCxFQUFnQjtBQUNmLFVBQUssS0FBTCxDQUFXLEdBQVg7QUFDQTs7QUFFRCxRQUFJLEtBQUssS0FBTCxJQUFjLEtBQUssT0FBTCxLQUFpQixLQUFuQyxFQUEwQztBQUN6QyxVQUFLLElBQUwsQ0FBVSxHQUFWO0FBQ0E7O0FBRUQsU0FBSyxLQUFMLEdBQWEsS0FBYjtBQUNBLElBWEQ7QUFZQTs7O21DQUVnQixDLEVBQUcsQyxFQUFHOztBQUV0QixPQUFJLGVBQUo7O0FBRUE7QUFDQSxPQUFNLE1BQU07QUFDWCxRQURXO0FBRVgsUUFGVztBQUdYLE9BQUcsQ0FIUTtBQUlYLE9BQUc7QUFKUSxJQUFaOztBQU9BLFFBQUssUUFBTCxDQUFjLE9BQWQsQ0FBc0IsZ0JBQVE7O0FBRTdCLFFBQUksS0FBSyxPQUFMLEtBQWlCLEtBQWpCLElBQTBCLENBQUMsS0FBSyxDQUFoQyxJQUFxQyxDQUFDLEtBQUssQ0FBM0MsSUFBZ0QsS0FBSyxhQUFMLEtBQXVCLEtBQTNFLEVBQWtGO0FBQ2pGO0FBQ0E7O0FBRUQ7QUFDQSxRQUFJLFVBQVUsR0FBVixFQUFlLElBQWYsQ0FBSixFQUEwQjtBQUN6QjtBQUNBLGNBQVMsSUFBVDtBQUNBO0FBQ0QsSUFYRDs7QUFhQSxVQUFPLE1BQVA7QUFDQTs7QUFFRDs7OzttQ0FDaUIsUyxFQUFXLE8sRUFBUzs7QUFFcEM7QUFDQSxPQUFJLEVBQUUsYUFBYSxLQUFLLE1BQXBCLENBQUosRUFBaUM7QUFDaEMsU0FBSyxNQUFMLENBQVksU0FBWixJQUF5QixFQUF6QjtBQUNBOztBQUVELFFBQUssTUFBTCxDQUFZLFNBQVosRUFBdUIsSUFBdkIsQ0FBNEIsT0FBNUI7QUFDQTs7QUFFRDs7OztnQ0FDYyxDLEVBQUc7QUFDaEIsT0FBSSxFQUFFLElBQUYsSUFBVSxLQUFLLE1BQW5CLEVBQ0MsS0FBSyxNQUFMLENBQVksRUFBRSxJQUFkLEVBQW9CLE9BQXBCLENBQTRCO0FBQUEsV0FBVyxRQUFRLENBQVIsQ0FBWDtBQUFBLElBQTVCO0FBQ0Q7O0FBRUQ7Ozs7bUNBQ2lCLEMsRUFBRztBQUNuQjtBQUNBLE9BQUssT0FBTyxVQUFQLEtBQXNCLFdBQXRCLElBQXFDLGFBQWEsVUFBbkQsSUFDRixPQUFPLFVBQVAsS0FBc0IsV0FBdEIsSUFBcUMsYUFBYSxVQURwRCxFQUNpRTs7QUFFaEU7QUFDQSxRQUFNLE1BQU07QUFDWCxRQUFHLEVBQUUsT0FETTtBQUVYLFFBQUcsRUFBRSxPQUZNO0FBR1gsUUFBRyxDQUhRO0FBSVgsUUFBRztBQUpRLEtBQVo7O0FBT0EsU0FBSyxRQUFMLENBQWMsT0FBZCxDQUFzQixnQkFBUTs7QUFFN0IsU0FBSSxDQUFDLEtBQUssT0FBTixJQUFpQixDQUFDLEtBQUssQ0FBdkIsSUFBNEIsQ0FBQyxLQUFLLENBQWxDLElBQXVDLENBQUMsS0FBSyxhQUFqRCxFQUFnRTtBQUMvRDtBQUNBOztBQUVEO0FBQ0EsZUFBVSxHQUFWLEVBQWUsSUFBZixLQUF3QixLQUFLLGFBQUwsQ0FBbUIsQ0FBbkIsQ0FBeEI7QUFDQSxLQVJEO0FBU0E7QUFDRDs7O3NCQXJKYTtBQUNiLFVBQU8sS0FBSyxRQUFMLENBQWMsTUFBckI7QUFDQSxHO29CQUNXLEMsRUFBRztBQUNkLFVBQU8sS0FBSyxRQUFMLENBQWMsTUFBZCxHQUF1QixDQUE5QjtBQUNBOzs7Ozs7QUFvSkY7QUFDQTtBQUNBO0FBQ0E7OztrQkFyTXFCLFU7QUFzTXJCLFNBQVMsU0FBVCxDQUFtQixDQUFuQixFQUFzQixDQUF0QixFQUF5QjtBQUN4QixRQUFPLEVBQUUsRUFBRSxDQUFGLEdBQU8sRUFBRSxDQUFGLEdBQU0sRUFBRSxDQUFmLElBQ1IsRUFBRSxDQUFGLEdBQU0sRUFBRSxDQUFULEdBQWMsRUFBRSxDQURQLElBRVQsRUFBRSxDQUFGLEdBQU8sRUFBRSxDQUFGLEdBQU0sRUFBRSxDQUZOLElBR1IsRUFBRSxDQUFGLEdBQU0sRUFBRSxDQUFULEdBQWMsRUFBRSxDQUhULENBQVA7QUFJQTs7QUFFRCxTQUFTLFNBQVQsQ0FBbUIsQ0FBbkIsRUFBc0IsQ0FBdEIsRUFBeUI7QUFDeEIsUUFBUSxFQUFFLENBQUYsS0FBUSxFQUFFLENBQVYsSUFDUixFQUFFLENBQUYsS0FBUSxFQUFFLENBREYsSUFFUixFQUFFLENBQUYsS0FBUSxFQUFFLENBRkYsSUFHUixFQUFFLENBQUYsS0FBUSxFQUFFLENBSFY7QUFJQTs7Ozs7Ozs7O3FqQkN0TkQ7QUFDQTtBQUNBO0FBQ0E7OztBQUNBOzs7Ozs7OztJQUVxQixLO0FBRXBCLGtCQUFzQjtBQUFBOztBQUVyQjtBQUNBLE9BQUssTUFBTCxHQUFjLEVBQWQ7O0FBRUEsTUFBSSxVQUFLLE1BQVQsRUFBaUI7QUFDaEI7QUFDQSxRQUFLLFFBQUw7QUFDQTtBQUNEOztBQUVGOzs7Ozs2QkFtR3NDO0FBQUEsT0FBNUIsQ0FBNEIsdUVBQXhCLENBQXdCO0FBQUEsT0FBckIsQ0FBcUIsdUVBQWpCLENBQWlCO0FBQUEsT0FBZCxDQUFjLHVFQUFWLENBQVU7QUFBQSxPQUFQLENBQU8sdUVBQUgsQ0FBRzs7O0FBRXBDLE9BQUksQ0FBQyxLQUFLLElBQVYsRUFBZ0I7QUFDZjtBQUNBLFNBQUssSUFBTCxHQUFZLEVBQVo7QUFDQTs7QUFFRCxRQUFLLElBQUwsQ0FBVSxDQUFWLEdBQWMsS0FBSyxDQUFuQjtBQUNBLFFBQUssSUFBTCxDQUFVLENBQVYsR0FBYyxLQUFLLENBQW5CO0FBQ0EsUUFBSyxJQUFMLENBQVUsQ0FBVixHQUFjLEtBQUssQ0FBbkI7QUFDQSxRQUFLLElBQUwsQ0FBVSxDQUFWLEdBQWMsS0FBSyxDQUFuQjs7QUFFQTtBQUNBO0FBQ0EsUUFBSyxDQUFMLEdBQVMsQ0FBVDtBQUNBLFFBQUssQ0FBTCxHQUFTLENBQVQ7QUFDQSxRQUFLLENBQUwsR0FBUyxDQUFUO0FBQ0EsUUFBSyxDQUFMLEdBQVMsQ0FBVDtBQUNBOztBQUVEOzs7OzBCQUNRLENBQUU7Ozt5QkFDSCxDQUFFOzs7MEJBQ0QsQ0FBRTs7QUFFVjtBQUNBO0FBQ0E7Ozs7bUNBQ2lCLFMsRUFBVyxRLEVBQVU7QUFDckMsT0FBSSxFQUFFLGFBQWEsS0FBSyxNQUFwQixDQUFKLEVBQWlDO0FBQ2hDLFNBQUssTUFBTCxDQUFZLFNBQVosSUFBeUIsRUFBekI7QUFDQTtBQUNELFFBQUssTUFBTCxDQUFZLFNBQVosRUFBdUIsSUFBdkIsQ0FBNEIsUUFBNUI7QUFDQTs7O2dDQUVhLEMsRUFBRztBQUNoQixPQUFJLEVBQUUsRUFBRSxJQUFGLElBQVUsS0FBSyxNQUFqQixDQUFKLEVBQThCO0FBQzdCO0FBQ0E7QUFDRCxRQUFLLE1BQUwsQ0FBWSxFQUFFLElBQWQsRUFBb0IsT0FBcEIsQ0FBNEI7QUFBQSxXQUFNLEdBQUcsQ0FBSCxDQUFOO0FBQUEsSUFBNUI7QUFDQTs7QUFFRDs7OztpQ0FDZSxRLEVBQVU7QUFDeEIsVUFBTyxjQUFQLENBQXNCLElBQXRCLEVBQTRCLFFBQTVCLEVBQXNDO0FBQ3JDLFNBQUssS0FBSyxPQUFMLENBQWEsSUFBYixDQUFrQixJQUFsQixFQUF3QixRQUF4QixDQURnQztBQUVyQyxTQUFLLEtBQUssT0FBTCxDQUFhLElBQWIsQ0FBa0IsSUFBbEIsRUFBd0IsUUFBeEI7QUFGZ0MsSUFBdEM7QUFJQTs7OzBCQUVPLFEsRUFBVTtBQUNqQixVQUFPLFdBQVUsUUFBVixDQUFQO0FBQ0E7OzswQkFFTyxRLEVBQVUsQyxFQUFHO0FBQ3BCLE9BQUksV0FBVSxRQUFWLE1BQTBCLENBQTlCLEVBQWlDO0FBQ2hDLFNBQUssS0FBTCxHQUFhLElBQWI7QUFDQSxlQUFVLFFBQVYsSUFBd0IsQ0FBeEI7QUFDQTtBQUNEOzs7c0JBN0pPO0FBQ1AsVUFBTyxLQUFLLEVBQVo7QUFDQSxHO29CQUNLLEMsRUFBRztBQUNSLE9BQUksS0FBSyxFQUFMLEtBQVksQ0FBaEIsRUFBbUI7QUFDbEIsU0FBSyxLQUFMLEdBQWEsSUFBYixDQUFtQixLQUFLLEVBQUwsR0FBVSxDQUFWO0FBQ25CO0FBQ0Q7OztzQkFFTztBQUNQLFVBQU8sS0FBSyxFQUFaO0FBQ0EsRztvQkFDSyxDLEVBQUc7QUFDUixPQUFJLEtBQUssRUFBTCxLQUFZLENBQWhCLEVBQW1CO0FBQ2xCLFNBQUssS0FBTCxHQUFhLElBQWIsQ0FBbUIsS0FBSyxFQUFMLEdBQVUsQ0FBVjtBQUNuQjtBQUNEOzs7c0JBRU87QUFDUCxVQUFPLEtBQUssRUFBWjtBQUNBLEc7b0JBQ0ssQyxFQUFHO0FBQ1IsT0FBSSxLQUFLLEVBQUwsS0FBWSxDQUFoQixFQUFtQjtBQUNsQixTQUFLLEtBQUwsR0FBYSxJQUFiLENBQW1CLEtBQUssRUFBTCxHQUFVLENBQVY7QUFDbkI7QUFDRDs7O3NCQUVPO0FBQ1AsVUFBTyxLQUFLLEVBQVo7QUFDQSxHO29CQUNLLEMsRUFBRztBQUNSLE9BQUksS0FBSyxFQUFMLEtBQVksQ0FBaEIsRUFBbUI7QUFDbEIsU0FBSyxLQUFMLEdBQWEsSUFBYixDQUFtQixLQUFLLEVBQUwsR0FBVSxDQUFWO0FBQ25CO0FBQ0Q7OztzQkFFUTtBQUNSLFVBQU8sS0FBSyxHQUFaO0FBQ0EsRztvQkFDTSxDLEVBQUc7QUFDVCxPQUFJLEtBQUssR0FBTCxLQUFhLENBQWpCLEVBQW9CO0FBQ25CLFNBQUssS0FBTCxHQUFhLElBQWIsQ0FBbUIsS0FBSyxHQUFMLEdBQVcsQ0FBWDtBQUNuQjtBQUNEOzs7c0JBRVE7QUFDUixVQUFPLEtBQUssR0FBWjtBQUNBLEc7b0JBQ00sQyxFQUFHO0FBQ1QsT0FBSSxLQUFLLEdBQUwsS0FBYSxDQUFqQixFQUFvQjtBQUNuQixTQUFLLEtBQUwsR0FBYSxJQUFiLENBQW1CLEtBQUssR0FBTCxHQUFXLENBQVg7QUFDbkI7QUFDRDs7O3NCQUVhO0FBQ2IsVUFBUSxLQUFLLFFBQUwsS0FBa0IsU0FBbEIsR0FBOEIsSUFBOUIsR0FBcUMsS0FBSyxRQUFsRDtBQUNBLEc7b0JBQ1csQyxFQUFHO0FBQ2QsT0FBSSxLQUFLLFFBQUwsS0FBa0IsQ0FBdEIsRUFBeUI7QUFDeEIsU0FBSyxLQUFMLEdBQWEsSUFBYixDQUFtQixLQUFLLFFBQUwsR0FBZ0IsQ0FBaEI7QUFDbkI7QUFDRDs7O3NCQUVhO0FBQ2IsVUFBUSxLQUFLLFFBQUwsS0FBa0IsU0FBbEIsR0FBOEIsQ0FBOUIsR0FBa0MsS0FBSyxRQUEvQztBQUNBLEc7b0JBQ1csQyxFQUFHO0FBQ2QsT0FBSSxLQUFLLFFBQUwsS0FBa0IsQ0FBdEIsRUFBeUI7QUFDeEIsU0FBSyxLQUFMLEdBQWEsSUFBYixDQUFtQixLQUFLLFFBQUwsR0FBZ0IsQ0FBaEI7QUFDbkI7QUFDRDs7O29CQUVVLEMsRUFBRztBQUNiO0FBQ0EsT0FBSSxDQUFDLEtBQUssTUFBTixJQUFnQixDQUFwQixFQUF1QjtBQUN0QjtBQUNBLFNBQUssTUFBTCxHQUFjLENBQWQ7O0FBRUE7QUFDQSxTQUFLLGFBQUwsQ0FBbUIsMkJBQVksT0FBWixDQUFuQjtBQUNBLElBTkQsTUFPSyxJQUFJLENBQUMsQ0FBTCxFQUFRO0FBQ1o7QUFDQSxTQUFLLE1BQUwsR0FBYyxDQUFkO0FBQ0E7QUFDRCxHO3NCQUNZO0FBQ1osVUFBTyxLQUFLLE1BQVo7QUFDQTs7QUFFRDs7OztzQkFDcUI7QUFDcEIsVUFBUSxLQUFLLGNBQUwsS0FBd0IsU0FBeEIsR0FBb0MsQ0FBcEMsR0FBd0MsS0FBSyxjQUFyRDtBQUNBLEc7b0JBQ2tCLEMsRUFBRztBQUNyQixRQUFLLGNBQUwsR0FBc0IsQ0FBdEI7QUFDQTs7Ozs7O2tCQTlHbUIsSzs7Ozs7Ozs7Ozs7OztBQ0hyQjs7Ozs7Ozs7OzsrZUFIQTtBQUNBOztJQUlxQixJOzs7QUFFcEI7QUFDQSxlQUFhLElBQWIsRUFBbUI7QUFBQTs7QUFJbEI7QUFKa0I7QUFDbEI7OztBQUlBLEdBQUMsTUFBRCxFQUFTLFlBQVQsRUFBdUIsYUFBdkIsRUFBc0MsV0FBdEMsRUFBbUQsYUFBbkQsRUFBa0UsV0FBbEUsRUFBK0UsY0FBL0UsRUFBK0YsV0FBL0YsRUFBNEcsT0FBNUcsQ0FBb0gsTUFBSyxjQUFMLENBQW9CLElBQXBCLE9BQXBIOztBQUVBO0FBQ0EsUUFBSyxJQUFMLEdBQVksUUFBUSxFQUFwQjs7QUFFQSxRQUFLLFdBQUwsR0FBbUIsT0FBbkI7QUFDQSxRQUFLLFNBQUwsR0FBaUIsT0FBakI7QUFDQSxRQUFLLFdBQUwsR0FBbUIsT0FBbkI7QUFDQSxRQUFLLFNBQUwsR0FBaUIsTUFBakI7QUFDQSxRQUFLLFlBQUwsR0FBb0IsS0FBcEI7QUFDQSxRQUFLLFNBQUwsR0FBaUIsQ0FBakI7QUFDQSxRQUFLLEtBQUwsR0FBYSxVQUFiO0FBQ0EsUUFBSyxRQUFMLEdBQWdCLEVBQWhCO0FBakJrQjtBQWtCbEI7O0FBRUQ7Ozs7O3VCQUNNLE0sRUFBUTtBQUFBLHNCQUd5QixLQUFLLEtBQUwsQ0FBVyxLQUFYLENBQWlCLEdBQWpCLENBSHpCOztBQUViOzs7QUFGYTs7QUFHWixRQUFLLFNBSE87QUFHSSxRQUFLLFlBSFQ7OztBQUtiLE9BQU0sTUFBTSxPQUFPLEdBQW5CO0FBQ0EsT0FBSSxXQUFXLEtBQUssUUFBcEI7O0FBRUE7QUFDQSxRQUFLLEtBQUwsR0FBYSxLQUFLLElBQUwsQ0FBVSxRQUFWLEdBQXFCLEtBQXJCLENBQTJCLElBQTNCLENBQWI7O0FBRUE7QUFDQSxPQUFJLFNBQVMsQ0FBYjtBQUNBLE9BQUksZUFBZSxLQUFLLEtBQUwsQ0FBVyxDQUFYLENBQW5COztBQUVBLFFBQUssS0FBTCxDQUFXLE9BQVgsQ0FBbUIsZ0JBQVE7QUFDMUIsUUFBTSxLQUFLLElBQUksV0FBSixDQUFnQixJQUFoQixFQUFzQixLQUFqQztBQUNBLFFBQUksS0FBSyxNQUFULEVBQWlCO0FBQ2hCLGNBQVMsRUFBVDtBQUNBLG9CQUFlLElBQWY7QUFDQTtBQUNELElBTkQ7O0FBUUE7QUFDQTtBQUNBLE9BQUksSUFBSjs7QUFFQSxPQUFJLFdBQUosR0FBa0IsT0FBbEI7QUFDQSxPQUFJLFNBQUosR0FBZ0IsT0FBaEI7QUFDQSxPQUFJLFdBQUosR0FBa0IsdUJBQWxCO0FBQ0EsT0FBSSxJQUFKLGFBQW9CLFFBQXBCOztBQUVBLFVBQU8sSUFBSSxXQUFKLENBQWdCLFlBQWhCLEVBQThCLEtBQTlCLEdBQXNDLE9BQU8sS0FBcEQsRUFBMkQ7QUFDMUQsZ0JBQVksR0FBWjtBQUNBLGVBQVcsS0FBSyxLQUFMLENBQVcsUUFBWCxDQUFYO0FBQ0EsUUFBSSxJQUFKLGFBQW9CLFFBQXBCO0FBQ0E7O0FBRUQsUUFBSyxVQUFMLEdBQWtCLElBQUksVUFBSixHQUFpQixLQUFLLEtBQUwsQ0FBVyxXQUFXLEVBQXRCLENBQW5DO0FBQ0EsUUFBSyxRQUFMLEdBQWdCLFFBQWhCO0FBQ0EsUUFBSyxJQUFMLEdBQVksSUFBSSxJQUFoQjs7QUFFQSxRQUFLLENBQUwsR0FBUyxJQUFJLFdBQUosQ0FBZ0IsWUFBaEIsRUFBOEIsS0FBOUIsR0FBdUMsS0FBSyxVQUFMLEdBQWtCLENBQWxFO0FBQ0EsUUFBSyxDQUFMLEdBQVMsQ0FBQyxXQUFZLEtBQUssVUFBTCxHQUFrQixDQUEvQixJQUFxQyxLQUFLLEtBQUwsQ0FBVyxNQUF6RDs7QUFFQSxPQUFJLE9BQUo7O0FBRUE7QUFDQTtBQUNBLFFBQUssU0FBTCxHQUFpQixLQUFLLEtBQUwsQ0FBVyxXQUFXLEVBQXRCLENBQWpCOztBQUdBO0FBQ0EsV0FBUSxLQUFLLFNBQWI7QUFDQyxTQUFLLFFBQUw7QUFDQSxTQUFLLFFBQUw7QUFDQyxVQUFLLFNBQUwsR0FBaUIsUUFBakI7QUFDQSxVQUFLLENBQUwsR0FBVSxPQUFPLEtBQVAsR0FBZSxDQUFoQixHQUFzQixLQUFLLENBQUwsR0FBUyxDQUF4QztBQUNBO0FBQ0QsU0FBSyxNQUFMO0FBQ0MsVUFBSyxDQUFMLEdBQVMsQ0FBVDtBQUNBO0FBQ0QsU0FBSyxPQUFMO0FBQ0MsVUFBSyxDQUFMLEdBQVMsT0FBTyxLQUFQLEdBQWUsS0FBSyxDQUE3QjtBQUNBO0FBWEY7O0FBY0EsV0FBUSxLQUFLLFlBQWI7QUFDQyxTQUFLLFFBQUw7QUFDQSxTQUFLLFFBQUw7QUFDQyxVQUFLLFlBQUwsR0FBb0IsUUFBcEI7QUFDQSxVQUFLLENBQUwsR0FBVSxPQUFPLE1BQVAsR0FBZ0IsQ0FBakIsR0FBdUIsS0FBSyxDQUFMLEdBQVMsQ0FBekM7QUFDQTtBQUNELFNBQUssS0FBTDtBQUNDLFVBQUssQ0FBTCxHQUFTLENBQVQ7QUFDQTtBQUNELFNBQUssUUFBTDtBQUNDLFVBQUssQ0FBTCxHQUFTLE9BQU8sTUFBUCxHQUFnQixLQUFLLENBQTlCO0FBQ0E7QUFYRjs7QUFjQSxRQUFLLFNBQUwsR0FBaUIsTUFBakI7QUFDQSxRQUFLLFlBQUwsR0FBb0IsS0FBcEI7O0FBRUEsT0FBSSxPQUFKO0FBQ0E7O0FBRUQ7Ozs7dUJBQ00sRyxFQUFLO0FBQUE7O0FBRVYsT0FBSSxJQUFKOztBQUVBLE9BQUksV0FBSixHQUFrQixLQUFLLE9BQXZCOztBQUVBLE9BQUksV0FBSixHQUFrQixLQUFLLFdBQXZCO0FBQ0EsT0FBSSxLQUFLLFVBQVQsRUFBcUI7QUFDcEIsUUFBSSxVQUFKLEdBQWlCLEtBQUssVUFBdEI7QUFDQTtBQUNELE9BQUksU0FBSixHQUFnQixLQUFLLFNBQXJCO0FBQ0EsT0FBSSxXQUFKLEdBQWtCLEtBQUssV0FBdkI7QUFDQSxPQUFJLElBQUosR0FBVyxLQUFLLElBQWhCOztBQUVBLE9BQUksU0FBSixHQUFnQixLQUFLLFNBQXJCO0FBQ0EsT0FBSSxZQUFKLEdBQW1CLEtBQUssWUFBeEI7QUFDQSxPQUFJLFNBQUosR0FBZ0IsS0FBSyxTQUFyQjs7QUFFQSxPQUFJLEtBQUssU0FBVCxFQUFvQjtBQUNuQixRQUFJLFNBQUosR0FBZ0IsS0FBSyxTQUFyQjtBQUNBOztBQUVELFFBQUssS0FBTCxHQUFhLEtBQUssSUFBTCxDQUFVLFFBQVYsR0FBcUIsS0FBckIsQ0FBMkIsSUFBM0IsQ0FBYjs7QUFFQSxPQUFNLE1BQU0sS0FBSyxLQUFMLENBQVcsTUFBdkI7O0FBRUEsUUFBSyxLQUFMLENBQVcsT0FBWCxDQUFtQixVQUFDLElBQUQsRUFBTyxLQUFQLEVBQWlCO0FBQ25DLFFBQU0sSUFBSSxPQUFLLENBQUwsSUFBVSxPQUFLLENBQUwsR0FBVSxTQUFTLE9BQUssQ0FBTCxHQUFTLEdBQWxCLENBQVYsR0FBb0MsQ0FBOUMsQ0FBVjs7QUFFQSxRQUFJLFFBQUosQ0FBYSxJQUFiLEVBQW1CLE9BQUssQ0FBeEIsRUFBMkIsQ0FBM0I7QUFDQSxRQUFJLE9BQUssV0FBVCxFQUFzQjtBQUNyQixTQUFJLFVBQUosQ0FBZSxJQUFmLEVBQXFCLE9BQUssQ0FBMUIsRUFBNkIsQ0FBN0I7QUFDQTtBQUNELElBUEQ7O0FBU0EsT0FBSSxPQUFKO0FBQ0E7Ozs7OztrQkFwSm1CLEk7Ozs7Ozs7cWpCQ0xyQjtBQUNBOztBQUVBOzs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7OztBQUdBO0FBQ0E7SUFDTSxJO0FBRUwsaUJBQXNCO0FBQUE7O0FBRXJCO0FBQ0EsT0FBSyxRQUFMOztBQUVBO0FBQ0E7QUFDQSxPQUFLLElBQUwsR0FBWSxLQUFLLE1BQUwsS0FBaUIsSUFBSSxDQUFqQzs7QUFFQTtBQUNBLE9BQUssTUFBTCxHQUFjLEtBQWQ7O0FBRUE7QUFDQSxPQUFLLElBQUwsR0FBWSxDQUFDLENBQUQsRUFBSSxDQUFKLENBQVo7O0FBRUE7QUFDQSxPQUFLLFNBQUwsR0FBaUIsTUFBakI7O0FBRUE7QUFDQSxPQUFLLElBQUwsR0FBWSxDQUFaLENBbkJxQixDQW1CTjtBQUNmOzs7OzJCQUVRLEMsRUFBRyxDLEVBQUcsQyxFQUFHLEMsRUFBRztBQUNwQixRQUFLLENBQUwsR0FBUyxDQUFUO0FBQ0EsUUFBSyxDQUFMLEdBQVMsQ0FBVDtBQUNBLFFBQUssQ0FBTCxHQUFTLENBQVQ7QUFDQSxRQUFLLENBQUwsR0FBUyxDQUFUO0FBQ0EsUUFBSyxLQUFMLEdBQWEsSUFBYjtBQUNBOzs7MEJBRU8sQ0FBRTs7OzBCQUNGLENBQUU7Ozt1QkFDTCxHLEVBQUs7QUFDVCxPQUFJLFNBQUosR0FBZ0IsS0FBSyxTQUFyQjtBQUNBLE9BQUksUUFBSixDQUFhLEtBQUssQ0FBbEIsRUFBcUIsS0FBSyxDQUExQixFQUE2QixLQUFLLENBQWxDLEVBQXFDLEtBQUssQ0FBMUM7QUFDQTs7O3NCQUVVO0FBQ1YsVUFBTyxNQUFQO0FBQ0E7Ozs7OztBQUdGOzs7Ozs7OztJQU1NLEs7QUFDTCxrQkFBYztBQUFBOztBQUFBOztBQUViLE9BQUssT0FBTCxHQUFlO0FBQ2QsYUFBVTtBQURJLEdBQWY7O0FBSUEsT0FBSyxLQUFMLEdBQWEsRUFBYixFQUNBLEtBQUssS0FBTCxHQUFhLEVBRGIsRUFFQSxLQUFLLE9BQUwsR0FBZSxDQUZmLEVBR0EsS0FBSyxJQUFMLEdBQVksS0FIWixFQUlBLEtBQUssS0FBTCxHQUFhLEtBSmI7O0FBTUY7QUFDRSxNQUFNLFNBQVMsc0JBQWY7QUFDQSxPQUFLLE1BQUwsR0FBYyxNQUFkOztBQUVGO0FBQ0UsTUFBTSxhQUFhLHlCQUFlLE9BQU8sTUFBdEIsQ0FBbkI7QUFDQSxPQUFLLFVBQUwsR0FBa0IsVUFBbEI7O0FBRUY7QUFDQTs7QUFFRSxNQUFNLFFBQVEsb0JBQWQ7QUFDQSxRQUFNLElBQU4sR0FBYSxXQUFiO0FBQ0EsUUFBTSxLQUFOLEdBQWMsZUFBZDtBQUNBLFFBQU0sUUFBTixHQUFpQixHQUFqQjtBQUNBLFFBQU0sTUFBTixHQUFlLENBQWY7QUFDQSxRQUFNLElBQU4sQ0FBVyxNQUFYO0FBQ0EsUUFBTSxhQUFOLEdBQXNCLEtBQXRCO0FBQ0EsT0FBSyxLQUFMLEdBQWEsS0FBYjs7QUFFQSxNQUFNLE9BQU8sb0JBQWI7QUFDQSxPQUFLLElBQUwsR0FBWSxnQkFBWjtBQUNBLE9BQUssS0FBTCxHQUFhLGVBQWI7QUFDQSxPQUFLLFFBQUwsR0FBZ0IsRUFBaEI7QUFDQSxPQUFLLE1BQUwsR0FBYyxDQUFkO0FBQ0EsT0FBSyxJQUFMLENBQVUsTUFBVjtBQUNBLE9BQUssYUFBTCxHQUFxQixLQUFyQjtBQUNBLE9BQUssQ0FBTCxHQUFTLEtBQUssQ0FBTCxHQUFTLE1BQU0sQ0FBeEI7QUFDQSxPQUFLLElBQUwsR0FBWSxJQUFaOztBQUVBLE1BQU0sVUFBVSxvQkFBaEI7QUFDQSxVQUFRLEtBQVIsR0FBZ0IsZUFBaEI7QUFDQSxVQUFRLE1BQVIsR0FBaUIsQ0FBakI7QUFDQSxVQUFRLFFBQVIsR0FBbUIsR0FBbkI7QUFDQSxVQUFRLElBQVIsQ0FBYSxNQUFiO0FBQ0EsVUFBUSxhQUFSLEdBQXdCLEtBQXhCO0FBQ0EsT0FBSyxPQUFMLEdBQWUsT0FBZjs7QUFFRjs7OztBQUlFLFNBQU8sZ0JBQVAsQ0FBd0IsV0FBeEIsRUFBcUM7QUFBQSxVQUFLLFVBQVUsSUFBVixRQUFxQixFQUFFLE9BQXZCLEVBQWdDLEVBQUUsT0FBbEMsQ0FBTDtBQUFBLEdBQXJDO0FBQ0EsU0FBTyxnQkFBUCxDQUF3QixZQUF4QixFQUFzQztBQUFBLFVBQUssVUFBVSxJQUFWLFFBQXFCLEVBQUUsT0FBdkIsRUFBZ0MsRUFBRSxPQUFsQyxDQUFMO0FBQUEsR0FBdEM7QUFDQSxTQUFPLGdCQUFQLENBQXdCLFFBQXhCLEVBQWtDLE9BQU0sSUFBTixDQUFXLElBQVgsQ0FBbEM7QUFDQSxTQUFPLGdCQUFQLENBQXdCLE9BQXhCLEVBQWlDLFlBQU07O0FBRXRDO0FBQ0EsY0FBVyxPQUFYOztBQUVBO0FBQ0EsY0FBVyxJQUFYO0FBRUEsR0FSRDtBQVdBOzs7O3dCQUNLLE8sRUFBUzs7QUFFZDtBQUNBLFFBQUssTUFBTCxDQUFZLE9BQVo7O0FBRUE7QUFDQSxVQUFNLElBQU4sQ0FBVyxJQUFYO0FBQ0E7Ozt5QkFDTSxPLEVBQVM7O0FBRWY7QUFDQSx5QkFBTyxLQUFLLE9BQVosRUFBcUIsT0FBckI7O0FBRUE7QUFDQSxnQkFBYSxJQUFiLENBQWtCLElBQWxCO0FBQ0E7Ozs7OztBQUlGOzs7QUFDQSxxQkFBVyxHQUFYLENBQWUsS0FBZjs7QUFFQSxTQUFTLFNBQVQsQ0FBbUIsQ0FBbkIsRUFBc0IsQ0FBdEIsRUFBeUI7O0FBRXhCO0FBQ0EsS0FBSSxLQUFLLEtBQVQsRUFBZ0I7QUFDZixTQUFNLElBQU4sQ0FBVyxJQUFYO0FBQ0E7QUFDQTs7QUFFRDtBQUNBLEtBQU0sU0FBUyxLQUFLLFVBQUwsQ0FBZ0IsZ0JBQWhCLENBQWlDLENBQWpDLEVBQW9DLENBQXBDLENBQWY7O0FBRUEsS0FBSSxVQUFVLE9BQU8sSUFBUCxLQUFnQixNQUE5QixFQUFzQztBQUNyQyxPQUFLLElBQUwsQ0FBVSxJQUFWLEVBQWdCLE1BQWhCO0FBQ0E7QUFDRDs7QUFHRDtBQUNBLFNBQVMsTUFBVCxHQUFpQjs7QUFFaEIsS0FBTSxTQUFTLEtBQUssTUFBcEI7QUFDQSxLQUFNLGFBQWEsS0FBSyxVQUF4QjtBQUNBLEtBQU0sUUFBUSxLQUFLLEtBQW5CO0FBQ0EsS0FBTSxRQUFRLEtBQUssS0FBbkI7O0FBRUE7QUFDQTs7QUFFQSxNQUFLLEtBQUwsQ0FBVyxNQUFYLEdBQW9CLENBQXBCO0FBQ0EsTUFBSyxPQUFMLEdBQWUsQ0FBZjtBQUNBLE1BQUssSUFBTCxHQUFZLEtBQVo7QUFDQSxNQUFLLEtBQUwsR0FBYSxLQUFiOztBQUVBLE9BQU0sTUFBTixHQUFlLENBQWY7QUFDQSxZQUFXLE1BQVgsR0FBb0IsQ0FBcEI7O0FBRUEsS0FBSSxVQUFKO0FBQ0EsS0FBSSxVQUFKOztBQUVBLEtBQUksSUFBSSxFQUFSOztBQUVBO0FBQ0EsS0FBTSxLQUFLLEtBQUssS0FBTCxDQUFXLE9BQU8sS0FBUCxHQUFlLENBQTFCLENBQVg7QUFDQSxLQUFNLEtBQUssS0FBSyxLQUFMLENBQVcsT0FBTyxNQUFQLEdBQWdCLENBQTNCLENBQVg7O0FBRUEsTUFBSyxFQUFMLEdBQVUsRUFBVjtBQUNBLE1BQUssRUFBTCxHQUFVLEVBQVY7O0FBRUE7QUFDQTtBQUNBLE1BQUssS0FBSyxLQUFMLENBQVksT0FBTyxLQUFQLElBQWdCLEtBQUssQ0FBckIsQ0FBRCxHQUE0QixFQUF2QyxDQUFMO0FBQ0EsTUFBSyxLQUFLLEtBQUwsQ0FBWSxPQUFPLE1BQVAsSUFBaUIsS0FBSyxDQUF0QixDQUFELEdBQTZCLEVBQXhDLENBQUw7O0FBRUE7QUFDQSxNQUFLLElBQUksSUFBSSxDQUFiLEVBQWdCLElBQUksRUFBcEIsRUFBd0IsR0FBeEIsRUFBNkI7QUFDNUIsT0FBSyxJQUFJLElBQUksQ0FBYixFQUFnQixJQUFJLEVBQXBCLEVBQXdCLEdBQXhCLEVBQTZCOztBQUU1QixPQUFNLE9BQU8sSUFBSSxJQUFKLENBQVMsSUFBSSxDQUFiLEVBQWdCLElBQUksQ0FBcEIsRUFBdUIsSUFBSSxDQUEzQixFQUE4QixJQUFJLENBQWxDLENBQWI7QUFDQSxRQUFLLElBQUwsR0FBWSxDQUFDLENBQUQsRUFBSSxDQUFKLENBQVo7QUFDQSxTQUFNLElBQU4sQ0FBVyxJQUFYO0FBQ0EsY0FBVyxJQUFYLENBQWdCLElBQWhCOztBQUVBO0FBQ0EsT0FBSSxLQUFLLElBQVQsRUFBZTtBQUNkLFVBQU0sSUFBTixDQUFXLElBQVg7QUFDQTtBQUNEO0FBQ0Q7O0FBRUQsS0FBTSxVQUFVLEtBQUssT0FBckI7QUFDQSxLQUFNLE9BQU8sS0FBSyxJQUFsQjtBQUNBLEtBQU0sUUFBUSxLQUFLLEtBQW5COztBQUVBO0FBQ0EsWUFBVyxJQUFYLENBQWdCLEtBQWhCO0FBQ0EsWUFBVyxJQUFYLENBQWdCLE9BQWhCO0FBQ0EsWUFBVyxJQUFYLENBQWdCLElBQWhCOztBQUVBO0FBQ0EsY0FBYSxJQUFiLENBQWtCLElBQWxCOztBQUVBLFNBQVEsT0FBUixHQUFrQixLQUFsQjs7QUFFQTtBQUNBLFlBQVcsSUFBWDtBQUNBOztBQUVELFNBQVMsSUFBVCxDQUFjLElBQWQsRUFBb0I7QUFBQTs7QUFFbkIsS0FBTSxRQUFRLEtBQUssS0FBbkI7QUFDQSxLQUFNLFFBQVEsS0FBSyxLQUFuQjtBQUNBLEtBQU0sVUFBVSxLQUFLLE9BQXJCO0FBQ0EsS0FBTSxPQUFPLEtBQUssSUFBbEI7QUFDQSxLQUFNLFFBQVEsS0FBSyxLQUFuQjs7QUFFQSxLQUFJLENBQUMsSUFBTCxFQUFXO0FBQ1YsU0FBTyxJQUFQO0FBQ0E7O0FBRUQ7QUFDQTtBQUNBLEtBQUksS0FBSyxPQUFMLEtBQWlCLENBQXJCLEVBQXdCO0FBQ3ZCO0FBQ0EsT0FBSyxJQUFMLEdBQVksS0FBWjtBQUNBOztBQUVEO0FBQ0EsS0FBSSxLQUFLLElBQVQsRUFBZTtBQUNkLE9BQUssSUFBTCxHQUFZLElBQVo7QUFDQTtBQUNEO0FBSEEsTUFJSyxJQUFJLENBQUMsS0FBSyxNQUFWLEVBQWtCO0FBQ3RCO0FBQ0EsU0FBTSxJQUFOLENBQVcsSUFBWCxFQUFpQixJQUFqQjtBQUNBOztBQUVELEtBQU0sS0FBSyxPQUFMLEdBQWUsTUFBTSxNQUF0QixLQUFrQyxNQUFNLE1BQXpDLElBQW9ELEtBQUssSUFBN0QsRUFBbUU7O0FBRWxFO0FBQ0EsUUFBTSxPQUFOLENBQWM7QUFBQSxVQUFRLFNBQVMsSUFBVCxTQUFvQixJQUFwQixDQUFSO0FBQUEsR0FBZDs7QUFFQTtBQUNBLE9BQUssS0FBTCxHQUFhLElBQWI7O0FBRUE7QUFDQSxVQUFRLElBQVIsR0FBZSxLQUFLLElBQUwsR0FBWSxPQUFaLEdBQXNCLFFBQXJDO0FBQ0EsVUFBUSxJQUFSLENBQWEsS0FBSyxNQUFsQjtBQUNBLE9BQUssSUFBTCxHQUFZLGdCQUFaOztBQUVBO0FBQ0EsZUFBYSxJQUFiLENBQWtCLElBQWxCO0FBQ0EsRUFmRCxNQWdCSztBQUNKLFFBQU0sT0FBTixHQUFnQixLQUFoQjtBQUNBLE9BQUssT0FBTCxHQUFlLEtBQWY7QUFDQSxVQUFRLE9BQVIsR0FBa0IsS0FBbEI7QUFDQTtBQUVEOztBQUVEO0FBQ0EsU0FBUyxLQUFULENBQWUsSUFBZixFQUFxQjs7QUFFcEIsS0FBTSxLQUFLLEtBQUssRUFBaEI7QUFDQSxLQUFNLEtBQUssS0FBSyxFQUFoQjtBQUNBLEtBQU0sUUFBUSxLQUFLLEtBQW5COztBQUpvQixpQ0FNTCxLQUFLLElBTkE7QUFBQSxLQU1iLENBTmE7QUFBQSxLQU1WLENBTlU7O0FBUXBCLEtBQUksS0FBSyxNQUFULEVBQWlCO0FBQ2hCO0FBQ0E7O0FBRUQ7QUFDQSxNQUFLLE9BQUw7O0FBRUE7QUFDQTtBQUNBLEtBQU0sWUFBWSxDQUNoQixLQUFLLEdBQUwsQ0FBUyxJQUFJLENBQWIsRUFBZ0IsQ0FBaEIsSUFBcUIsRUFBdEIsR0FBNEIsS0FBSyxHQUFMLENBQVMsSUFBSSxDQUFiLEVBQWdCLENBQWhCLENBRFgsRUFFZCxLQUFLLEdBQUwsQ0FBUyxJQUFJLENBQWIsRUFBZ0IsQ0FBaEIsSUFBcUIsRUFBdEIsR0FBNEIsQ0FGYixFQUdkLEtBQUssR0FBTCxDQUFTLElBQUksQ0FBYixFQUFnQixDQUFoQixJQUFxQixFQUF0QixHQUE0QixLQUFLLEdBQUwsQ0FBUyxJQUFJLENBQWIsRUFBZ0IsS0FBSyxDQUFyQixDQUhiLEVBSWQsSUFBSSxFQUFMLEdBQVcsS0FBSyxHQUFMLENBQVMsSUFBSSxDQUFiLEVBQWdCLEtBQUssQ0FBckIsQ0FKSSxFQUtiLEtBQUssR0FBTCxDQUFTLElBQUksQ0FBYixFQUFnQixLQUFLLENBQXJCLENBQUQsR0FBNEIsRUFBN0IsR0FBbUMsS0FBSyxHQUFMLENBQVMsSUFBSSxDQUFiLEVBQWdCLEtBQUssQ0FBckIsQ0FMcEIsRUFNYixLQUFLLEdBQUwsQ0FBUyxJQUFJLENBQWIsRUFBZ0IsS0FBSyxDQUFyQixDQUFELEdBQTRCLEVBQTdCLEdBQW1DLENBTnBCLEVBT2IsS0FBSyxHQUFMLENBQVMsSUFBSSxDQUFiLEVBQWdCLEtBQUssQ0FBckIsQ0FBRCxHQUE0QixFQUE3QixHQUFtQyxLQUFLLEdBQUwsQ0FBUyxJQUFJLENBQWIsRUFBZ0IsQ0FBaEIsQ0FQcEIsRUFRZCxJQUFJLEVBQUwsR0FBVyxLQUFLLEdBQUwsQ0FBUyxJQUFJLENBQWIsRUFBZ0IsQ0FBaEIsQ0FSSSxFQVVqQixNQVZpQixDQVVWLFVBQUMsR0FBRCxFQUFNLEtBQU4sRUFBYSxHQUFiO0FBQUEsU0FBcUIsSUFBSSxPQUFKLENBQVksR0FBWixNQUFxQixLQUFyQixJQUE4QixNQUFNLEdBQU4sQ0FBbkQ7QUFBQSxFQVZVLEVBV2pCLEdBWGlCLENBV2I7QUFBQSxTQUFPLE1BQU0sR0FBTixDQUFQO0FBQUEsRUFYYSxDQUFsQjs7QUFhQTtBQUNBO0FBQ0E7QUFDQSxXQUNDLE9BREQsQ0FDUyxpQkFBUztBQUNqQixPQUFLLElBQUwsSUFBYSxDQUFDLE1BQU0sSUFBcEI7QUFDQSxFQUhEOztBQUtBO0FBQ0EsTUFBSyxNQUFMLEdBQWMsSUFBZDs7QUFFQTtBQUNBLFVBQVMsSUFBVCxDQUFjLElBQWQsRUFBb0IsSUFBcEI7O0FBRUE7QUFDQTtBQUNBLEtBQUksS0FBSyxJQUFMLEtBQWMsQ0FBbEIsRUFBcUI7QUFDcEIsWUFBVSxPQUFWLENBQWtCLE1BQU0sSUFBTixDQUFXLElBQVgsQ0FBbEI7QUFDQTtBQUNEOztBQUdELFNBQVMsUUFBVCxDQUFrQixJQUFsQixFQUF3QjtBQUN2QjtBQUNBLE1BQUssU0FBTCxHQUFpQixLQUFLLElBQUwsR0FBWSxLQUFaLEdBQW9CLGlCQUFyQzs7QUFFQTtBQUNBLE1BQUssS0FBTCxHQUFhLElBQWI7O0FBRUE7QUFDQSxLQUFJLEtBQUssSUFBVCxFQUFlOztBQUVkO0FBQ0EsTUFBTSxPQUFPLG9CQUFiO0FBQ0EsT0FBSyxJQUFMLEdBQVksS0FBSyxJQUFqQjtBQUNBLE9BQUssWUFBTCxHQUFvQixRQUFwQjtBQUNBLE9BQUssU0FBTCxHQUFpQixRQUFqQjtBQUNBLE9BQUssV0FBTCxHQUFtQixJQUFuQjtBQUNBLE9BQUssU0FBTCxHQUFpQixPQUFqQjtBQUNBLE9BQUssSUFBTCxHQUFZLGlCQUFaO0FBQ0EsT0FBSyxDQUFMLEdBQVMsS0FBSyxDQUFMLEdBQVUsS0FBSyxDQUFMLEdBQVMsQ0FBNUI7QUFDQSxPQUFLLENBQUwsR0FBUyxLQUFLLENBQUwsR0FBVSxLQUFLLENBQUwsR0FBUyxDQUE1QjtBQUNBLE9BQUssQ0FBTCxHQUFTLENBQVQ7QUFDQSxPQUFLLENBQUwsR0FBUyxDQUFUOztBQUVBLE9BQUssVUFBTCxDQUFnQixJQUFoQixDQUFxQixJQUFyQjtBQUNBLE9BQUssVUFBTCxDQUFnQixJQUFoQjtBQUNBO0FBQ0Q7O0FBRUQsU0FBUyxZQUFULEdBQXdCO0FBQ3ZCLEtBQU0sZUFBZSxLQUFLLE9BQUwsQ0FBYSxRQUFsQztBQUNBLEtBQU0sYUFBYSxFQUFFLEtBQUssT0FBTCxLQUFpQixDQUFqQixJQUFzQixLQUFLLElBQTNCLElBQW1DLEtBQUssS0FBMUMsQ0FBbkI7O0FBRUE7QUFDQSxNQUFLLEtBQUwsQ0FBVyxPQUFYLEdBQXFCLEtBQUssT0FBTCxLQUFpQixDQUFqQixJQUFzQixDQUFDLEtBQUssS0FBNUIsSUFBcUMsWUFBMUQ7QUFDQSxNQUFLLElBQUwsQ0FBVSxPQUFWLEdBQW9CLENBQUMsVUFBRCxJQUFlLFlBQW5DO0FBQ0EsTUFBSyxPQUFMLENBQWEsT0FBYixHQUF1QixLQUFLLEtBQUwsSUFBYyxZQUFyQztBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIm1vZHVsZS5leHBvcnRzID0gZSA9PiB7XG5cdGUuc3RvcFByb3BhZ2F0aW9uID0gKCkgPT4ge307XG5cdGUucHJldmVudERlZmF1bHQgPSAoKSA9PiB7fTtcblx0cmV0dXJuIGU7XG59O1xuIiwiLy8gSUUgZG9lcyBub3Qgc3VwcG9ydCBgbmV3IEV2ZW50KClgXG4vLyBTZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvR3VpZGUvRXZlbnRzL0NyZWF0aW5nX2FuZF90cmlnZ2VyaW5nX2V2ZW50cyBmb3IgZGV0YWlsc1xuY29uc3QgZGljdCA9IHtidWJibGVzOiB0cnVlLCBjYW5jZWxhYmxlOiB0cnVlfTtcblxubGV0IGNyZWF0ZUV2ZW50ID0gKGV2ZW50bmFtZSwgb3B0aW9ucyA9IGRpY3QpID0+XG5cdG5ldyBFdmVudChldmVudG5hbWUsIG9wdGlvbnMpO1xuXG50cnkge1xuXHRjcmVhdGVFdmVudCgndGVzdCcpO1xufVxuY2F0Y2ggKGUpIHtcblx0Y3JlYXRlRXZlbnQgPSAoZXZlbnRuYW1lLCBvcHRpb25zID0gZGljdCkgPT4ge1xuXHRcdGNvbnN0IGUgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcblx0XHRlLmluaXRFdmVudChldmVudG5hbWUsICEhb3B0aW9ucy5idWJibGVzLCAhIW9wdGlvbnMuY2FuY2VsYWJsZSk7XG5cdFx0cmV0dXJuIGU7XG5cdH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY3JlYXRlRXZlbnQ7XG4iLCIvLyBDcmVhdGUgYSBxdWV1aW5nIGZ1bmN0aW9uXG4vLyBRdWV1ZXMgaXRlbXMgaW4gYW4gQXJyYXkgbGlrZSBmdW5jdGlvbiB1bnRpbCBhIGhhbmRsZXIgaGFzIGJlZW4gZGVmaW5lZFxuLy8gVGhlbiBlYWNoIGl0ZW0gd2lsbCBiZSBwcm9jZXNzZWQgYWdhaW5zdCB0aGUgaGFuZGxlci5cbi8vIFVzZWZ1bCBmb3IgY3JlYXRpbmcgR2xvYmFsIEFzeW5jaHJvbm91cyBRdWV1ZXMsIGFzIGNhbiBiZSByZXRybyBmaXR0ZWQgdG8gZXhpc3RpbmcgYXJyYXlzLlxuXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIFF1ZXVlIHtcblxuXHRjb25zdHJ1Y3RvciAoYXJyLCBoYW5kbGVyKSB7XG5cdFx0dGhpcy5pdGVtcyA9IChBcnJheS5pc0FycmF5KGFycikgPyBhcnIgOiBbXSk7XG5cdFx0dGhpcy5oYW5kbGVyID0gaGFuZGxlcjtcblx0fVxuXG5cdC8vIE1pbWljIHRoZSBBcnJheS5wdXNoIGZ1bmN0aW9uXG5cdHB1c2ggKC4uLmFyZ3MpIHtcblxuXHRcdC8vIEFwcGVuZCBpdGVtcyB0byB0aGUgaW50ZXJuYWwgYXJyYXkuXG5cdFx0YXJncy5mb3JFYWNoKGl0ZW0gPT4gdGhpcy5pdGVtcy5wdXNoKGl0ZW0pKTtcblxuXHRcdC8vIFRyaWdnZXIgdGhlIGN1c3RvbSBoYW5kbGVyXG5cdFx0aWYgKHRoaXMuX2hhbmRsZXIpIHtcblx0XHRcdGFyZ3MuZm9yRWFjaChpdGVtID0+IHRoaXMuX2hhbmRsZXIoaXRlbSkpO1xuXHRcdH1cblx0fVxuXG5cdC8vIE1pbWljIHRoZSBsZW5ndGhcblx0Z2V0IGxlbmd0aCAoKSB7XG5cdFx0cmV0dXJuIHRoaXMuaXRlbXMubGVuZ3RoO1xuXHR9XG5cdHNldCBsZW5ndGggKHZhbHVlKSB7XG5cdFx0cmV0dXJuIHRoaXMuaXRlbXMubGVuZ3RoID0gdmFsdWU7XG5cdH1cblxuXHQvLyBTZXQgdGhlIGl0ZW0gaGFuZGxlclxuXHRnZXQgaGFuZGxlciAoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2hhbmRsZXI7XG5cdH1cblxuXHRzZXQgaGFuZGxlciAoY2FsbGJhY2spIHtcblxuXHRcdHRoaXMuX2hhbmRsZXIgPSBjYWxsYmFjaztcblxuXHRcdGlmICh0aGlzLl9oYW5kbGVyKSB7XG5cdFx0XHR0aGlzLml0ZW1zLmZvckVhY2goaXRlbSA9PiB0aGlzLl9oYW5kbGVyKGl0ZW0pKTtcblx0XHR9XG5cdH1cbn07XG4iLCJjb25zdCBpbnN0YW5jZU9mID0gcmVxdWlyZSgnLi9pbnN0YW5jZU9mLmpzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZXh0ZW5kKHIsIC4uLmFyZ3MpIHtcblx0YXJncy5mb3JFYWNoKG8gPT4ge1xuXHRcdGlmIChBcnJheS5pc0FycmF5KHIpICYmIEFycmF5LmlzQXJyYXkobykpIHtcblx0XHRcdEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHIsIG8pO1xuXHRcdH1cblx0XHRlbHNlIGlmIChpbnN0YW5jZU9mKHIsIE9iamVjdCkgJiYgaW5zdGFuY2VPZihvLCBPYmplY3QpICYmIHIgIT09IG8pIHtcblx0XHRcdGZvciAoY29uc3QgeCBpbiBvKSB7XG5cdFx0XHRcdHJbeF0gPSBleHRlbmQoclt4XSwgb1t4XSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGVsc2UgaWYgKEFycmF5LmlzQXJyYXkobykpIHtcblx0XHRcdC8vIENsb25lIGl0XG5cdFx0XHRyID0gby5zbGljZSgwKTtcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHRyID0gbztcblx0XHR9XG5cdH0pO1xuXHRyZXR1cm4gcjtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9ICh0ZXN0LCByb290KSA9PiByb290ICYmIHRlc3QgaW5zdGFuY2VvZiByb290O1xuIiwiLy8gcmVxdWVzdEFuaW1hdGlvbkZyYW1lIHBvbHlmaWxsXG53aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID1cblx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuXHR3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG5cdHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcblx0d2luZG93Lm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcblx0d2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG5cdChjYWxsYmFjayA9PiBzZXRUaW1lb3V0KGNhbGxiYWNrLCAxMDAwIC8gNjApKTtcblxubW9kdWxlLmV4cG9ydHMgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lLmJpbmQod2luZG93KTtcbiIsIi8vIEJhY2tncm91bmRcbi8vIEV4cG9zZXMgdGhlIGJhc2ljIHByb3BlcnRpZXMvbWV0aG9kcyBvZiBhIGNvbnRyb2xsYWJsZSBiYWNrZ3JvdW5kXG5cbmltcG9ydCBRdWV1ZSBmcm9tICd0cmlja3Mvb2JqZWN0L1F1ZXVlJztcblxuLy8gRXh0cmFjdCB0aGUgd2luZG93LmJhY2tncm91bmQgaXRlbXNcbmNvbnN0IHF1ZXVlID0gd2luZG93LmJhY2tncm91bmQgPSBuZXcgUXVldWUod2luZG93LmJhY2tncm91bmQpO1xuXG5mdW5jdGlvbiBxdWV1ZUhhbmRsZXIoY2FsbGJhY2spIHtcblx0Ly8gRWFjaCBpdGVtIGluIHRoZSBxdWV1ZSBzaG91bGQgYmUgYSBmdW5jdGlvblxuXHRjYWxsYmFjayhCYWNrZ3JvdW5kKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFja2dyb3VuZCB7XG5cblx0c3RhdGljIGFkZChzdGFnZSkge1xuXHRcdC8vIFN0b3JlIHRoZVxuXHRcdEJhY2tncm91bmQuc3RhZ2VzLnB1c2goc3RhZ2UpO1xuXG5cdFx0Ly8gVHJpZ2dlciByZWFkeSBpZiBpdCBoYXMgbm90IGFscmVhZHkgYmVlbiBzZXRcblx0XHRpZiAoQmFja2dyb3VuZC5zdGFnZXMubGVuZ3RoID09PSAxKSB7XG5cdFx0XHQvLyBJbml0aWF0ZSB0aGUgcXVldWVcblx0XHRcdHF1ZXVlLmhhbmRsZXIgPSBxdWV1ZUhhbmRsZXI7XG5cdFx0fVxuXHR9XG5cblx0Ly8gQ3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIGEgc3RhZ2Vcblx0c3RhdGljIGluaXQodGFyZ2V0KSB7XG5cdFx0Ly8gR2V0IHRoZSBkZWZhdWx0IHN0YWdlIHdoaWNoIGhhcyBiZWVuIHJlZ2lzdGVyZWQgd2l0aCB0aGlzIGNsYXNzXG5cdFx0Y29uc3Qgc3RhZ2UgPSBCYWNrZ3JvdW5kLnN0YWdlc1swXTtcblxuXHRcdC8vIFJldHVybiBpbnN0YW5jZVxuXHRcdGlmIChzdGFnZSkge1xuXHRcdFx0cmV0dXJuIG5ldyBzdGFnZSh0YXJnZXQpO1xuXHRcdH1cblx0fVxufVxuXG5CYWNrZ3JvdW5kLnN0YWdlcyA9IFtdO1xuIiwiLy8gU2V0dXBcbi8vIFRoaXMgY29uc3RydWN0cyB0aGUgY2FudmFzIG9iamVjdFxuXG4vLyBJbmNsdWRlc1xuaW1wb3J0ICd0cmlja3Mvc3VwcG9ydC9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUnO1xuaW1wb3J0IGNyZWF0ZUV2ZW50IGZyb20gJ3RyaWNrcy9ldmVudHMvY3JlYXRlRXZlbnQnO1xuaW1wb3J0IGNyZWF0ZUR1bW15RXZlbnQgZnJvbSAndHJpY2tzL2V2ZW50cy9jcmVhdGVEdW1teUV2ZW50JztcblxuLy8gQ29uc3RhbnRzXG5jb25zdCBCQUNLR1JPVU5EX0hBU0ggPSAnYmFja2dyb3VuZCc7XG5jb25zdCBVc2VyRXZlbnRzID0gWydjbGljaycsICdtb3VzZWRvd24nLCAnbW91c2V1cCcsICdtb3VzZW92ZXInLCAnbW91c2Vtb3ZlJywgJ21vdXNlb3V0JywgJ2ZyYW1lJywgJ3Jlc2l6ZSddO1xuY29uc3QgVG91Y2hFdmVudHMgPSBbJ3RvdWNobW92ZScsICd0b3VjaHN0YXJ0JywgJ3RvdWNoZW5kJ107XG5cbmNvbnN0IEVWRU5UX1NFUEFSQVRPUiA9IC9bXFxzXFwsXSsvO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYW52YXMge1xuXG5cdC8vIENvbnN0cnVjdCB0aGUgQ2FudmFzIEVsZW1lbnRcblx0Ly8gQHBhcmFtIGNhbnZhcyBzaG91bGQgYmUgYW4gcm9vdCBlbGVtZW50IGNvbnRhaW5lciBmb3IgdGhpcyBpbWFnZXJ5LlxuXHRjb25zdHJ1Y3RvcihjYW52YXMpIHtcblxuXHRcdGxldCBwYXJlbnQ7XG5cblx0XHQvLyBldmVudHNcblx0XHR0aGlzLmV2ZW50cyA9IHt9O1xuXG5cdFx0Ly8gYnJvd3NlciBjaGVja1xuXHRcdGlmICghKCdnZXRDb250ZXh0JyBpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKSkpIHtcblx0XHRcdC8vIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IGNhbnZhc1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICghKGNhbnZhcyAmJiBjYW52YXMgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudCkpIHtcblxuXHRcdFx0Ly8gU2V0IHRoZSBwYXJlbnRcblx0XHRcdHBhcmVudCA9IGNhbnZhcztcblxuXHRcdFx0Ly8gQ3JlYXRlIHRoZSBjYW52YXMgbGF5ZXJcblx0XHRcdGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXHRcdFx0Y2FudmFzLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICd3aGl0ZSc7XG5cblx0XHRcdC8vIE5vdCBhIHBhcmVudFxuXHRcdFx0aWYgKCFwYXJlbnQpIHtcblx0XHRcdFx0Ly8gQXBwZW5kIHRvIHRoZSBib2R5XG5cdFx0XHRcdHBhcmVudCA9IGRvY3VtZW50LmJvZHk7XG5cdFx0XHRcdGNhbnZhcy5zdHlsZS5jc3NUZXh0ID0gJ3Bvc2l0aW9uOmZpeGVkO3otaW5kZXg6LTE7dG9wOjA7bGVmdDowOyc7XG5cdFx0XHRcdGNhbnZhcy5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgMCk7XG5cblx0XHRcdFx0ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLmNzc1RleHQgPSAnbWluLWhlaWdodDoxMDAlOyc7XG5cdFx0XHRcdGRvY3VtZW50LmJvZHkuc3R5bGUuY3NzVGV4dCA9ICdtaW4taGVpZ2h0OjEwMCU7JztcblxuXHRcdFx0XHQvLyBCaW5kIHdpbmRvdyByZXNpemUgZXZlbnRzXG5cdFx0XHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnJlc2l6ZS5iaW5kKHRoaXMpKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQXBwZW5kIHRoaXMgZWxlbWVudFxuXHRcdFx0cGFyZW50Lmluc2VydEJlZm9yZShjYW52YXMsIHBhcmVudC5maXJzdEVsZW1lbnRDaGlsZCk7XG5cblx0XHRcdHRoaXMudGFyZ2V0ID0gY2FudmFzO1xuXG5cdFx0XHR0aGlzLnJlc2l6ZSgpO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdHRoaXMudGFyZ2V0ID0gY2FudmFzO1xuXHRcdFx0cGFyZW50ID0gY2FudmFzLnBhcmVudE5vZGU7XG5cdFx0fVxuXG5cdFx0dGhpcy5jdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuXHRcdC8vIFNldCBpbml0aWFsIHNhdmUgcG9pbnRcblx0XHR0aGlzLmN0eC5zYXZlKCk7XG5cblx0XHQvLyBJbml0aWF0ZSB0aGUgdGltZVxuXHRcdHRoaXMuX3RpbWUgPSAwO1xuXHRcdHRoaXMuX2ZwcyA9IDA7XG5cblx0XHQvLyBJbml0aWF0ZSB0aGUgZHJhd1xuXHRcdHRoaXMuZHJhdygpO1xuXG5cdFx0Ly8gQmluZCBldmVudHNcblx0XHRVc2VyRXZlbnRzLmZvckVhY2goZXZlbnRuYW1lID0+IHRoaXMudGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRuYW1lLCB0aGlzLmRpc3BhdGNoRXZlbnQuYmluZCh0aGlzKSkpO1xuXG5cdFx0Ly8gRm9ybWF0IFRvdWNoIGV2ZW50c1xuXHRcdFRvdWNoRXZlbnRzLmZvckVhY2goZXZlbnRuYW1lID0+IHRoaXMudGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRuYW1lLCB0aGlzLmRpc3BhdGNoVG91Y2hFdmVudC5iaW5kKHRoaXMpKSk7XG5cblx0XHQvLyBJbiBJRSB1c2VyLWV2ZW50cyBhcmVuJ3QgcHJvcGFnYXRlZCB0byBlbGVtZW50cyB3aGljaCBoYXZlIG5lZ2F0aXZlIHotSW5kZXgnc1xuXHRcdC8vIExpc3RlbiB0byBldmVudHMgb24gdGhlIGRvY3VtZW50IGVsZW1lbnQgYW5kIHByb3BhZ2F0ZSB0aG9zZSBhY2NvcmRpbmdseVxuXHRcdGlmIChwYXJlbnQgPT09IGRvY3VtZW50LmJvZHkgJiYgY2FudmFzLnN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ3otaW5kZXgnKSA9PT0gJy0xJykge1xuXHRcdFx0Ly8gQmluZCBldmVudHNcblx0XHRcdFVzZXJFdmVudHMuZm9yRWFjaChldmVudG5hbWUgPT4gZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudG5hbWUsIHRoaXMuZGlzcGF0Y2hFdmVudC5iaW5kKHRoaXMpKSk7XG5cblx0XHRcdC8vIEZvcm1hdCBUb3VjaCBldmVudHNcblx0XHRcdFRvdWNoRXZlbnRzLmZvckVhY2goZXZlbnRuYW1lID0+IGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRuYW1lLCB0aGlzLmRpc3BhdGNoVG91Y2hFdmVudC5iaW5kKHRoaXMpKSk7XG5cdFx0fVxuXG5cdFx0Ly8gTGlzdGVuIHRvIGhhc2hDaGFuZ2UgZXZlbnRzXG5cdFx0e1xuXHRcdFx0Ly8gSEFTSCBDSEFOR0UgREVQVEhcblx0XHRcdGNvbnN0IHN0eWxlID0gdGhpcy50YXJnZXQuc3R5bGU7XG5cdFx0XHRjb25zdCBpbml0aWFsWiA9IHN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ3otaW5kZXgnKTtcblx0XHRcdC8vIExpc3RlbiB0byBjaGFuZ2VzIHRvIHRoZSBiYWNrZ3JvdW5kIGhhc2ggdG8gYnJpbmcgdGhlIGNhbnZhcyBlbGVtZW50IHRvIHRoZSBmcm9udFxuXHRcdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCBoYXNoY2hhbmdlLmJpbmQoc3R5bGUsIGluaXRpYWxaKSk7XG5cblx0XHRcdGhhc2hjaGFuZ2UuY2FsbChzdHlsZSwgaW5pdGlhbFopO1xuXHRcdH1cblx0fVxuXG5cdC8vIGVuc3VyZSBpdHMga2VlcGluZyB1cC5cblx0Z2V0IHdpZHRoKCkge1xuXHRcdHJldHVybiB0aGlzLnRhcmdldC53aWR0aDtcblx0fVxuXHRzZXQgd2lkdGgodmFsdWUpIHtcblx0XHR0aGlzLnRhcmdldC53aWR0aCA9IHZhbHVlO1xuXHRcdHJldHVybiB2YWx1ZTtcblx0fVxuXG5cdGdldCBoZWlnaHQoKSB7XG5cdFx0cmV0dXJuIHRoaXMudGFyZ2V0LmhlaWdodDtcblx0fVxuXHRzZXQgaGVpZ2h0KHZhbHVlKSB7XG5cdFx0dGhpcy50YXJnZXQuaGVpZ2h0ID0gdmFsdWU7XG5cdFx0cmV0dXJuIHZhbHVlO1xuXHR9XG5cdGdldCBmcHMoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2Zwcztcblx0fVxuXHRzZXQgZnBzKHZhbHVlKSB7XG5cblx0XHR0aGlzLl9mcHMgPSB2YWx1ZTtcblxuXHRcdGNvbnN0IG5vdyA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XG5cblx0XHRpZiAoKG5vdyAtIHRoaXMuX3RpbWUpID4gMTAwMCkge1xuXHRcdFx0Ly8gY29uc29sZS5sb2coJ2ZwczogJWQnLCB0aGlzLl9mcHMpO1xuXHRcdFx0dGhpcy5fdGltZSA9IG5vdztcblx0XHRcdHRoaXMuX2ZwcyA9IDA7XG5cdFx0fVxuXHR9XG5cblxuXHRyZXNpemUoKSB7XG5cdFx0Y29uc3QgcGFyZW50ID0gKHRoaXMudGFyZ2V0LnBhcmVudE5vZGUgPT09IGRvY3VtZW50LmJvZHkpID8gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50IDogdGhpcy50YXJnZXQucGFyZW50Tm9kZTtcblx0XHRjb25zdCBoZWlnaHQgPSBwYXJlbnQuY2xpZW50SGVpZ2h0O1xuXHRcdGNvbnN0IHdpZHRoID0gcGFyZW50LmNsaWVudFdpZHRoO1xuXHRcdGxldCBjaGFuZ2VkID0gZmFsc2U7XG5cblx0XHRpZiAodGhpcy53aWR0aCAhPT0gd2lkdGgpIHtcblx0XHRcdGNoYW5nZWQgPSB0cnVlO1xuXHRcdFx0dGhpcy53aWR0aCA9IHdpZHRoO1xuXHRcdH1cblx0XHRpZiAodGhpcy5oZWlnaHQgIT09IGhlaWdodCkge1xuXHRcdFx0Y2hhbmdlZCA9IHRydWU7XG5cdFx0XHR0aGlzLmhlaWdodCA9IGhlaWdodDtcblx0XHR9XG5cblx0XHRpZiAoY2hhbmdlZCkge1xuXHRcdFx0dGhpcy50YXJnZXQuZGlzcGF0Y2hFdmVudChjcmVhdGVFdmVudCgncmVzaXplJykpO1xuXHRcdH1cblx0fVxuXG5cdGNsZWFyKCkge1xuXHRcdHRoaXMuY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLnRhcmdldC53aWR0aCwgdGhpcy50YXJnZXQuaGVpZ2h0KTtcblx0fVxuXG5cdC8vIEJyaW5nIHRoZSBjb250ZW50IG9mIHRoZSBjYW52YXMgdG8gdGhlIGZyb250XG5cdGJyaW5nVG9Gcm9udCgpIHtcblxuXHRcdC8vIFVwZGF0ZSB0aGUgd2luZG93LmxvY2F0aW9uIHdpdGggdGhlIGhhc2ggI2JhY2tncm91bmRcblx0XHR3aW5kb3cubG9jYXRpb24uaGFzaCA9IEJBQ0tHUk9VTkRfSEFTSDtcblx0fVxuXG5cdC8vIFRyaWdnZXIgdGhlIGRyYXcgZnVuY3Rpb25cblx0ZHJhdygpIHtcblxuXHRcdC8vIEluY3JlbWVudCB0aGUgbnVtYmVyIG9mIGZyYW1lc1xuXHRcdHRoaXMuZnBzKys7XG5cblx0XHQvLyBDYWxsIHRoZSBmcmFtZSBmdW5jdGlvbiBpbiB0aGUgY29udGV4dCBvZiB0aGUgZnJhbWUgdG8gZHJhd1xuXHRcdHRoaXMudGFyZ2V0LmRpc3BhdGNoRXZlbnQoY3JlYXRlRXZlbnQoJ2ZyYW1lJykpO1xuXG5cdFx0Ly8gUmVxdWVzdCBhbm90aGVyIGZyYW1lXG5cdFx0cmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuZHJhdy5iaW5kKHRoaXMpKTtcblx0fVxuXG5cdC8vIFRoZSB1c2VyIGhhcyBjbGlja2VkIGFuIGl0ZW0gb24gdGhlIHBhZ2Vcblx0YWRkRXZlbnRMaXN0ZW5lcihldmVudG5hbWVzLCBoYW5kbGVyKSB7XG5cblx0XHRldmVudG5hbWVzLnNwbGl0KEVWRU5UX1NFUEFSQVRPUikuZm9yRWFjaChldmVudG5hbWUgPT4ge1xuXHRcdFx0Ly8gQWRkIHRvIHRoZSBldmVudHMgbGlzdFxuXHRcdFx0aWYgKCEoZXZlbnRuYW1lIGluIHRoaXMuZXZlbnRzKSkge1xuXHRcdFx0XHR0aGlzLmV2ZW50c1tldmVudG5hbWVdID0gW107XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuZXZlbnRzW2V2ZW50bmFtZV0ucHVzaChoYW5kbGVyKTtcblx0XHR9KTtcblx0fVxuXG5cdC8vIERpc3BhdGNoXG5cdGRpc3BhdGNoRXZlbnQoZSkge1xuXG5cdFx0aWYgKGUudHlwZSBpbiB0aGlzLmV2ZW50cykge1xuXG5cdFx0XHRjb25zdCB0YXJnZXQgPSBlLmN1cnJlbnRUYXJnZXQ7XG5cblx0XHRcdC8vIFRoaXMgd2FzIHRyaWdnZXJlZCB1c2luZyBldmVudCBkZWxlZ2F0aW9uLCBha2EgaW4gdGhlIGJhY2tncm91bmRcblx0XHRcdGlmICh0YXJnZXQgPT09IGRvY3VtZW50KSB7XG5cblx0XHRcdFx0ZSA9IGNyZWF0ZUR1bW15RXZlbnQoe1xuXHRcdFx0XHRcdHR5cGU6IGUudHlwZSxcblx0XHRcdFx0XHR0YXJnZXQ6IHRoaXMudGFyZ2V0LFxuXHRcdFx0XHRcdG9mZnNldFg6IGUucGFnZVggfHwgZS5vZmZzZXRYLFxuXHRcdFx0XHRcdG9mZnNldFk6IGUucGFnZVkgfHwgZS5vZmZzZXRZXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLmV2ZW50c1tlLnR5cGVdLmZvckVhY2goaGFuZGxlciA9PiBoYW5kbGVyKGUpKTtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gRGlzcGF0Y2hcblx0ZGlzcGF0Y2hUb3VjaEV2ZW50KGUpIHtcblx0XHQvLyBJZiB0aGlzIHdhcyBhIHRvdWNoIGV2ZW50XG5cdFx0Ly8gRGV0ZXJtaW5lIHRoZSBvZmZzZXQgdG8gdGhlIGNhbnZhcyBlbGVtZW50IHJlbGF0aXZlIHRvIHRoZSBpdGVtIGJlaW5nIGNsaWNrZWRcblx0XHRjb25zdCB0b3VjaCA9IChlLnRvdWNoZXMgfHwgZS5jaGFuZ2VkVG91Y2hlcylbMF07XG5cdFx0aWYgKHRvdWNoKSB7XG5cdFx0XHRlLm9mZnNldFggPSBNYXRoLmFicyh0b3VjaC5wYWdlWCB8fCB0b3VjaC5zY3JlZW5YKTtcblx0XHRcdGUub2Zmc2V0WSA9IE1hdGguYWJzKHRvdWNoLnBhZ2VZIHx8IHRvdWNoLnNjcmVlblkpO1xuXHRcdH1cblxuXHRcdHRoaXMuZGlzcGF0Y2hFdmVudChlKTtcblx0fVxufVxuXG5cbmZ1bmN0aW9uIGhhc2hjaGFuZ2Uoeikge1xuXG5cdGNvbnN0IHpJbmRleCA9ICd6LWluZGV4JztcblxuXHRpZiAod2luZG93LmxvY2F0aW9uLmhhc2ggPT09IGAjJHsgQkFDS0dST1VORF9IQVNIfWApIHtcblx0XHR6ID0gMTAwMDA7XG5cdH1cblxuXHRpZiAoeiAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0Ly8gU2V0IHRoZSB6LUluZGV4XG5cdFx0dGhpcy5zZXRQcm9wZXJ0eSh6SW5kZXgsIHopO1xuXHR9XG5cdGVsc2Uge1xuXHRcdC8vIFJlbW92ZSB0aGUgei1JbmRleFxuXHRcdHRoaXMucmVtb3ZlUHJvcGVydHkoekluZGV4KTtcblx0fVxufVxuIiwiLy8gQ29sbGVjdGlvblxuXG5jb25zdCBVc2VyRXZlbnRzID0gWydjbGljaycsICdtb3VzZWRvd24nLCAnbW91c2V1cCcsICdtb3VzZW92ZXInLCAnbW91c2Vtb3ZlJywgJ21vdXNlb3V0JywgJ3RvdWNobW92ZScsICd0b3VjaHN0YXJ0JywgJ3RvdWNoZW5kJywgJ2ZyYW1lJ107XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbGxlY3Rpb24ge1xuXG5cdGNvbnN0cnVjdG9yKHRhcmdldCkge1xuXHRcdC8vIENyZWF0ZSBhbiBlbXB0eSBjaGlsZHJlblxuXHRcdHRoaXMuY2hpbGRyZW4gPSBbXTtcblxuXHRcdC8vIEV2ZW50c1xuXHRcdHRoaXMuZXZlbnRzID0gW107XG5cblx0XHQvLyBzZXR1cCB0aGUgY2FudmFzIGVsZW1lbnRcblx0XHR0aGlzLmluaXQodGFyZ2V0KTtcblx0fVxuXG5cdC8vIGxpc3RlbiB0byBjYW52YXMgZXZlbnRzXG5cdGluaXQgKHRhcmdldCkge1xuXG5cdFx0Ly8gRGVmaW5lIHRoZSBjYW52YXMgb2JqZWN0IGFzIHRoZSB0YXJnZXQgZm9yIHRoZSBjb2xsZWN0aW9uXG5cdFx0dGhpcy50YXJnZXQgPSB0YXJnZXQ7XG5cblx0XHQvLyBEZWZpbmUgdGhlIENUWFxuXHRcdHRoaXMuY3R4ID0gdGFyZ2V0LmdldENvbnRleHQoJzJkJyk7XG5cblx0XHQvLyBsaXN0ZW4gdG8gdXNlciBpbnRlcmFjdGl2ZSBldmVudHMgYW5kIHRyaWdnZXIgdGhvc2Ugb24gaXRlbXNcblx0XHRVc2VyRXZlbnRzLmZvckVhY2goZXZlbnRuYW1lID0+IHRhcmdldC5hZGRFdmVudExpc3RlbmVyKGV2ZW50bmFtZSwgdGhpcy5fZmluZEFuZERpc3BhdGNoLmJpbmQodGhpcykpKTtcblxuXHR9XG5cblx0cHVzaChpdGVtKSB7XG5cdFx0aXRlbS5kaXJ0eSA9IHRydWU7XG5cblx0XHQvLyBJcyB0aGlzIGl0ZW0gYWxyZWFkeSBpbiB0aGUgY29sbGVjdGlvbj9cblx0XHRpZiAodGhpcy5jaGlsZHJlbi5pbmRleE9mKGl0ZW0pID09PSAtMSkge1xuXHRcdFx0aWYgKGl0ZW0uc2V0dXApIHtcblx0XHRcdFx0aXRlbS5zZXR1cCh0aGlzKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gaXRlbS5hZGRFdmVudExpc3RlbmVyKCdkaXJ0eScsIHRoaXMucHJlcGFyZUNoaWxkLmJpbmQodGhpcywgaXRlbSkpO1xuXHRcdFx0dGhpcy5jaGlsZHJlbi5wdXNoKGl0ZW0pO1xuXHRcdH1cblx0fVxuXG5cdGdldCBsZW5ndGggKCkge1xuXHRcdHJldHVybiB0aGlzLmNoaWxkcmVuLmxlbmd0aDtcblx0fVxuXHRzZXQgbGVuZ3RoICh2KSB7XG5cdFx0cmV0dXJuIHRoaXMuY2hpbGRyZW4ubGVuZ3RoID0gdjtcblx0fVxuXG5cblx0Ly8gVG91Y2hcblx0Ly8gTWFyayBpdGVtcyBhbmQgb2JqZWN0cyBpbiB0aGUgc2FtZSBzcGFjZSB0byBiZSByZWRyYXduXG5cdHByZXBhcmUoKSB7XG5cdFx0dGhpcy5jaGlsZHJlbi5mb3JFYWNoKGl0ZW0gPT4ge1xuXHRcdFx0aWYgKGl0ZW0uZGlydHkgPT09IHRydWUpXG5cdFx0XHRcdHRoaXMucHJlcGFyZUNoaWxkKGl0ZW0pO1xuXHRcdH0pO1xuXHR9XG5cblx0Ly8gQ2xlYW4gSXRlbVxuXHRwcmVwYXJlQ2hpbGQoaXRlbSkge1xuXG5cdFx0Y29uc3QgY3R4ID0gdGhpcy5jdHg7XG5cblx0XHRpZiAoaXRlbS5kaXJ0eSA9PT0gJ3BlbmRpbmcnKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gTWFyayB0aGlzIGl0ZW0gYXMgZGlydHlcblx0XHRpdGVtLmRpcnR5ID0gJ3BlbmRpbmcnO1xuXG5cdFx0Ly8gUmVtb3ZlIGZyb20gQ2FudmFzXG5cdFx0Y3R4LmNsZWFyUmVjdChpdGVtLngsIGl0ZW0ueSwgaXRlbS53LCBpdGVtLmgpO1xuXG5cdFx0Ly8gSWYgdGhlIGl0ZW1zIG9sZCBwb3NpdGlvbiBpcyBkaWZmZXJlbnRcblx0XHRpZiAoaXRlbS5wYXN0ICYmIGRpc3BsYWNlZChpdGVtLnBhc3QsIGl0ZW0pKSB7XG5cdFx0XHRjdHguY2xlYXJSZWN0KGl0ZW0ucGFzdC54LCBpdGVtLnBhc3QueSwgaXRlbS5wYXN0LncsIGl0ZW0ucGFzdC5oKTtcblx0XHR9XG5cblx0XHQvLyBMb29wIHRob3VnaCBvYmplY3RzIGFuZCByZWRyYXcgdGhvc2UgdGhhdCBleGlzdCB3aXRoaW4gdGhlIHBvc2l0aW9uXG5cdFx0dGhpcy5jaGlsZHJlbi5mb3JFYWNoKHRoaXMuX3ByZXBhcmVTaWJsaW5ncy5iaW5kKHRoaXMsIGl0ZW0pKTtcblx0fVxuXG5cdF9wcmVwYXJlU2libGluZ3MoaXRlbSwgc2libGluZykge1xuXG5cdFx0Ly8gRG9lcyB0aGlzIE9iamVjdCBvdmVybGFwIHdpdGggdGhlIGZvY3VzZWQgb2JqZWN0P1xuXHRcdGlmICghc2libGluZy5kaXJ0eSAmJiBzaWJsaW5nLnZpc2libGUgIT09IGZhbHNlICYmIChpbnRlcnNlY3Qoc2libGluZywgaXRlbSkgfHwgKGl0ZW0ucGFzdCA/IGludGVyc2VjdChzaWJsaW5nLCBpdGVtLnBhc3QpIDogZmFsc2UpKSkge1xuXHRcdFx0Ly8gTmVzdGVkIGNsZWFuXG5cdFx0XHR0aGlzLnByZXBhcmVDaGlsZChzaWJsaW5nKTtcblx0XHR9XG5cdH1cblxuXHRzb3J0KCkge1xuXHRcdC8vIFNvcnQgaXRlbXMgYnkgei1pbmRleFxuXHRcdHRoaXMuY2hpbGRyZW4uc29ydCgoYSwgYikgPT4ge1xuXHRcdFx0YSA9IGEuekluZGV4IHx8IDA7XG5cdFx0XHRiID0gYi56SW5kZXggfHwgMDtcblx0XHRcdHJldHVybiArKGEgPiBiKSB8fCAtKGEgPCBiKTtcblx0XHR9KTtcblx0fVxuXG5cdC8vIFRyaWdnZXIgdGhlIGRyYXcgZnVuY3Rpb25cblx0ZHJhdygpIHtcblxuXHRcdGNvbnN0IGN0eCA9IHRoaXMuY3R4O1xuXG5cdFx0Ly8gRmluZCBpdGVtcyB0aGF0IGhhdmUgY2hhbmdlZFxuXHRcdC8vIFJlbW92ZSBiYWNrZ3JvdW5kXG5cdFx0dGhpcy5jaGlsZHJlbi5mb3JFYWNoKGl0ZW0gPT4ge1xuXG5cdFx0XHRpZiAoaXRlbS5mcmFtZSkge1xuXHRcdFx0XHRpdGVtLmZyYW1lKGN0eCk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChpdGVtLmRpcnR5ICYmIGl0ZW0udmlzaWJsZSAhPT0gZmFsc2UpIHtcblx0XHRcdFx0aXRlbS5kcmF3KGN0eCk7XG5cdFx0XHR9XG5cblx0XHRcdGl0ZW0uZGlydHkgPSBmYWxzZTtcblx0XHR9KTtcblx0fVxuXG5cdGVsZW1lbnRGcm9tUG9pbnQoeCwgeSkge1xuXG5cdFx0bGV0IHRhcmdldDtcblxuXHRcdC8vIEZpbmQgdGhlIGNhbnZhcyBpdGVtIHdoaWNoIHRoaXMgdGFyZ2V0cz9cblx0XHRjb25zdCBvYmogPSB7XG5cdFx0XHR4LFxuXHRcdFx0eSxcblx0XHRcdHc6IDEsXG5cdFx0XHRoOiAxXG5cdFx0fTtcblxuXHRcdHRoaXMuY2hpbGRyZW4uZm9yRWFjaChpdGVtID0+IHtcblxuXHRcdFx0aWYgKGl0ZW0udmlzaWJsZSA9PT0gZmFsc2UgfHwgIWl0ZW0udyB8fCAhaXRlbS5oIHx8IGl0ZW0ucG9pbnRlckV2ZW50cyA9PT0gZmFsc2UpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJcyB0aGlzIGEgdGFyZ2V0P1xuXHRcdFx0aWYgKGludGVyc2VjdChvYmosIGl0ZW0pKSB7XG5cdFx0XHRcdC8vIERlZmluZSB0aGlzIGFzIGEgdGFyZ2V0XG5cdFx0XHRcdHRhcmdldCA9IGl0ZW07XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gdGFyZ2V0O1xuXHR9XG5cblx0Ly8gVGhlIHVzZXIgaGFzIGNsaWNrZWQgYW4gaXRlbSBvbiB0aGUgcGFnZVxuXHRhZGRFdmVudExpc3RlbmVyKGV2ZW50bmFtZSwgaGFuZGxlcikge1xuXG5cdFx0Ly8gQWRkIHRvIHRoZSBldmVudHMgbGlzdFxuXHRcdGlmICghKGV2ZW50bmFtZSBpbiB0aGlzLmV2ZW50cykpIHtcblx0XHRcdHRoaXMuZXZlbnRzW2V2ZW50bmFtZV0gPSBbXTtcblx0XHR9XG5cblx0XHR0aGlzLmV2ZW50c1tldmVudG5hbWVdLnB1c2goaGFuZGxlcik7XG5cdH1cblxuXHQvLyBEaXNwYXRjaFxuXHRkaXNwYXRjaEV2ZW50KGUpIHtcblx0XHRpZiAoZS50eXBlIGluIHRoaXMuZXZlbnRzKVxuXHRcdFx0dGhpcy5ldmVudHNbZS50eXBlXS5mb3JFYWNoKGhhbmRsZXIgPT4gaGFuZGxlcihlKSk7XG5cdH1cblxuXHQvLyBGaW5kIGFuZCBfZGlzcGF0Y2hcblx0X2ZpbmRBbmREaXNwYXRjaChlKSB7XG5cdFx0Ly8gSWYgdGhpcyBpcyBub3QgYSBwb2ludGVyRXZlbnQgbGV0cyBqdXN0IHBhc3MgaXQgdGhyb3VnaC5cblx0XHRpZiAoKHR5cGVvZiBNb3VzZUV2ZW50ICE9PSAndW5kZWZpbmVkJyAmJiBlIGluc3RhbmNlb2YgTW91c2VFdmVudCkgfHxcblx0XHRcdCh0eXBlb2YgVG91Y2hFdmVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgZSBpbnN0YW5jZW9mIFRvdWNoRXZlbnQpKSB7XG5cblx0XHRcdC8vIEZpbmQgdGhlIGNhbnZhcyBpdGVtIHdoaWNoIHRoaXMgdGFyZ2V0cz9cblx0XHRcdGNvbnN0IG9iaiA9IHtcblx0XHRcdFx0eDogZS5vZmZzZXRYLFxuXHRcdFx0XHR5OiBlLm9mZnNldFksXG5cdFx0XHRcdHc6IDEsXG5cdFx0XHRcdGg6IDFcblx0XHRcdH07XG5cblx0XHRcdHRoaXMuY2hpbGRyZW4uZm9yRWFjaChpdGVtID0+IHtcblxuXHRcdFx0XHRpZiAoIWl0ZW0udmlzaWJsZSB8fCAhaXRlbS53IHx8ICFpdGVtLmggfHwgIWl0ZW0ucG9pbnRlckV2ZW50cykge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEludGVyc2VjdHM/XG5cdFx0XHRcdGludGVyc2VjdChvYmosIGl0ZW0pICYmIGl0ZW0uZGlzcGF0Y2hFdmVudChlKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxufVxuXG5cbi8vIEludGVyc2VjdFxuLy8gR2l2ZW4gdHdvIG9iamVjdHMgd2l0aCwgeCx5LHcsaCBwcm9wZXJ0aWVzXG4vLyBEbyB0aGVpciByZWN0YW5ndWxhciBkaW1lbnNpb25zIGludGVyc2VjdD9cbi8vIHJldHVybiBCb29sZWFuIHRydWUgZmFsc2UuXG5mdW5jdGlvbiBpbnRlcnNlY3QoYSwgYikge1xuXHRyZXR1cm4gIShhLnggPiAoYi54ICsgYi53KSB8fFxuXHQoYS54ICsgYS53KSA8IGIueCB8fFxuXHRhLnkgPiAoYi55ICsgYi5oKSB8fFxuXHQoYS55ICsgYS5oKSA8IGIueSk7XG59XG5cbmZ1bmN0aW9uIGRpc3BsYWNlZChhLCBiKSB7XG5cdHJldHVybiAoYS54ICE9PSBiLnggfHxcblx0YS55ICE9PSBiLnkgfHxcblx0YS53ICE9PSBiLncgfHxcblx0YS5oICE9PSBiLmgpO1xufVxuIiwiLy8gU2hhcGVcbi8vIENhbnZhc1NoYXBlc1xuLy8gVGhlIHBhcmVudCBvYmplY3QgZGVmaW5pbmcgYSBiYXNpYyBzaGFwZSwgeCx5LHcsaCwgZm9yIHN0YXJ0ZXJzLlxuLy8gQW5kIGJhc2ljIG9wZXJhdGluZ3MgeW91IG1pZ2h0IGxpa2UgdG8gaW5jbHVkZSBvbiBhIHNoYXBlXG5pbXBvcnQgY3JlYXRlRXZlbnQgZnJvbSAndHJpY2tzL2V2ZW50cy9jcmVhdGVFdmVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNoYXBlIHtcblxuXHRjb25zdHJ1Y3RvciAoLi4uYXJncykge1xuXG5cdFx0Ly8gaW5pdGllYXRlICBldmVudHNcblx0XHR0aGlzLmV2ZW50cyA9IFtdO1xuXG5cdFx0aWYgKGFyZ3MubGVuZ3RoKSB7XG5cdFx0XHQvLyBTdG9yZSB0aGUgdmFsdWVzXG5cdFx0XHR0aGlzLnBvc2l0aW9uKC4uLmFyZ3MpO1xuXHRcdH1cblx0fVxuXG4vL1x0U2V0IHByb3BlcnR5IGxpc3RlbmVyc1xuXHRnZXQgeCgpIHtcblx0XHRyZXR1cm4gdGhpcy5feDtcblx0fVxuXHRzZXQgeCh2KSB7XG5cdFx0aWYgKHRoaXMuX3ggIT09IHYpIHtcblx0XHRcdHRoaXMuZGlydHkgPSB0cnVlOyB0aGlzLl94ID0gdjtcblx0XHR9XG5cdH1cblxuXHRnZXQgeSgpIHtcblx0XHRyZXR1cm4gdGhpcy5feTtcblx0fVxuXHRzZXQgeSh2KSB7XG5cdFx0aWYgKHRoaXMuX3kgIT09IHYpIHtcblx0XHRcdHRoaXMuZGlydHkgPSB0cnVlOyB0aGlzLl95ID0gdjtcblx0XHR9XG5cdH1cblxuXHRnZXQgdygpIHtcblx0XHRyZXR1cm4gdGhpcy5fdztcblx0fVxuXHRzZXQgdyh2KSB7XG5cdFx0aWYgKHRoaXMuX3cgIT09IHYpIHtcblx0XHRcdHRoaXMuZGlydHkgPSB0cnVlOyB0aGlzLl93ID0gdjtcblx0XHR9XG5cdH1cblxuXHRnZXQgaCgpIHtcblx0XHRyZXR1cm4gdGhpcy5faDtcblx0fVxuXHRzZXQgaCh2KSB7XG5cdFx0aWYgKHRoaXMuX2ggIT09IHYpIHtcblx0XHRcdHRoaXMuZGlydHkgPSB0cnVlOyB0aGlzLl9oID0gdjtcblx0XHR9XG5cdH1cblxuXHRnZXQgZHgoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2R4O1xuXHR9XG5cdHNldCBkeCh2KSB7XG5cdFx0aWYgKHRoaXMuX2R4ICE9PSB2KSB7XG5cdFx0XHR0aGlzLmRpcnR5ID0gdHJ1ZTsgdGhpcy5fZHggPSB2O1xuXHRcdH1cblx0fVxuXG5cdGdldCBkeSgpIHtcblx0XHRyZXR1cm4gdGhpcy5fZHk7XG5cdH1cblx0c2V0IGR5KHYpIHtcblx0XHRpZiAodGhpcy5fZHkgIT09IHYpIHtcblx0XHRcdHRoaXMuZGlydHkgPSB0cnVlOyB0aGlzLl9keSA9IHY7XG5cdFx0fVxuXHR9XG5cblx0Z2V0IHZpc2libGUoKSB7XG5cdFx0cmV0dXJuICh0aGlzLl92aXNpYmxlID09PSB1bmRlZmluZWQgPyB0cnVlIDogdGhpcy5fdmlzaWJsZSk7XG5cdH1cblx0c2V0IHZpc2libGUodikge1xuXHRcdGlmICh0aGlzLl92aXNpYmxlICE9PSB2KSB7XG5cdFx0XHR0aGlzLmRpcnR5ID0gdHJ1ZTsgdGhpcy5fdmlzaWJsZSA9IHY7XG5cdFx0fVxuXHR9XG5cblx0Z2V0IG9wYWNpdHkoKSB7XG5cdFx0cmV0dXJuICh0aGlzLl9vcGFjaXR5ID09PSB1bmRlZmluZWQgPyAxIDogdGhpcy5fb3BhY2l0eSk7XG5cdH1cblx0c2V0IG9wYWNpdHkodikge1xuXHRcdGlmICh0aGlzLl9vcGFjaXR5ICE9PSB2KSB7XG5cdFx0XHR0aGlzLmRpcnR5ID0gdHJ1ZTsgdGhpcy5fb3BhY2l0eSA9IHY7XG5cdFx0fVxuXHR9XG5cblx0c2V0IGRpcnR5ICh2KSB7XG5cdFx0Ly8gSGFzIHRoaXMganVzdCBiZWVuIG1hZGUgZGlydHk/XG5cdFx0aWYgKCF0aGlzLl9kaXJ0eSAmJiB2KSB7XG5cdFx0XHQvLyBNYXJrIGFzIGRpcnR5XG5cdFx0XHR0aGlzLl9kaXJ0eSA9IHY7XG5cblx0XHRcdC8vIFRyaWdnZXIgYSBjYW52YXMgY2xlYW5cblx0XHRcdHRoaXMuZGlzcGF0Y2hFdmVudChjcmVhdGVFdmVudCgnZGlydHknKSk7XG5cdFx0fVxuXHRcdGVsc2UgaWYgKCF2KSB7XG5cdFx0XHQvLyByZXNldFxuXHRcdFx0dGhpcy5fZGlydHkgPSB2O1xuXHRcdH1cblx0fVxuXHRnZXQgZGlydHkgKCkge1xuXHRcdHJldHVybiB0aGlzLl9kaXJ0eTtcblx0fVxuXG5cdC8vIExldCBldmVudHMgYnViYmxlIHVwXG5cdGdldCBwb2ludGVyRXZlbnRzICgpIHtcblx0XHRyZXR1cm4gKHRoaXMuX3BvaW50ZXJFdmVudHMgPT09IHVuZGVmaW5lZCA/IDEgOiB0aGlzLl9wb2ludGVyRXZlbnRzKTtcblx0fVxuXHRzZXQgcG9pbnRlckV2ZW50cyAodikge1xuXHRcdHRoaXMuX3BvaW50ZXJFdmVudHMgPSB2O1xuXHR9XG5cblx0cG9zaXRpb24oeCA9IDAsIHkgPSAwLCB3ID0gMCwgaCA9IDApIHtcblxuXHRcdGlmICghdGhpcy5wYXN0KSB7XG5cdFx0XHQvLyBTZXQgcGFzdCBwb2ludHNcblx0XHRcdHRoaXMucGFzdCA9IHt9O1xuXHRcdH1cblxuXHRcdHRoaXMucGFzdC54ID0gdGhpcy54O1xuXHRcdHRoaXMucGFzdC55ID0gdGhpcy55O1xuXHRcdHRoaXMucGFzdC53ID0gdGhpcy53O1xuXHRcdHRoaXMucGFzdC5oID0gdGhpcy5oO1xuXG5cdFx0Ly8gQXNzaWduLCByZWN0YW5nbGUgc2hhcGVcblx0XHQvLyBIYXZlIGEgYmFja3VwIGZvb3RwcmludFxuXHRcdHRoaXMueCA9IHg7XG5cdFx0dGhpcy55ID0geTtcblx0XHR0aGlzLncgPSB3O1xuXHRcdHRoaXMuaCA9IGg7XG5cdH1cblxuXHQvLyBQbGFjZWhvbGRlciBmdW5jdGlvbiBmb3IgZHJhd2luZyB0byBjYW52YXNcblx0ZnJhbWUoKSB7fVxuXHRkcmF3KCkge31cblx0c2V0dXAoKSB7fVxuXG5cdC8vIEV2ZW50c1xuXHQvLyBBc3NpZ24gRXZlbnRzIHRvIGJlIGZpcmVkIHdoZW4gdGhlIHVzZXIgY2xpY2tzIHRoaXMgb2JqZWN0XG5cdC8vIEF3ZXNvbWVcblx0YWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGNhbGxiYWNrKSB7XG5cdFx0aWYgKCEoZXZlbnROYW1lIGluIHRoaXMuZXZlbnRzKSkge1xuXHRcdFx0dGhpcy5ldmVudHNbZXZlbnROYW1lXSA9IFtdO1xuXHRcdH1cblx0XHR0aGlzLmV2ZW50c1tldmVudE5hbWVdLnB1c2goY2FsbGJhY2spO1xuXHR9XG5cblx0ZGlzcGF0Y2hFdmVudChlKSB7XG5cdFx0aWYgKCEoZS50eXBlIGluIHRoaXMuZXZlbnRzKSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHR0aGlzLmV2ZW50c1tlLnR5cGVdLmZvckVhY2goZm4gPT4gZm4oZSkpO1xuXHR9XG5cblx0Ly8gQXNzaWduIGdldHRlcnMgYW5kIHNldHRlcnMgdG8gZGVmYXVsdCBwcm9wZXJ0aWVzXG5cdF93YXRjaFByb3BlcnR5KHByb3BOYW1lKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIHByb3BOYW1lLCB7XG5cdFx0XHRnZXQ6IHRoaXMuX2dldHRlci5iaW5kKHRoaXMsIHByb3BOYW1lKSxcblx0XHRcdHNldDogdGhpcy5fc2V0dGVyLmJpbmQodGhpcywgcHJvcE5hbWUpXG5cdFx0fSk7XG5cdH1cblxuXHRfZ2V0dGVyKHByb3BOYW1lKSB7XG5cdFx0cmV0dXJuIHRoaXNbYF8keyBwcm9wTmFtZX1gXTtcblx0fVxuXG5cdF9zZXR0ZXIocHJvcE5hbWUsIHYpIHtcblx0XHRpZiAodGhpc1tgXyR7IHByb3BOYW1lfWBdICE9PSB2KSB7XG5cdFx0XHR0aGlzLmRpcnR5ID0gdHJ1ZTtcblx0XHRcdHRoaXNbYF8keyBwcm9wTmFtZX1gXSA9IHY7XG5cdFx0fVxuXHR9XG59XG4iLCIvLyB0ZXh0XG4vLyBUZXh0T2JqZWN0LCBkZWZpbmVzIGEgc2hhcGUgb2JqZWN0IHdoaWNoIGNvbnRhaW5zIHRleHQuXG5cbmltcG9ydCBTaGFwZSBmcm9tICcuL3NoYXBlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGV4dCBleHRlbmRzIFNoYXBlIHtcblxuXHQvLyBJbml0aWF0ZSBhIG5ldyBzaGFwZSBvYmplY3QuXG5cdGNvbnN0cnVjdG9yICh0ZXh0KSB7XG5cdFx0Ly8gaW5pdGlhdGUgaW5oZXJpdGFuY2Vcblx0XHRzdXBlcigpO1xuXG5cdFx0Ly8gV2F0Y2ggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzIGZvciBjaGFuZ2VzXG5cdFx0Wyd0ZXh0JywgJ3NoYWRvd0JsdXInLCAnc2hhZG93Q29sb3InLCAnZmlsbFN0eWxlJywgJ3N0cm9rZVN0eWxlJywgJ3RleHRBbGlnbicsICd0ZXh0QmFzZWxpbmUnLCAnbGluZVdpZHRoJ10uZm9yRWFjaCh0aGlzLl93YXRjaFByb3BlcnR5LmJpbmQodGhpcykpO1xuXG5cdFx0Ly8gRGVmaW5lIHRleHRcblx0XHR0aGlzLnRleHQgPSB0ZXh0IHx8ICcnO1xuXG5cdFx0dGhpcy5zaGFkb3dDb2xvciA9ICdibGFjayc7XG5cdFx0dGhpcy5maWxsU3R5bGUgPSAnYmxhY2snO1xuXHRcdHRoaXMuc3Ryb2tlU3R5bGUgPSAnd2hpdGUnO1xuXHRcdHRoaXMudGV4dEFsaWduID0gJ2xlZnQnO1xuXHRcdHRoaXMudGV4dEJhc2VsaW5lID0gJ3RvcCc7XG5cdFx0dGhpcy5saW5lV2lkdGggPSAwO1xuXHRcdHRoaXMuYWxpZ24gPSAnbGVmdCB0b3AnO1xuXHRcdHRoaXMuZm9udFNpemUgPSAzMDtcblx0fVxuXG5cdC8vIERlZmluZSB0aGUgdGV4dCBhbmQgdGhlIGFsaWdubWVudCBvZiB0aGUgb2JqZWN0XG5cdGNhbGMgKGNhbnZhcykge1xuXG5cdFx0Ly8gRGVmaW5lIHRleHRcblx0XHRbdGhpcy50ZXh0QWxpZ24sIHRoaXMudGV4dEJhc2VsaW5lXSA9IHRoaXMuYWxpZ24uc3BsaXQoJyAnKTtcblxuXHRcdGNvbnN0IGN0eCA9IGNhbnZhcy5jdHg7XG5cdFx0bGV0IGZvbnRTaXplID0gdGhpcy5mb250U2l6ZTtcblxuXHRcdC8vIFNwbGl0IHRleHQgYnkgbGluZSBicmVha3Ncblx0XHR0aGlzLmxpbmVzID0gdGhpcy50ZXh0LnRvU3RyaW5nKCkuc3BsaXQoJ1xcbicpO1xuXG5cdFx0Ly8gV2hpY2ggaXMgdGhlIGxvbmdlc3QgbGluZT9cblx0XHRsZXQgX3dpZHRoID0gMDtcblx0XHRsZXQgZGVmYXVsdF90ZXh0ID0gdGhpcy5saW5lc1swXTtcblxuXHRcdHRoaXMubGluZXMuZm9yRWFjaChsaW5lID0+IHtcblx0XHRcdGNvbnN0IF93ID0gY3R4Lm1lYXN1cmVUZXh0KGxpbmUpLndpZHRoO1xuXHRcdFx0aWYgKF93ID4gX3dpZHRoKSB7XG5cdFx0XHRcdF93aWR0aCA9IF93O1xuXHRcdFx0XHRkZWZhdWx0X3RleHQgPSBsaW5lO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gRmluZCB0aGUgd2lkdGggYW5kIGhlaWdodCBvZiB0aGUgaXRlbVxuXHRcdC8vIFVzaW5nIHRoZSBjYW52YXMgY29udGV4dFxuXHRcdGN0eC5zYXZlKCk7XG5cblx0XHRjdHguc2hhZG93Q29sb3IgPSAnYmxhY2snO1xuXHRcdGN0eC5maWxsU3R5bGUgPSAnYmxhY2snO1xuXHRcdGN0eC5zdHJva2VTdHlsZSA9ICdyZ2JhKDI1NSwyNTUsMjU1LDAuNSknO1xuXHRcdGN0eC5mb250ID0gYGJvbGQgJHsgZm9udFNpemUgfXB4IEFyaWFsYDtcblxuXHRcdHdoaWxlIChjdHgubWVhc3VyZVRleHQoZGVmYXVsdF90ZXh0KS53aWR0aCA+IGNhbnZhcy53aWR0aCkge1xuXHRcdFx0Zm9udFNpemUgKj0gMC45O1xuXHRcdFx0Zm9udFNpemUgPSBNYXRoLnJvdW5kKGZvbnRTaXplKTtcblx0XHRcdGN0eC5mb250ID0gYGJvbGQgJHsgZm9udFNpemUgfXB4IEFyaWFsYDtcblx0XHR9XG5cblx0XHR0aGlzLnNoYWRvd0JsdXIgPSBjdHguc2hhZG93Qmx1ciA9IE1hdGgucm91bmQoZm9udFNpemUgLyAxMCk7XG5cdFx0dGhpcy5mb250U2l6ZSA9IGZvbnRTaXplO1xuXHRcdHRoaXMuZm9udCA9IGN0eC5mb250O1xuXG5cdFx0dGhpcy53ID0gY3R4Lm1lYXN1cmVUZXh0KGRlZmF1bHRfdGV4dCkud2lkdGggKyAodGhpcy5zaGFkb3dCbHVyICogMik7XG5cdFx0dGhpcy5oID0gKGZvbnRTaXplICsgKHRoaXMuc2hhZG93Qmx1ciAqIDIpKSAqIHRoaXMubGluZXMubGVuZ3RoO1xuXG5cdFx0Y3R4LnJlc3RvcmUoKTtcblxuXHRcdC8vIFN0b3JlIHN0eWxlIGF0dHJpYnV0ZXNcblx0XHQvLyBTdG9yZSB0aGUgbmV3IGF0dHJpYnV0ZXMgb2YgdGhlIHRleHQgaXRlbVxuXHRcdHRoaXMubGluZVdpZHRoID0gTWF0aC5mbG9vcihmb250U2l6ZSAvIDYwKTtcblxuXG5cdFx0Ly8gSEVJR0hUIGFuZCBXSURUSFxuXHRcdHN3aXRjaCAodGhpcy50ZXh0QWxpZ24pIHtcblx0XHRcdGNhc2UgJ2NlbnRlcic6XG5cdFx0XHRjYXNlICdtaWRkbGUnOlxuXHRcdFx0XHR0aGlzLnRleHRBbGlnbiA9ICdjZW50ZXInO1xuXHRcdFx0XHR0aGlzLnggPSAoY2FudmFzLndpZHRoIC8gMikgLSAodGhpcy53IC8gMik7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAnbGVmdCc6XG5cdFx0XHRcdHRoaXMueCA9IDA7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAncmlnaHQnOlxuXHRcdFx0XHR0aGlzLnggPSBjYW52YXMud2lkdGggLSB0aGlzLnc7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdH1cblxuXHRcdHN3aXRjaCAodGhpcy50ZXh0QmFzZWxpbmUpIHtcblx0XHRcdGNhc2UgJ2NlbnRlcic6XG5cdFx0XHRjYXNlICdtaWRkbGUnOlxuXHRcdFx0XHR0aGlzLnRleHRCYXNlbGluZSA9ICdtaWRkbGUnO1xuXHRcdFx0XHR0aGlzLnkgPSAoY2FudmFzLmhlaWdodCAvIDIpIC0gKHRoaXMuaCAvIDIpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ3RvcCc6XG5cdFx0XHRcdHRoaXMueSA9IDA7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAnYm90dG9tJzpcblx0XHRcdFx0dGhpcy55ID0gY2FudmFzLmhlaWdodCAtIHRoaXMuaDtcblx0XHRcdFx0YnJlYWs7XG5cdFx0fVxuXG5cdFx0dGhpcy50ZXh0QWxpZ24gPSAnbGVmdCc7XG5cdFx0dGhpcy50ZXh0QmFzZWxpbmUgPSAndG9wJztcblxuXHRcdGN0eC5yZXN0b3JlKCk7XG5cdH1cblxuXHQvLyBEcmF3XG5cdGRyYXcgKGN0eCkge1xuXG5cdFx0Y3R4LnNhdmUoKTtcblxuXHRcdGN0eC5nbG9iYWxBbHBoYSA9IHRoaXMub3BhY2l0eTtcblxuXHRcdGN0eC5zaGFkb3dDb2xvciA9IHRoaXMuc2hhZG93Q29sb3I7XG5cdFx0aWYgKHRoaXMuc2hhZG93Qmx1cikge1xuXHRcdFx0Y3R4LnNoYWRvd0JsdXIgPSB0aGlzLnNoYWRvd0JsdXI7XG5cdFx0fVxuXHRcdGN0eC5maWxsU3R5bGUgPSB0aGlzLmZpbGxTdHlsZTtcblx0XHRjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLnN0cm9rZVN0eWxlO1xuXHRcdGN0eC5mb250ID0gdGhpcy5mb250O1xuXG5cdFx0Y3R4LnRleHRBbGlnbiA9IHRoaXMudGV4dEFsaWduO1xuXHRcdGN0eC50ZXh0QmFzZWxpbmUgPSB0aGlzLnRleHRCYXNlbGluZTtcblx0XHRjdHgubGluZVdpZHRoID0gdGhpcy5saW5lV2lkdGg7XG5cblx0XHRpZiAodGhpcy5saW5lV2lkdGgpIHtcblx0XHRcdGN0eC5saW5lV2lkdGggPSB0aGlzLmxpbmVXaWR0aDtcblx0XHR9XG5cblx0XHR0aGlzLmxpbmVzID0gdGhpcy50ZXh0LnRvU3RyaW5nKCkuc3BsaXQoJ1xcbicpO1xuXG5cdFx0Y29uc3QgbGVuID0gdGhpcy5saW5lcy5sZW5ndGg7XG5cblx0XHR0aGlzLmxpbmVzLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XG5cdFx0XHRjb25zdCB5ID0gdGhpcy55ICsgKHRoaXMuaCA/IChpbmRleCAqICh0aGlzLmggLyBsZW4pKSA6IDApO1xuXG5cdFx0XHRjdHguZmlsbFRleHQoaXRlbSwgdGhpcy54LCB5KTtcblx0XHRcdGlmICh0aGlzLnN0cm9rZVN0eWxlKSB7XG5cdFx0XHRcdGN0eC5zdHJva2VUZXh0KGl0ZW0sIHRoaXMueCwgeSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRjdHgucmVzdG9yZSgpO1xuXHR9XG59XG4iLCIvLyBtaW5lRmllbGQsIENhbnZhcyBhbm5pbWF0aW9uXG4vLyBDb3B5cmlnaHQgQW5kcmV3IERvZHNvbiwgTWFyY2ggMjAxM1xuXG4vLyBHZXQgQ2FudmFzXG5pbXBvcnQgQ2FudmFzIGZyb20gJy4vY2xhc3Nlcy9jYW52YXMnO1xuaW1wb3J0IENvbGxlY3Rpb24gZnJvbSAnLi9jbGFzc2VzL2NvbGxlY3Rpb24nO1xuaW1wb3J0IFRleHQgZnJvbSAnLi9jbGFzc2VzL3RleHQnO1xuaW1wb3J0IEJhY2tncm91bmQgZnJvbSAnLi9jbGFzc2VzL2JhY2tncm91bmQnO1xuaW1wb3J0IGV4dGVuZCBmcm9tICd0cmlja3Mvb2JqZWN0L2V4dGVuZCc7XG5cblxuLy8gQ3JlYXRlIGEgbmV3IHRpbGVcbi8vIEFyZ3VtZW50cyBoYW5kbGVkIGJ5IHBhcmVudFxuY2xhc3MgVGlsZSB7XG5cblx0Y29uc3RydWN0b3IgKC4uLmFyZ3MpIHtcblxuXHRcdC8vIERlZmluZSB0aGUgcG9zaXRpb24gb2YgdGhpcyBzcXVhcmVcblx0XHR0aGlzLnBvc2l0aW9uKC4uLmFyZ3MpO1xuXG5cdFx0Ly8gTWluZT9cblx0XHQvLyBBc3NpZ24gd2l0aCBhIDEgaW4gNSBjaGFuY2Vcblx0XHR0aGlzLm1pbmUgPSBNYXRoLnJhbmRvbSgpIDwgKDEgLyA4KTtcblxuXHRcdC8vIFByaXZhdGUgbWFyayBhcyB0byB3aGV0aGVyIHRoaXMgaGFzIGJlZW4gcGxheWVkXG5cdFx0dGhpcy5wbGF5ZWQgPSBmYWxzZTtcblxuXHRcdC8vIERlZmluZSBhbiBpbml0aWFsIGdyaWQgcG9zaXRpb24gZm9yIHRoaXMgdGlsZS5cblx0XHR0aGlzLmdyaWQgPSBbMCwgMF07XG5cblx0XHQvLyBEZWZpbmUgYSBkZWZhdWx0IGZpbGwgY29sb3IgZm9yIHRpbGVzLlxuXHRcdHRoaXMuZmlsbFN0eWxlID0gJyNjY2MnO1xuXG5cdFx0Ly8gSW5pdGlhbCBoZWF0XG5cdFx0dGhpcy5oZWF0ID0gMDsgLy8gSG93IG1hbnkgYm9tYnMgYXJlIG5leHQgdG8gdGhpcz9cblx0fVxuXG5cdHBvc2l0aW9uKHgsIHksIHcsIGgpIHtcblx0XHR0aGlzLnggPSB4O1xuXHRcdHRoaXMueSA9IHk7XG5cdFx0dGhpcy53ID0gdztcblx0XHR0aGlzLmggPSBoO1xuXHRcdHRoaXMuZGlydHkgPSB0cnVlO1xuXHR9XG5cblx0c2V0dXAoKSB7fVxuXHRmcmFtZSgpIHt9XG5cdGRyYXcoY3R4KSB7XG5cdFx0Y3R4LmZpbGxTdHlsZSA9IHRoaXMuZmlsbFN0eWxlO1xuXHRcdGN0eC5maWxsUmVjdCh0aGlzLngsIHRoaXMueSwgdGhpcy53LCB0aGlzLmgpO1xuXHR9XG5cblx0Z2V0IHR5cGUoKSB7XG5cdFx0cmV0dXJuICd0aWxlJztcblx0fVxufVxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gKlxuICogIEJ1aWxkIENhbnZhcyBPYmplY3QgQ29sbGVjdGlvblxuICogKiBUaWxlc1xuICogKiBEYXRhXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuY2xhc3MgU3RhZ2Uge1xuXHRjb25zdHJ1Y3RvcigpIHtcblxuXHRcdHRoaXMub3B0aW9ucyA9IHtcblx0XHRcdGNvbnRyb2xzOiB0cnVlXG5cdFx0fTtcblxuXHRcdHRoaXMudGlsZXMgPSBbXSxcblx0XHR0aGlzLm1pbmVzID0gW10sXG5cdFx0dGhpcy5mbG9vZGVkID0gMCxcblx0XHR0aGlzLmJvb20gPSBmYWxzZSxcblx0XHR0aGlzLmVuZGVkID0gZmFsc2U7XG5cbi8vIEluaWl0YXRlIGNhbnZhc1xuXHRcdGNvbnN0IGNhbnZhcyA9IG5ldyBDYW52YXMoKTtcblx0XHR0aGlzLmNhbnZhcyA9IGNhbnZhcztcblxuLy8gSW5paXRhdGUgY29sbGVjdGlvblxuXHRcdGNvbnN0IGNvbGxlY3Rpb24gPSBuZXcgQ29sbGVjdGlvbihjYW52YXMudGFyZ2V0KTtcblx0XHR0aGlzLmNvbGxlY3Rpb24gPSBjb2xsZWN0aW9uO1xuXG4vLyBBZGQgYSB0ZXh0IE9iamVjdFxuLy8gV2Ugb25seSBoYXZlIG9uZSB0ZXh0IE9iamVjdCBvbiB0aGUgc2NyZWVuIGF0IGEgdGltZSwgbGV0cyByZXVzZSBpdC5cblxuXHRcdGNvbnN0IHRpdGxlID0gbmV3IFRleHQoKTtcblx0XHR0aXRsZS50ZXh0ID0gJ01pbmVGaWVsZCc7XG5cdFx0dGl0bGUuYWxpZ24gPSAnY2VudGVyIGNlbnRlcic7XG5cdFx0dGl0bGUuZm9udFNpemUgPSAxNTA7XG5cdFx0dGl0bGUuekluZGV4ID0gMTtcblx0XHR0aXRsZS5jYWxjKGNhbnZhcyk7XG5cdFx0dGl0bGUucG9pbnRlckV2ZW50cyA9IGZhbHNlO1xuXHRcdHRoaXMudGl0bGUgPSB0aXRsZTtcblxuXHRcdGNvbnN0IGluZm8gPSBuZXcgVGV4dCgpO1xuXHRcdGluZm8udGV4dCA9ICdUYXAgIHRvICBzdGFydCc7XG5cdFx0aW5mby5hbGlnbiA9ICdjZW50ZXIgY2VudGVyJztcblx0XHRpbmZvLmZvbnRTaXplID0gNDA7XG5cdFx0aW5mby56SW5kZXggPSAxO1xuXHRcdGluZm8uY2FsYyhjYW52YXMpO1xuXHRcdGluZm8ucG9pbnRlckV2ZW50cyA9IGZhbHNlO1xuXHRcdGluZm8ueSA9IGluZm8ueSArIHRpdGxlLmg7XG5cdFx0dGhpcy5pbmZvID0gaW5mbztcblxuXHRcdGNvbnN0IGNyZWRpdHMgPSBuZXcgVGV4dCgpO1xuXHRcdGNyZWRpdHMuYWxpZ24gPSAnY2VudGVyIGNlbnRlcic7XG5cdFx0Y3JlZGl0cy56SW5kZXggPSAxO1xuXHRcdGNyZWRpdHMuZm9udFNpemUgPSAxNTA7XG5cdFx0Y3JlZGl0cy5jYWxjKGNhbnZhcyk7XG5cdFx0Y3JlZGl0cy5wb2ludGVyRXZlbnRzID0gZmFsc2U7XG5cdFx0dGhpcy5jcmVkaXRzID0gY3JlZGl0cztcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICogIEFkZCBFdmVudHMsIHRvIGxpc3RlbiB0byBpbiBnYW1lIHBsYXlcbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cblx0XHRjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgZSA9PiB1c2VyQ2xpY2suY2FsbCh0aGlzLCBlLm9mZnNldFgsIGUub2Zmc2V0WSkpO1xuXHRcdGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgZSA9PiB1c2VyQ2xpY2suY2FsbCh0aGlzLCBlLm9mZnNldFgsIGUub2Zmc2V0WSkpO1xuXHRcdGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBzZXR1cC5iaW5kKHRoaXMpKTtcblx0XHRjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignZnJhbWUnLCAoKSA9PiB7XG5cblx0XHRcdC8vIERyYXcgaXRlbXNcblx0XHRcdGNvbGxlY3Rpb24ucHJlcGFyZSgpO1xuXG5cdFx0XHQvLyBEcmF3IGl0ZW1zXG5cdFx0XHRjb2xsZWN0aW9uLmRyYXcoKTtcblxuXHRcdH0pO1xuXG5cblx0fVxuXHRzZXR1cChvcHRpb25zKSB7XG5cblx0XHQvLyBVcGRhdGUgY29uZmlnXG5cdFx0dGhpcy5jb25maWcob3B0aW9ucyk7XG5cblx0XHQvLyBTZXR1cCBhbGwgdGhlIHRpbGVzXG5cdFx0c2V0dXAuY2FsbCh0aGlzKTtcblx0fVxuXHRjb25maWcob3B0aW9ucykge1xuXG5cdFx0Ly8gTWVyZ2UgdGhlIGN1cnJlbnQgb3B0aW9uc1xuXHRcdGV4dGVuZCh0aGlzLm9wdGlvbnMsIG9wdGlvbnMpO1xuXG5cdFx0Ly8gU2hvdyBDb250cm9sc1xuXHRcdHNob3dDb250cm9scy5jYWxsKHRoaXMpO1xuXHR9XG59XG5cblxuLy8gQWRkIFN0YWdlIHRvIHRoZSBiYWNrZ3JvdW5kXG5CYWNrZ3JvdW5kLmFkZChTdGFnZSk7XG5cbmZ1bmN0aW9uIHVzZXJDbGljayh4LCB5KSB7XG5cblx0Ly8gSWYgd2UgbmVlZCB0byByZXNldD9cblx0aWYgKHRoaXMuZW5kZWQpIHtcblx0XHRzZXR1cC5jYWxsKHRoaXMpO1xuXHRcdHJldHVybjtcblx0fVxuXG5cdC8vIFRpbGUgQ2xpY2tlZFxuXHRjb25zdCB0YXJnZXQgPSB0aGlzLmNvbGxlY3Rpb24uZWxlbWVudEZyb21Qb2ludCh4LCB5KTtcblxuXHRpZiAodGFyZ2V0ICYmIHRhcmdldC50eXBlID09PSAndGlsZScpIHtcblx0XHRwbGF5LmNhbGwodGhpcywgdGFyZ2V0KTtcblx0fVxufVxuXG5cbi8vIFNldHVwXG5mdW5jdGlvbiBzZXR1cCgpIHtcblxuXHRjb25zdCBjYW52YXMgPSB0aGlzLmNhbnZhcztcblx0Y29uc3QgY29sbGVjdGlvbiA9IHRoaXMuY29sbGVjdGlvbjtcblx0Y29uc3QgdGlsZXMgPSB0aGlzLnRpbGVzO1xuXHRjb25zdCBtaW5lcyA9IHRoaXMubWluZXM7XG5cblx0Ly8gRGVmaW5lIHR5cGUgc2l6ZVxuXHQvLyBzZXQgdGlsZSBkZWZhdWx0IFdpZHRoIGFuZCBoZWlnaHRcblxuXHR0aGlzLm1pbmVzLmxlbmd0aCA9IDA7XG5cdHRoaXMuZmxvb2RlZCA9IDA7XG5cdHRoaXMuYm9vbSA9IGZhbHNlO1xuXHR0aGlzLmVuZGVkID0gZmFsc2U7XG5cblx0dGlsZXMubGVuZ3RoID0gMDtcblx0Y29sbGVjdGlvbi5sZW5ndGggPSAwO1xuXG5cdGxldCBoO1xuXHRsZXQgdztcblxuXHR3ID0gaCA9IDUwO1xuXG5cdC8vIHNldCBudW1iZXIgb2YgdGlsZXMgaG9yaXpvbnRhbGx5IGFuZCB2ZXJ0aWNhbGx5XG5cdGNvbnN0IG54ID0gTWF0aC5mbG9vcihjYW52YXMud2lkdGggLyB3KTtcblx0Y29uc3QgbnkgPSBNYXRoLmZsb29yKGNhbnZhcy5oZWlnaHQgLyBoKTtcblxuXHR0aGlzLm54ID0gbng7XG5cdHRoaXMubnkgPSBueTtcblxuXHQvLyBEbyB0aGUgdGlsZXMgbm90IHBlcmZlY3RseSBmaXQgdGhlIHNwYWNlP1xuXHQvLyBzcGxpdCB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSB0aWxlcywgYWRkaW5nIHRvIHRoZSB3aWR0aHMgYW5kIGhlaWdodHNcblx0dyArPSBNYXRoLmZsb29yKChjYW52YXMud2lkdGggJSAobnggKiB3KSkgLyBueCk7XG5cdGggKz0gTWF0aC5mbG9vcigoY2FudmFzLmhlaWdodCAlIChueSAqIGgpKSAvIG55KTtcblxuXHQvLyBDcmVhdGUgdGlsZXNcblx0Zm9yIChsZXQgeSA9IDA7IHkgPCBueTsgeSsrKSB7XG5cdFx0Zm9yIChsZXQgeCA9IDA7IHggPCBueDsgeCsrKSB7XG5cblx0XHRcdGNvbnN0IHRpbGUgPSBuZXcgVGlsZSh4ICogdywgeSAqIGgsIHcgLSAxLCBoIC0gMSk7XG5cdFx0XHR0aWxlLmdyaWQgPSBbeCwgeV07XG5cdFx0XHR0aWxlcy5wdXNoKHRpbGUpO1xuXHRcdFx0Y29sbGVjdGlvbi5wdXNoKHRpbGUpO1xuXG5cdFx0XHQvLyBVcGdyYWRlIHRoZSBudW1iZXIgb2YgbWluZXNcblx0XHRcdGlmICh0aWxlLm1pbmUpIHtcblx0XHRcdFx0bWluZXMucHVzaCh0aWxlKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRjb25zdCBjcmVkaXRzID0gdGhpcy5jcmVkaXRzO1xuXHRjb25zdCBpbmZvID0gdGhpcy5pbmZvO1xuXHRjb25zdCB0aXRsZSA9IHRoaXMudGl0bGU7XG5cblx0Ly8gRmxvb2QgaXRzIG5laWdoYm91cmluZyB0aWxlcyBvbiBzdGFydFxuXHRjb2xsZWN0aW9uLnB1c2godGl0bGUpO1xuXHRjb2xsZWN0aW9uLnB1c2goY3JlZGl0cyk7XG5cdGNvbGxlY3Rpb24ucHVzaChpbmZvKTtcblxuXHQvLyBTaG93IENvbnRyb2xzP1xuXHRzaG93Q29udHJvbHMuY2FsbCh0aGlzKTtcblxuXHRjcmVkaXRzLnZpc2libGUgPSBmYWxzZTtcblxuXHQvLyBTb3J0IHRoZSBjb2xsZWN0aW9uIGJ5IHotaW5kZXggdGhpcyBlbnN1cmVzIGV2ZXJ5dGhpbmcgaXMgZHJhd24gaW4gdGhlIHJpZ2h0IG9yZGVyXG5cdGNvbGxlY3Rpb24uc29ydCgpO1xufVxuXG5mdW5jdGlvbiBwbGF5KHRpbGUpIHtcblxuXHRjb25zdCBtaW5lcyA9IHRoaXMubWluZXM7XG5cdGNvbnN0IHRpbGVzID0gdGhpcy50aWxlcztcblx0Y29uc3QgY3JlZGl0cyA9IHRoaXMuY3JlZGl0cztcblx0Y29uc3QgaW5mbyA9IHRoaXMuaW5mbztcblx0Y29uc3QgdGl0bGUgPSB0aGlzLnRpdGxlO1xuXG5cdGlmICghdGlsZSkge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0Ly8gSWYgdGhpcyBpcyB0aGUgZmlyc3QgdGltZSB0aGUgZ2FtZSBoYXMgYmVlbiBwbGF5ZWQsXG5cdC8vIGZsb29kZWQgd2lsbCBlcXVhbCAwXG5cdGlmICh0aGlzLmZsb29kZWQgPT09IDApIHtcblx0XHQvLyBFbnN1cmUgdGhpcyBpcyBub3QgYSBtaW5lXG5cdFx0dGlsZS5taW5lID0gZmFsc2U7XG5cdH1cblxuXHQvLyBJcyBpdCBhIG1pbmVcblx0aWYgKHRpbGUubWluZSkge1xuXHRcdHRoaXMuYm9vbSA9IHRydWU7XG5cdH1cblx0Ly8gQ2hlY2sgdG8gc2VlIGl0IHRoaXMgdGlsZSBoYXMgYmVlbiBleHBvc2VkIGJlZm9yZT9cblx0ZWxzZSBpZiAoIXRpbGUucGxheWVkKSB7XG5cdFx0Ly8gVHJpZ2dlciBGbG9vZGluZ1xuXHRcdGZsb29kLmNhbGwodGhpcywgdGlsZSk7XG5cdH1cblxuXHRpZiAoKCh0aGlzLmZsb29kZWQgKyBtaW5lcy5sZW5ndGgpID09PSB0aWxlcy5sZW5ndGgpIHx8IHRoaXMuYm9vbSkge1xuXG5cdFx0Ly8gU2hvdyBhbGwgdGhlIG1pbmVzXG5cdFx0bWluZXMuZm9yRWFjaChtaW5lID0+IG1hcmtUaWxlLmNhbGwodGhpcywgbWluZSkpO1xuXG5cdFx0Ly8gTWFyayBhcyBlbmRlZFxuXHRcdHRoaXMuZW5kZWQgPSB0cnVlO1xuXG5cdFx0Ly8gVXBkYXRlIFRleHRcblx0XHRjcmVkaXRzLnRleHQgPSB0aGlzLmJvb20gPyAnQk9PTSEnIDogJ0t1ZG9zISc7XG5cdFx0Y3JlZGl0cy5jYWxjKHRoaXMuY2FudmFzKTtcblx0XHRpbmZvLnRleHQgPSAnVGFwIHRvIHJlc3RhcnQnO1xuXG5cdFx0Ly8gU2hvdyBjb250cm9sc1xuXHRcdHNob3dDb250cm9scy5jYWxsKHRoaXMpO1xuXHR9XG5cdGVsc2Uge1xuXHRcdHRpdGxlLnZpc2libGUgPSBmYWxzZTtcblx0XHRpbmZvLnZpc2libGUgPSBmYWxzZTtcblx0XHRjcmVkaXRzLnZpc2libGUgPSBmYWxzZTtcblx0fVxuXG59XG5cbi8vIEZsb29kIHRoaXMgdGlsZSB3aXRoIHRoZSBuZXcgY29sb3VyIGFuZCBpdHMgbmVpZ2hib3VycyB3aXRoIHRoZSBzYW1lIGNvbG91clxuZnVuY3Rpb24gZmxvb2QodGlsZSkge1xuXG5cdGNvbnN0IG54ID0gdGhpcy5ueDtcblx0Y29uc3QgbnkgPSB0aGlzLm55O1xuXHRjb25zdCB0aWxlcyA9IHRoaXMudGlsZXM7XG5cblx0Y29uc3QgW3gsIHldID0gdGlsZS5ncmlkO1xuXG5cdGlmICh0aWxlLnBsYXllZCkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdC8vIEFkZCB0byBDb3VudGVyXG5cdHRoaXMuZmxvb2RlZCsrO1xuXG5cdC8vIGZpbmQgYWxsIHRpbGVzIGFyb3VuZCB0aGlzIG9uZS5cblx0Ly8gRmlsdGVyIHRoZSBhcnJheSBzbyB3ZSBvbmx5IGhhdmUgdW5pcXVlIHZhbHVlc1xuXHRjb25zdCBlZGdlVGlsZXMgPSBbXG5cdCgoTWF0aC5tYXgoeSAtIDEsIDApICogbngpICsgTWF0aC5tYXgoeCAtIDEsIDApKVxuXHQsICgoTWF0aC5tYXgoeSAtIDEsIDApICogbngpICsgeClcblx0LCAoKE1hdGgubWF4KHkgLSAxLCAwKSAqIG54KSArIE1hdGgubWluKHggKyAxLCBueCAtIDEpKVxuXHQsICgoeSAqIG54KSArIE1hdGgubWluKHggKyAxLCBueCAtIDEpKVxuXHQsICgoKE1hdGgubWluKHkgKyAxLCBueSAtIDEpKSAqIG54KSArIE1hdGgubWluKHggKyAxLCBueCAtIDEpKVxuXHQsICgoKE1hdGgubWluKHkgKyAxLCBueSAtIDEpKSAqIG54KSArIHgpXG5cdCwgKCgoTWF0aC5taW4oeSArIDEsIG55IC0gMSkpICogbngpICsgTWF0aC5tYXgoeCAtIDEsIDApKVxuXHQsICgoeSAqIG54KSArIE1hdGgubWF4KHggLSAxLCAwKSlcblx0XVxuXHQuZmlsdGVyKChrZXksIGluZGV4LCBhcnIpID0+IGFyci5pbmRleE9mKGtleSkgPT09IGluZGV4ICYmIHRpbGVzW2tleV0pXG5cdC5tYXAoa2V5ID0+IHRpbGVzW2tleV0pO1xuXG5cdC8vIEFueSBib21icyBuZWFyYnk/XG5cdC8vIEZpbmQgdGhlIGBoZWF0YCBvZiB0aGUgY3VycmVudCBub2RlXG5cdC8vIExvb3AgdGhyb3VnaCBhbGwgdGhlIHRpbGVzIHN1cnJvdWRpbmcgdGhpcyBwb2ludFxuXHRlZGdlVGlsZXNcblx0LmZvckVhY2goX3RpbGUgPT4ge1xuXHRcdHRpbGUuaGVhdCArPSArX3RpbGUubWluZTtcblx0fSk7XG5cblx0Ly8gU2V0IHRoZSB0aWxlIG1vZGUgdG8gcGxheWVkXG5cdHRpbGUucGxheWVkID0gdHJ1ZTtcblxuXHQvLyBDaGFuZ2UgdGlsZSBhcHBlYXJhbmNlXG5cdG1hcmtUaWxlLmNhbGwodGhpcywgdGlsZSk7XG5cblx0Ly8gSWYgdGhpcyB0aWxlIGlzIHRoZSBvbmUgc2VsZWN0ZWQsXG5cdC8vIEFuZCBoYXMgbm8gaGVhdCwgdGhlbiByZWN1cnNlIHRocm91Z2ggYWxsIG5laWdoYm91cnMgYW5kIGZsb29kIHRoZW0gbm8gaGVhdFxuXHRpZiAodGlsZS5oZWF0ID09PSAwKSB7XG5cdFx0ZWRnZVRpbGVzLmZvckVhY2goZmxvb2QuYmluZCh0aGlzKSk7XG5cdH1cbn1cblxuXG5mdW5jdGlvbiBtYXJrVGlsZSh0aWxlKSB7XG5cdC8vIFN0eWxlXG5cdHRpbGUuZmlsbFN0eWxlID0gdGlsZS5taW5lID8gJ3JlZCcgOiAncmdiYSgwLDAsMCwwLjEpJztcblxuXHQvLyBNYXJrIGFzIGRpcnR5XG5cdHRpbGUuZGlydHkgPSB0cnVlO1xuXG5cdC8vIENhbid0IG1ha2UgdGhpcyB2aXNpYmxlXG5cdGlmICh0aWxlLmhlYXQpIHtcblxuXHRcdC8vIENyZWF0ZSB0ZXh0XG5cdFx0Y29uc3QgdGV4dCA9IG5ldyBUZXh0KCk7XG5cdFx0dGV4dC50ZXh0ID0gdGlsZS5oZWF0O1xuXHRcdHRleHQudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG5cdFx0dGV4dC50ZXh0QWxpZ24gPSAnY2VudGVyJztcblx0XHR0ZXh0LnN0cm9rZVN0eWxlID0gbnVsbDtcblx0XHR0ZXh0LmZpbGxTdHlsZSA9ICdibGFjayc7XG5cdFx0dGV4dC5mb250ID0gJ2JvbGQgMzBweCBBcmlhbCc7XG5cdFx0dGV4dC54ID0gdGlsZS54ICsgKHRpbGUudyAvIDIpO1xuXHRcdHRleHQueSA9IHRpbGUueSArICh0aWxlLmggLyAyKTtcblx0XHR0ZXh0LncgPSAwO1xuXHRcdHRleHQuaCA9IDA7XG5cblx0XHR0aGlzLmNvbGxlY3Rpb24ucHVzaCh0ZXh0KTtcblx0XHR0aGlzLmNvbGxlY3Rpb24uc29ydCgpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHNob3dDb250cm9scygpIHtcblx0Y29uc3Qgc2hvd0NvbnRyb2xzID0gdGhpcy5vcHRpb25zLmNvbnRyb2xzO1xuXHRjb25zdCBpblByb2dyZXNzID0gISh0aGlzLmZsb29kZWQgPT09IDAgfHwgdGhpcy5ib29tIHx8IHRoaXMuZW5kZWQpO1xuXG5cdC8vIFNob3cgc29tZSBjb250cm9scyBvbmx5IGJldHdlZW4gZ2FtZSBwbGF5cz9cblx0dGhpcy50aXRsZS52aXNpYmxlID0gdGhpcy5mbG9vZGVkID09PSAwICYmICF0aGlzLmVuZGVkICYmIHNob3dDb250cm9scztcblx0dGhpcy5pbmZvLnZpc2libGUgPSAhaW5Qcm9ncmVzcyAmJiBzaG93Q29udHJvbHM7XG5cdHRoaXMuY3JlZGl0cy52aXNpYmxlID0gdGhpcy5lbmRlZCAmJiBzaG93Q29udHJvbHM7XG59XG4iXX0="}