{"version":3,"sources":["dist/node_modules/browser-pack/_prelude.js","dist/node_modules/tricks/array/toArray.js","dist/node_modules/tricks/dom/each.js","dist/node_modules/tricks/dom/isDom.js","dist/node_modules/tricks/events/createDummyEvent.js","dist/node_modules/tricks/events/createEvent.js","dist/node_modules/tricks/events/on.js","dist/node_modules/tricks/events/swipe.js","dist/node_modules/tricks/events/touch.js","dist/node_modules/tricks/object/instanceOf.js","dist/node_modules/tricks/support/requestAnimationFrame.js","dist/src/balloonboom.js","dist/src/classes/canvas.js","dist/src/classes/collection.js"],"names":[],"mappings":"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","file":"balloonboom.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/**\n * Converts an iterable value to an Array\n * @param {object} obj - Object to convert into an array\n * @returns {Array} The object as an array\n */\nfunction toArray(obj) {\n\treturn Array.prototype.slice.call(obj);\n}\n\nmodule.exports = toArray;\n","const isDom = require('./isDom.js');\nconst instanceOf = require('../object/instanceOf.js');\nconst toArray = require('../array/toArray.js');\n\nmodule.exports = (matches, callback = () => {}) => {\n\n\tif (isDom(matches)) {\n\t\tmatches = [matches];\n\t}\n\telse if (typeof(matches) === 'string') {\n\t\tmatches = document.querySelectorAll(matches);\n\t}\n\n\tif (!instanceOf(matches, Array)) {\n\t\tmatches = toArray(matches);\n\t}\n\n\tif (callback) {\n\t\tmatches.forEach(callback);\n\t}\n\n\treturn matches;\n};\n","const instanceOf = require('../object/instanceOf.js');\n\nconst _HTMLElement = (typeof HTMLElement !== 'undefined' && HTMLElement) || (typeof Element !== 'undefined' && Element);\nconst _HTMLDocument = (typeof HTMLDocument !== 'undefined' && HTMLDocument) || (typeof Document !== 'undefined' && Document);\nconst _Window = window.constructor;\n\nmodule.exports = test =>\n\tinstanceOf(test, _HTMLElement) ||\n\t\tinstanceOf(test, _HTMLDocument) ||\n\t\tinstanceOf(test, _Window)\n;\n","module.exports = e => {\n\te.stopPropagation = () => {};\n\te.preventDefault = () => {};\n\treturn e;\n};\n","// IE does not support `new Event()`\n// See https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Creating_and_triggering_events for details\nconst dict = {bubbles: true, cancelable: true};\n\nlet createEvent = (eventname, options = dict) =>\n\tnew Event(eventname, options);\n\ntry {\n\tcreateEvent('test');\n}\ncatch (e) {\n\tcreateEvent = (eventname, options = dict) => {\n\t\tconst e = document.createEvent('Event');\n\t\te.initEvent(eventname, !!options.bubbles, !!options.cancelable);\n\t\treturn e;\n\t};\n}\n\nmodule.exports = createEvent;\n","// on.js\n// Listen to events, this is a wrapper for addEventListener\n\nconst each = require('../dom/each.js');\nconst SEPERATOR = /[\\s,]+/;\n\n// See https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md#feature-detection\nlet supportsPassive = false;\ntry {\n\tconst opts = Object.defineProperty({}, 'passive', {\n\t\tget() { // eslint-disable-line getter-return\n\t\t\tsupportsPassive = true;\n\t\t}\n\t});\n\twindow.addEventListener('test', null, opts);\n}\ncatch (e) {\n\t// Continue\n}\n\n\nmodule.exports = (elements, eventnames, callback, options = false) => {\n\n\tif (typeof options === 'object' && options.passive && !supportsPassive) {\n\t\t// Override the passive mark\n\t\toptions = false;\n\t}\n\n\teventnames = eventnames.split(SEPERATOR);\n\treturn each(elements, el => eventnames.forEach(eventname => el.addEventListener(eventname, callback, options)));\n};\n","// swipe\n// Checks for a swipe to the left or to the right\n\nconst touch = require('./touch.js');\nconst {gesture} = touch;\n\nmodule.exports = (elements, callback) =>\n\n\ttouch(elements, function(e, o, s) {\n\n\t\tgesture(e, s);\n\n\t\te.gesture.type = `drag${e.gesture.direction}`;\n\n\t\tcallback.call(this, e);\n\n\t},\n\tfunction(e) {\n\t\te.gesture.type = 'start';\n\t\tcallback.call(this, e);\n\t},\n\tfunction(e) {\n\n\t\tconst g = e.gesture;\n\n\t\t// How long did this operation take?\n\t\tif (g.deltaTime < 200 && g.distance > 20 && g.velocity > 0.3) {\n\t\t\tg.type = `swipe${g.direction}`;\n\t\t}\n\t\telse if (g.distance < 20) {\n\t\t\tg.type = 'click';\n\t\t}\n\t\telse {\n\t\t\tg.type = 'release';\n\t\t}\n\n\t\tcallback.call(this, e);\n\t})\n;\n","// Standardizes touch events\n// Calculate the difference from the starting position and the end position.\n// Returns a gesture object given\n\nconst on = require('./on.js');\nconst each = require('../dom/each.js');\n\n// Does this support pointer events?\nconst pointerEnabled = window.navigator.pointerEnabled;\nconst eventMoveTypes = pointerEnabled ? 'MSPointerMove pointerMove' : 'mousemove touchmove';\nconst eventStartTypes = pointerEnabled ? 'MSPointerDown pointerDown' : 'mousedown touchstart';\nconst eventEndTypes = pointerEnabled ? 'MSPointerUp pointerUp' : 'mouseup touchend touchcancel';\n\n// Touch\n// @param callback function - Every touch event fired\n// @param complete function- Once all touch event ends\nmodule.exports = (elements, onmove, onstart, onend) => {\n\n\t// Store callbacks, and previous pointer position\n\tconst cb = {};\n\tconst mv = {};\n\tconst fin = {};\n\n\ton(document, eventMoveTypes, moveEvent => {\n\n\t\t// Fix Android not firing multiple moves\n\t\t// if (e.type.match(/touch/i)) {\n\t\t// \te.preventDefault();\n\t\t// }\n\n\t\t// Pointer/Mouse down?\n\t\tif (voidEvent(moveEvent)) {\n\t\t\t// The mouse buttons isn't pressed, kill this\n\t\t\treturn;\n\t\t}\n\n\t\t// trigger the call\n\t\tconst i = moveEvent.pointerId || 0;\n\t\tconst handler = cb[i];\n\n\t\tif (handler && typeof(handler) === 'function') {\n\n\t\t\tconst prevEvent = mv[i];\n\n\t\t\t// Extend the Event Object with 'gestures'\n\t\t\tgesture(moveEvent, prevEvent);\n\n\t\t\t// Trigger callback\n\t\t\thandler(moveEvent, prevEvent);\n\t\t}\n\n\t\tmv[i] = moveEvent;\n\t});\n\n\ton(document, eventEndTypes, e => {\n\n\t\tconst i = e.pointerId || 0;\n\t\tcb[i] = null;\n\n\t\tif (e.type === 'touchend' || e.type === 'touchcancel') {\n\t\t\te = mv[i];\n\t\t}\n\n\t\tconst handler = fin[i];\n\t\tif (handler) {\n\t\t\thandler(e);\n\t\t}\n\n\t\tfin[i] = null;\n\t});\n\n\t// loop through and add events\n\teach(elements, element => {\n\n\t\t// bind events\n\t\t// on(element, 'touchend', e => {\n\t\t// \tconsole.log('el:touchend');\n\t\t// \tconsole.log(e);\n\t\t// });\n\n\t\ton(element, 'selectstart', () => false);\n\n\t\ton(element, eventStartTypes, startEvent => {\n\n\t\t\t// default pointer ID\n\t\t\tconst i = startEvent.pointerId || 0;\n\n\t\t\t// Add Gestures to event Object\n\t\t\tgesture(startEvent);\n\n\t\t\tmv[i] = startEvent;\n\t\t\tcb[i] = (moveEvent, prevMoveEvent) => {\n\t\t\t\tonmove.call(element, moveEvent, prevMoveEvent, startEvent);\n\t\t\t};\n\n\t\t\tif (onend) {\n\t\t\t\tfin[i] = endEvent => {\n\n\t\t\t\t\t// Add Gestures to event Object\n\t\t\t\t\tgesture(endEvent, startEvent);\n\n\t\t\t\t\t// fire complete callback\n\t\t\t\t\tonend.call(element, endEvent, startEvent);\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// trigger start\n\t\t\tif (onstart) {\n\t\t\t\tonstart.call(element, startEvent);\n\t\t\t}\n\t\t});\n\t});\n};\n\nfunction gesture(currEvent, prevEvent) {\n\n\t// Response Object\n\tcurrEvent.gesture = {};\n\n\tif (currEvent && currEvent.touches && currEvent.touches.length > 0) {\n\t\tcurrEvent.gesture.touches = currEvent.touches;\n\t}\n\telse {\n\t\tcurrEvent.gesture.touches = [currEvent];\n\t}\n\n\tcurrEvent.gesture.screenX = currEvent.gesture.touches[0].screenX;\n\tcurrEvent.gesture.screenY = currEvent.gesture.touches[0].screenY;\n\n\tif (!('screenX' in currEvent)) {\n\t\tcurrEvent.screenX = currEvent.gesture.screenX;\n\t}\n\tif (!('screenY' in currEvent)) {\n\t\tcurrEvent.screenY = currEvent.gesture.screenY;\n\t}\n\n\t// If the second parameter isn't defined then we're unable to define getures\n\t// But if it is then whoop, lets go.\n\tif (prevEvent) {\n\n\t\tcurrEvent.gesture.deltaTime = (currEvent.timeStamp - prevEvent.timeStamp);\n\n\t\tconst dx = currEvent.gesture.deltaX = currEvent.gesture.screenX - prevEvent.gesture.screenX;\n\t\tconst dy = currEvent.gesture.deltaY = currEvent.gesture.screenY - prevEvent.gesture.screenY;\n\n\t\t// Which is the best direction for the gesture?\n\t\tif (Math.abs(dy) > Math.abs(dx)) {\n\t\t\tcurrEvent.gesture.direction = (dy > 0 ? 'up' : 'down');\n\t\t}\n\t\telse {\n\t\t\tcurrEvent.gesture.direction = (dx > 0 ? 'right' : 'left');\n\t\t}\n\n\t\t// Distance\n\t\tcurrEvent.gesture.distance = Math.sqrt((dx * dx) + (dy * dy));\n\n\t\t// Velocity\n\t\tcurrEvent.gesture.velocity = currEvent.gesture.distance / currEvent.gesture.deltaTime;\n\t}\n}\n\nmodule.exports.gesture = gesture;\n\nfunction voidEvent(event) {\n\tconst type = event.pointerType || event.type;\n\treturn (type.match(/mouse/i) && (event.which || event.buttons) !== 1);\n}\n","module.exports = (test, root) => root && test instanceof root;\n","// requestAnimationFrame polyfill\nwindow.requestAnimationFrame =\n\twindow.requestAnimationFrame ||\n\twindow.webkitRequestAnimationFrame ||\n\twindow.mozRequestAnimationFrame ||\n\twindow.oRequestAnimationFrame ||\n\twindow.msRequestAnimationFrame ||\n\t(callback => setTimeout(callback, 1000 / 60));\n\nmodule.exports = window.requestAnimationFrame.bind(window);\n","// TiledOfLife, Canvas annimation\n// Copyright Andrew Dodson, March 2013\n\n// Get Canvas\nimport Canvas from './classes/canvas';\nimport Collection from './classes/collection';\n\nconst MATH_PI2 = 2 * Math.PI;\n\nconst sprites = [];\n\n// Create a new tile\nclass Balloon {\n\n\tconstructor(cx, cy, r) {\n\n\t\tthis.cx = cx;\n\t\tthis.cy = cy;\n\t\tthis.r = r;\n\n\t\tthis.fillStyle = 'black';\n\n\t\tthis.calc();\n\t}\n\n\tcalc() {\n\t\tconst r = this.r;\n\t\tthis.x = this.cx - r;\n\t\tthis.y = this.cy - r;\n\t\tthis.w = r * 2;\n\t\tthis.h = r * 2;\n\t}\n\n\tdraw(ctx) {\n\n\t\tif (this.r <= 0) {\n\t\t\tthis.r = 0;\n\t\t\treturn;\n\t\t}\n\n\t\t// Does this exist as a sprite?\n\t\tconst key = this.fillStyle + this.r;\n\t\tif (!(key in sprites)) {\n\t\t\tconst _canvas = document.createElement('canvas');\n\t\t\t_canvas.width = Math.ceil(this.w) + 2;\n\t\t\t_canvas.height = Math.ceil(this.h) + 2;\n\t\t\tconst _ctx = _canvas.getContext('2d');\n\t\t\t_ctx.fillStyle = this.fillStyle;\n\t\t\t_ctx.beginPath();\n\t\t\t_ctx.arc(this.r + 1, this.r + 1, this.r, 0, MATH_PI2, false);\n\t\t\t_ctx.fill();\n\n\t\t\tsprites[key] = _canvas;\n\t\t}\n\n\t\tctx.drawImage(sprites[key], this.x - 1, this.y - 1);\n\t}\n\n\tframe() {\n\n\t\t// Is this expanding or shrinking?\n\t\tif (this.r >= max_radius) {\n\t\t\t// reset the radius\n\t\t\tthis.r = 0;\n\n\t\t\t// Swap the color\n\t\t\tthis.fillStyle = toggle(this.fillStyle, 'white', 'black');\n\t\t}\n\n\t\tthis.r += (max_radius / 200);\n\t\tthis.calc();\n\t\tthis.dirty = true;\n\t}\n}\n\n\nfunction toggle(value, ...args) {\n\tconst index = args.indexOf(value);\n\tlet next = args[index + 1];\n\tif (next === undefined) {\n\t\tnext = args[0];\n\t}\n\treturn next;\n}\n\n\nconst canvas = new Canvas();\nconst collection = new Collection(canvas.target);\ncanvas.addEventListener('resize', setup);\ncanvas.addEventListener('frame', () => {\n\n\t// // Clear canvas\n\t// canvas.ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n\t// Draw items\n\tcollection.draw();\n});\n\n// draw variant background\n\nconst balloons = [];\nlet max_radius;\n\nsetup();\n\nfunction setup() {\n\n\t// There are 100 balloons\n\tconst n = 1000;\n\n\t// To fill the rectangular screen area\n\tconst W = canvas.width;\n\tconst H = canvas.height;\n\tconst A = H * W;\n\n\t// Each would have to fill an area about.\n\tconst a = A / n;\n\n\t// And since they must fill a square we can sqrt to find width and height of the balloons\n\tlet w = Math.sqrt(a);\n\tlet h = w;\n\n\t// Find the number that would be needed to fill the axis\n\tconst nx = Math.floor(W / w) || 1;\n\tconst ny = Math.floor(H / h) || 1;\n\n\t// Adjust the width and height to uniformly spread them out\n\tw = W / nx;\n\th = H / ny;\n\n\t// Capture max-radius\n\tlet r = Math.max(w, h) / 2;\n\tmax_radius = r * 1.5;\n\n\tfor (let i = 0; i < nx; i++) {\n\t\tr = (((i + 1) / nx) * w) / 2;\n\t\tfor (let j = 0; j < ny; j++) {\n\n\t\t\tconst cx = parseInt((i * w) + (w / 2), 10);\n\t\t\tconst cy = parseInt((j * h) + (h / 2), 10);\n\n\t\t\tlet balloon = balloons[((i * ny) + j)];\n\n\t\t\t// %100\n\n\t\t\tif (!balloon) {\n\t\t\t\tballoon = new Balloon(cx, cy, r);\n\t\t\t\tcollection.push(balloon);\n\t\t\t\tballoons.push(balloon);\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Insert into a collection\n\t\t\t\tcollection.push(balloon);\n\n\t\t\t\t// Update its position\n\t\t\t\tballoon.cx = cx;\n\t\t\t\tballoon.cy = cy;\n\t\t\t\tballoon.r = r;\n\t\t\t\tballoon.fillStyle = null;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Crop the collection array to nx * ny\n\tcollection.length = (nx * ny);\n}\n","// Setup\n// This constructs the canvas object\n\n// Includes\nimport 'tricks/support/requestAnimationFrame';\nimport createEvent from 'tricks/events/createEvent';\nimport createDummyEvent from 'tricks/events/createDummyEvent';\nimport on from 'tricks/events/on';\nimport swipe from 'tricks/events/swipe';\n\n// Constants\nconst BACKGROUND_HASH = 'background';\nconst UserEvents = ['click', 'mousedown', 'mouseup', 'mouseover', 'mousemove', 'mouseout', 'frame', 'resize', 'keydown'];\nconst TouchEvents = ['touchmove', 'touchstart', 'touchend'];\n\nconst EVENT_SEPARATOR = /[\\s\\,]+/;\n\nexport default class Canvas {\n\n\t// Construct the Canvas Element\n\t// @param canvas should be an root element container for this imagery.\n\tconstructor(canvas) {\n\n\t\tlet parent;\n\n\t\t// events\n\t\tthis.events = {};\n\n\t\t// browser check\n\t\tif (!('getContext' in document.createElement('canvas'))) {\n\t\t\t// browser doesn't support canvas\n\t\t\treturn;\n\t\t}\n\n\t\tif (!(canvas && canvas instanceof HTMLCanvasElement)) {\n\n\t\t\t// Set the parent\n\t\t\tparent = canvas;\n\n\t\t\t// Create the canvas layer\n\t\t\tcanvas = document.createElement('canvas');\n\t\t\tcanvas.style.backgroundColor = 'white';\n\n\t\t\t// Not a parent\n\t\t\tif (!parent) {\n\t\t\t\t// Append to the body\n\t\t\t\tparent = document.body;\n\t\t\t\tcanvas.style.cssText = 'position:fixed;z-index:-1;top:0;left:0;';\n\t\t\t\tcanvas.setAttribute('tabindex', 0);\n\n\t\t\t\tdocument.documentElement.style.cssText = 'min-height:100%;';\n\t\t\t\tdocument.body.style.cssText = 'min-height:100%;';\n\n\t\t\t\t// Bind window resize events\n\t\t\t\twindow.addEventListener('resize', this.resize.bind(this));\n\t\t\t}\n\n\t\t\t// Append this element\n\t\t\tparent.insertBefore(canvas, parent.firstElementChild);\n\n\t\t\tthis.target = canvas;\n\n\t\t\tthis.resize();\n\t\t}\n\t\telse {\n\t\t\tthis.target = canvas;\n\t\t\tparent = canvas.parentNode;\n\t\t}\n\n\t\tthis.ctx = canvas.getContext('2d');\n\n\t\t// Set initial save point\n\t\tthis.ctx.save();\n\n\t\t// Initiate the time\n\t\tthis._time = 0;\n\t\tthis._fps = 0;\n\n\t\t// Initiate the draw\n\t\tthis.draw();\n\n\t\t// Bind events\n\t\ton(this.target, UserEvents.toString(), this.dispatchEvent.bind(this), {passive: true});\n\n\t\t// Format Touch events\n\t\ton(this.target, TouchEvents.toString(), this.dispatchTouchEvent.bind(this), {passive: true});\n\n\t\t// In IE user-events aren't propagated to elements which have negative z-Index's\n\t\t// Listen to events on the document element and propagate those accordingly\n\t\tif (parent === document.body && canvas.style.getPropertyValue('z-index') === '-1') {\n\t\t\t// Bind events\n\t\t\ton(document, UserEvents.toString(), this.dispatchEvent.bind(this), {passive: true});\n\n\t\t\t// Format Touch events\n\t\t\ton(document, TouchEvents.toString(), this.dispatchTouchEvent.bind(this), {passive: true});\n\t\t}\n\n\t\t// Listen to hashChange events\n\t\t{\n\t\t\t// HASH CHANGE DEPTH\n\t\t\tconst style = this.target.style;\n\t\t\tconst initialZ = style.getPropertyValue('z-index');\n\t\t\t// Listen to changes to the background hash to bring the canvas element to the front\n\t\t\twindow.addEventListener('hashchange', hashchange.bind(style, initialZ));\n\n\t\t\thashchange.call(style, initialZ);\n\t\t}\n\n\t\t// Is there a swipe method handler\n\t\tif (this.swipe) {\n\t\t\t// Bind the swipe event handler to the event\n\t\t\tswipe(this.target, this.swipe.bind(this));\n\t\t}\n\t}\n\n\t// ensure its keeping up.\n\tget width() {\n\t\treturn this.target.width;\n\t}\n\tset width(value) {\n\t\tthis.target.width = value;\n\t\treturn value;\n\t}\n\n\tget height() {\n\t\treturn this.target.height;\n\t}\n\tset height(value) {\n\t\tthis.target.height = value;\n\t\treturn value;\n\t}\n\tget fps() {\n\t\treturn this._fps;\n\t}\n\tset fps(value) {\n\n\t\tthis._fps = value;\n\n\t\tconst now = (new Date()).getTime();\n\n\t\tif ((now - this._time) > 1000) {\n\t\t\t// console.log('fps: %d', this._fps);\n\t\t\tthis._time = now;\n\t\t\tthis._fps = 0;\n\t\t}\n\t}\n\n\n\tresize() {\n\t\tconst parent = (this.target.parentNode === document.body) ? document.documentElement : this.target.parentNode;\n\t\tconst height = parent.clientHeight;\n\t\tconst width = parent.clientWidth;\n\t\tlet changed = false;\n\n\t\tif (this.width !== width) {\n\t\t\tchanged = true;\n\t\t\tthis.width = width;\n\t\t}\n\t\tif (this.height !== height) {\n\t\t\tchanged = true;\n\t\t\tthis.height = height;\n\t\t}\n\n\t\tif (changed) {\n\t\t\tthis.target.dispatchEvent(createEvent('resize'));\n\t\t}\n\t}\n\n\tclear() {\n\t\tthis.ctx.clearRect(0, 0, this.target.width, this.target.height);\n\t}\n\n\t// Bring the content of the canvas to the front\n\tbringToFront() {\n\n\t\t// Update the window.location with the hash #background\n\t\twindow.location.hash = BACKGROUND_HASH;\n\t}\n\n\t// Trigger the draw function\n\tdraw() {\n\n\t\t// Increment the number of frames\n\t\tthis.fps++;\n\n\t\t// Call the frame function in the context of the frame to draw\n\t\tthis.target.dispatchEvent(createEvent('frame'));\n\n\t\t// Request another frame\n\t\trequestAnimationFrame(this.draw.bind(this));\n\t}\n\n\t// The user has clicked an item on the page\n\taddEventListener(eventnames, handler) {\n\n\t\teventnames.split(EVENT_SEPARATOR).forEach(eventname => {\n\t\t\t// Add to the events list\n\t\t\tif (!(eventname in this.events)) {\n\t\t\t\tthis.events[eventname] = [];\n\t\t\t}\n\n\t\t\tthis.events[eventname].push(handler);\n\t\t});\n\t}\n\n\t// Dispatch\n\tdispatchEvent(e) {\n\n\t\tif (e.type in this.events) {\n\n\t\t\tconst target = e.currentTarget;\n\n\t\t\t// This was triggered using event delegation, aka in the background\n\t\t\tif (target === document) {\n\n\t\t\t\te = createDummyEvent({\n\t\t\t\t\ttype: e.type,\n\t\t\t\t\ttarget: this.target,\n\t\t\t\t\toffsetX: e.pageX || e.offsetX,\n\t\t\t\t\toffsetY: e.pageY || e.offsetY\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.events[e.type].forEach(handler => handler(e));\n\t\t\te.stopPropagation();\n\t\t}\n\t}\n\n\t// Dispatch\n\tdispatchTouchEvent(e) {\n\t\t// If this was a touch event\n\t\t// Determine the offset to the canvas element relative to the item being clicked\n\t\tconst touch = (e.touches || e.changedTouches)[0];\n\t\tif (touch) {\n\t\t\te.offsetX = Math.abs(touch.pageX || touch.screenX);\n\t\t\te.offsetY = Math.abs(touch.pageY || touch.screenY);\n\t\t}\n\n\t\tthis.dispatchEvent(e);\n\t}\n}\n\n\nfunction hashchange(z) {\n\n\tconst zIndex = 'z-index';\n\n\tif (window.location.hash === `#${ BACKGROUND_HASH}`) {\n\t\tz = 10000;\n\t}\n\n\tif (z !== undefined) {\n\t\t// Set the z-Index\n\t\tthis.setProperty(zIndex, z);\n\t}\n\telse {\n\t\t// Remove the z-Index\n\t\tthis.removeProperty(zIndex);\n\t}\n}\n","// Collection\n\nimport on from 'tricks/events/on';\nconst UserEvents = ['click', 'mousedown', 'mouseup', 'mouseover', 'mousemove', 'mouseout', 'touchmove', 'touchstart', 'touchend', 'frame'];\n\nexport default class Collection {\n\n\tconstructor(target) {\n\t\t// Create an empty children\n\t\tthis.children = [];\n\n\t\t// Events\n\t\tthis.events = [];\n\n\t\t// setup the canvas element\n\t\tthis.init(target);\n\t}\n\n\t// listen to canvas events\n\tinit (target) {\n\n\t\t// Define the canvas object as the target for the collection\n\t\tthis.target = target;\n\n\t\t// Define the CTX\n\t\tthis.ctx = target.getContext('2d');\n\n\t\t// listen to user interactive events and trigger those on items\n\t\ton(target, UserEvents.toString(), this._findAndDispatch.bind(this), {passive: true});\n\n\t}\n\n\tpush(item) {\n\t\titem.dirty = true;\n\n\t\t// Is this item already in the collection?\n\t\tif (this.children.indexOf(item) === -1) {\n\t\t\tif (item.setup) {\n\t\t\t\titem.setup(this);\n\t\t\t}\n\n\t\t\t// item.addEventListener('dirty', this.prepareChild.bind(this, item));\n\t\t\tthis.children.push(item);\n\t\t}\n\t}\n\n\tfindIndex(fn) {\n\t\treturn this.children.findIndex(fn);\n\t}\n\n\tfind(fn) {\n\t\treturn this.children.find(fn);\n\t}\n\n\tget length () {\n\t\treturn this.children.length;\n\t}\n\tset length (v) {\n\t\treturn this.children.length = v;\n\t}\n\n\n\t// Touch\n\t// Mark items and objects in the same space to be redrawn\n\tprepare() {\n\t\tthis.children.forEach(item => {\n\t\t\tif (item.dirty === true)\n\t\t\t\tthis.prepareChild(item);\n\t\t});\n\t}\n\n\t// Clean Item\n\tprepareChild(item) {\n\n\t\tconst ctx = this.ctx;\n\n\t\tif (item.dirty === 'pending') {\n\t\t\treturn;\n\t\t}\n\n\t\t// Mark this item as dirty\n\t\titem.dirty = 'pending';\n\n\t\t// Remove from Canvas\n\t\tctx.clearRect(item.x, item.y, item.w, item.h);\n\n\t\t// If the items old position is different\n\t\tif (item.previous && displaced(item.previous, item)) {\n\t\t\tctx.clearRect(item.previous.x, item.previous.y, item.previous.w, item.previous.h);\n\t\t}\n\n\t\t// Loop though objects and redraw those that exist within the position\n\t\tthis.children.forEach(this._prepareSiblings.bind(this, item));\n\t}\n\n\t_prepareSiblings(item, sibling) {\n\n\t\t// Does this Object overlap with the focused object?\n\t\tif (!sibling.dirty && sibling.visible !== false && (intersect(sibling, item) || (item.past ? intersect(sibling, item.past) : false))) {\n\t\t\t// Nested clean\n\t\t\tthis.prepareChild(sibling);\n\t\t}\n\t}\n\n\tsort() {\n\t\t// Sort items by z-index\n\t\tthis.children.sort((a, b) => {\n\t\t\ta = a.zIndex || 0;\n\t\t\tb = b.zIndex || 0;\n\t\t\treturn +(a > b) || -(a < b);\n\t\t});\n\t}\n\n\t// Trigger the draw function\n\tdraw() {\n\n\t\tconst ctx = this.ctx;\n\n\t\t// Find items that have changed\n\t\t// Remove background\n\t\tthis.children.forEach(item => {\n\n\t\t\tif (item.frame) {\n\t\t\t\titem.frame(ctx);\n\t\t\t}\n\n\t\t\tif (item.dirty && item.visible !== false) {\n\t\t\t\titem.draw(ctx);\n\t\t\t}\n\n\t\t\titem.dirty = false;\n\t\t});\n\t}\n\n\telementFromPoint(x, y) {\n\n\t\tlet target;\n\n\t\t// Find the canvas item which this targets?\n\t\tconst obj = {\n\t\t\tx,\n\t\t\ty,\n\t\t\tw: 1,\n\t\t\th: 1\n\t\t};\n\n\t\tthis.children.forEach(item => {\n\n\t\t\tif (item.visible === false || !item.w || !item.h || item.pointerEvents === false) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Is this a target?\n\t\t\tif (intersect(obj, item)) {\n\t\t\t\t// Define this as a target\n\t\t\t\ttarget = item;\n\t\t\t}\n\t\t});\n\n\t\treturn target;\n\t}\n\n\t// The user has clicked an item on the page\n\taddEventListener(eventname, handler) {\n\n\t\t// Add to the events list\n\t\tif (!(eventname in this.events)) {\n\t\t\tthis.events[eventname] = [];\n\t\t}\n\n\t\tthis.events[eventname].push(handler);\n\t}\n\n\t// Dispatch\n\tdispatchEvent(e) {\n\t\tif (e.type in this.events)\n\t\t\tthis.events[e.type].forEach(handler => handler(e));\n\t}\n\n\t// Find and _dispatch\n\t_findAndDispatch(e) {\n\t\t// If this is not a pointerEvent lets just pass it through.\n\t\tif ((typeof MouseEvent !== 'undefined' && e instanceof MouseEvent) ||\n\t\t\t(typeof TouchEvent !== 'undefined' && e instanceof TouchEvent)) {\n\n\t\t\t// Find the canvas item which this targets?\n\t\t\tconst obj = {\n\t\t\t\tx: e.offsetX,\n\t\t\t\ty: e.offsetY,\n\t\t\t\tw: 1,\n\t\t\t\th: 1\n\t\t\t};\n\n\t\t\tthis.children.forEach(item => {\n\n\t\t\t\tif (!item.visible || !item.w || !item.h || !item.pointerEvents) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Intersects?\n\t\t\t\tintersect(obj, item) && item.dispatchEvent(e);\n\t\t\t});\n\t\t}\n\t}\n}\n\n\n// Intersect\n// Given two objects with, x,y,w,h properties\n// Do their rectangular dimensions intersect?\n// return Boolean true false.\nfunction intersect(a, b) {\n\treturn !(a.x > (b.x + b.w) ||\n\t(a.x + a.w) < b.x ||\n\ta.y > (b.y + b.h) ||\n\t(a.y + a.h) < b.y);\n}\n\nfunction displaced(a, b) {\n\treturn (a.x !== b.x ||\n\ta.y !== b.y ||\n\ta.w !== b.w ||\n\ta.h !== b.h);\n}\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvdHJpY2tzL2FycmF5L3RvQXJyYXkuanMiLCJub2RlX21vZHVsZXMvdHJpY2tzL2RvbS9lYWNoLmpzIiwibm9kZV9tb2R1bGVzL3RyaWNrcy9kb20vaXNEb20uanMiLCJub2RlX21vZHVsZXMvdHJpY2tzL2V2ZW50cy9jcmVhdGVEdW1teUV2ZW50LmpzIiwibm9kZV9tb2R1bGVzL3RyaWNrcy9ldmVudHMvY3JlYXRlRXZlbnQuanMiLCJub2RlX21vZHVsZXMvdHJpY2tzL2V2ZW50cy9vbi5qcyIsIm5vZGVfbW9kdWxlcy90cmlja3MvZXZlbnRzL3N3aXBlLmpzIiwibm9kZV9tb2R1bGVzL3RyaWNrcy9ldmVudHMvdG91Y2guanMiLCJub2RlX21vZHVsZXMvdHJpY2tzL29iamVjdC9pbnN0YW5jZU9mLmpzIiwibm9kZV9tb2R1bGVzL3RyaWNrcy9zdXBwb3J0L3JlcXVlc3RBbmltYXRpb25GcmFtZS5qcyIsInNyYy9iYWxsb29uYm9vbS5qcyIsInNyYy9jbGFzc2VzL2NhbnZhcy5qcyIsInNyYy9jbGFzc2VzL2NvbGxlY3Rpb24uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0FBOzs7OztBQUtBLFNBQVMsT0FBVCxDQUFpQixHQUFqQixFQUFzQjtBQUNyQixTQUFPLE1BQU0sU0FBTixDQUFnQixLQUFoQixDQUFzQixJQUF0QixDQUEyQixHQUEzQixDQUFQO0FBQ0E7O0FBRUQsT0FBTyxPQUFQLEdBQWlCLE9BQWpCOzs7OztBQ1RBLElBQU0sUUFBUSxRQUFRLFlBQVIsQ0FBZDtBQUNBLElBQU0sYUFBYSxRQUFRLHlCQUFSLENBQW5CO0FBQ0EsSUFBTSxVQUFVLFFBQVEscUJBQVIsQ0FBaEI7O0FBRUEsT0FBTyxPQUFQLEdBQWlCLFVBQUMsT0FBRCxFQUFrQztBQUFBLEtBQXhCLFFBQXdCLHVFQUFiLFlBQU0sQ0FBRSxDQUFLOzs7QUFFbEQsS0FB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S0FBSyxPQUFOLElBQWlCLENBQUMsS0FBSyxDQUF2QixJQUE0QixDQUFDLEtBQUssQ0FBbEMsSUFBdUMsQ0FBQyxLQUFLLGFBQWpELEVBQWdFO0FBQy9EO0FBQ0E7O0FBRUQ7QUFDQSxlQUFVLEdBQVYsRUFBZSxJQUFmLEtBQXdCLEtBQUssYUFBTCxDQUFtQixDQUFuQixDQUF4QjtBQUNBLEtBUkQ7QUFTQTtBQUNEOzs7c0JBckphO0FBQ2IsVUFBTyxLQUFLLFFBQUwsQ0FBYyxNQUFyQjtBQUNBLEc7b0JBQ1csQyxFQUFHO0FBQ2QsVUFBTyxLQUFLLFFBQUwsQ0FBYyxNQUFkLEdBQXVCLENBQTlCO0FBQ0E7Ozs7OztBQW9KRjtBQUNBO0FBQ0E7QUFDQTs7O2tCQTdNcUIsVTtBQThNckIsU0FBUyxTQUFULENBQW1CLENBQW5CLEVBQXNCLENBQXRCLEVBQXlCO0FBQ3hCLFFBQU8sRUFBRSxFQUFFLENBQUYsR0FBTyxFQUFFLENBQUYsR0FBTSxFQUFFLENBQWYsSUFDUixFQUFFLENBQUYsR0FBTSxFQUFFLENBQVQsR0FBYyxFQUFFLENBRFAsSUFFVCxFQUFFLENBQUYsR0FBTyxFQUFFLENBQUYsR0FBTSxFQUFFLENBRk4sSUFHUixFQUFFLENBQUYsR0FBTSxFQUFFLENBQVQsR0FBYyxFQUFFLENBSFQsQ0FBUDtBQUlBOztBQUVELFNBQVMsU0FBVCxDQUFtQixDQUFuQixFQUFzQixDQUF0QixFQUF5QjtBQUN4QixRQUFRLEVBQUUsQ0FBRixLQUFRLEVBQUUsQ0FBVixJQUNSLEVBQUUsQ0FBRixLQUFRLEVBQUUsQ0FERixJQUVSLEVBQUUsQ0FBRixLQUFRLEVBQUUsQ0FGRixJQUdSLEVBQUUsQ0FBRixLQUFRLEVBQUUsQ0FIVjtBQUlBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIi8qKlxuICogQ29udmVydHMgYW4gaXRlcmFibGUgdmFsdWUgdG8gYW4gQXJyYXlcbiAqIEBwYXJhbSB7b2JqZWN0fSBvYmogLSBPYmplY3QgdG8gY29udmVydCBpbnRvIGFuIGFycmF5XG4gKiBAcmV0dXJucyB7QXJyYXl9IFRoZSBvYmplY3QgYXMgYW4gYXJyYXlcbiAqL1xuZnVuY3Rpb24gdG9BcnJheShvYmopIHtcblx0cmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG9iaik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdG9BcnJheTtcbiIsImNvbnN0IGlzRG9tID0gcmVxdWlyZSgnLi9pc0RvbS5qcycpO1xuY29uc3QgaW5zdGFuY2VPZiA9IHJlcXVpcmUoJy4uL29iamVjdC9pbnN0YW5jZU9mLmpzJyk7XG5jb25zdCB0b0FycmF5ID0gcmVxdWlyZSgnLi4vYXJyYXkvdG9BcnJheS5qcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChtYXRjaGVzLCBjYWxsYmFjayA9ICgpID0+IHt9KSA9PiB7XG5cblx0aWYgKGlzRG9tKG1hdGNoZXMpKSB7XG5cdFx0bWF0Y2hlcyA9IFttYXRjaGVzXTtcblx0fVxuXHRlbHNlIGlmICh0eXBlb2YobWF0Y2hlcykgPT09ICdzdHJpbmcnKSB7XG5cdFx0bWF0Y2hlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwobWF0Y2hlcyk7XG5cdH1cblxuXHRpZiAoIWluc3RhbmNlT2YobWF0Y2hlcywgQXJyYXkpKSB7XG5cdFx0bWF0Y2hlcyA9IHRvQXJyYXkobWF0Y2hlcyk7XG5cdH1cblxuXHRpZiAoY2FsbGJhY2spIHtcblx0XHRtYXRjaGVzLmZvckVhY2goY2FsbGJhY2spO1xuXHR9XG5cblx0cmV0dXJuIG1hdGNoZXM7XG59O1xuIiwiY29uc3QgaW5zdGFuY2VPZiA9IHJlcXVpcmUoJy4uL29iamVjdC9pbnN0YW5jZU9mLmpzJyk7XG5cbmNvbnN0IF9IVE1MRWxlbWVudCA9ICh0eXBlb2YgSFRNTEVsZW1lbnQgIT09ICd1bmRlZmluZWQnICYmIEhUTUxFbGVtZW50KSB8fCAodHlwZW9mIEVsZW1lbnQgIT09ICd1bmRlZmluZWQnICYmIEVsZW1lbnQpO1xuY29uc3QgX0hUTUxEb2N1bWVudCA9ICh0eXBlb2YgSFRNTERvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBIVE1MRG9jdW1lbnQpIHx8ICh0eXBlb2YgRG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIERvY3VtZW50KTtcbmNvbnN0IF9XaW5kb3cgPSB3aW5kb3cuY29uc3RydWN0b3I7XG5cbm1vZHVsZS5leHBvcnRzID0gdGVzdCA9PlxuXHRpbnN0YW5jZU9mKHRlc3QsIF9IVE1MRWxlbWVudCkgfHxcblx0XHRpbnN0YW5jZU9mKHRlc3QsIF9IVE1MRG9jdW1lbnQpIHx8XG5cdFx0aW5zdGFuY2VPZih0ZXN0LCBfV2luZG93KVxuO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBlID0+IHtcblx0ZS5zdG9wUHJvcGFnYXRpb24gPSAoKSA9PiB7fTtcblx0ZS5wcmV2ZW50RGVmYXVsdCA9ICgpID0+IHt9O1xuXHRyZXR1cm4gZTtcbn07XG4iLCIvLyBJRSBkb2VzIG5vdCBzdXBwb3J0IGBuZXcgRXZlbnQoKWBcbi8vIFNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9HdWlkZS9FdmVudHMvQ3JlYXRpbmdfYW5kX3RyaWdnZXJpbmdfZXZlbnRzIGZvciBkZXRhaWxzXG5jb25zdCBkaWN0ID0ge2J1YmJsZXM6IHRydWUsIGNhbmNlbGFibGU6IHRydWV9O1xuXG5sZXQgY3JlYXRlRXZlbnQgPSAoZXZlbnRuYW1lLCBvcHRpb25zID0gZGljdCkgPT5cblx0bmV3IEV2ZW50KGV2ZW50bmFtZSwgb3B0aW9ucyk7XG5cbnRyeSB7XG5cdGNyZWF0ZUV2ZW50KCd0ZXN0Jyk7XG59XG5jYXRjaCAoZSkge1xuXHRjcmVhdGVFdmVudCA9IChldmVudG5hbWUsIG9wdGlvbnMgPSBkaWN0KSA9PiB7XG5cdFx0Y29uc3QgZSA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuXHRcdGUuaW5pdEV2ZW50KGV2ZW50bmFtZSwgISFvcHRpb25zLmJ1YmJsZXMsICEhb3B0aW9ucy5jYW5jZWxhYmxlKTtcblx0XHRyZXR1cm4gZTtcblx0fTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVFdmVudDtcbiIsIi8vIG9uLmpzXG4vLyBMaXN0ZW4gdG8gZXZlbnRzLCB0aGlzIGlzIGEgd3JhcHBlciBmb3IgYWRkRXZlbnRMaXN0ZW5lclxuXG5jb25zdCBlYWNoID0gcmVxdWlyZSgnLi4vZG9tL2VhY2guanMnKTtcbmNvbnN0IFNFUEVSQVRPUiA9IC9bXFxzLF0rLztcblxuLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9XSUNHL0V2ZW50TGlzdGVuZXJPcHRpb25zL2Jsb2IvZ2gtcGFnZXMvZXhwbGFpbmVyLm1kI2ZlYXR1cmUtZGV0ZWN0aW9uXG5sZXQgc3VwcG9ydHNQYXNzaXZlID0gZmFsc2U7XG50cnkge1xuXHRjb25zdCBvcHRzID0gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAncGFzc2l2ZScsIHtcblx0XHRnZXQoKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZ2V0dGVyLXJldHVyblxuXHRcdFx0c3VwcG9ydHNQYXNzaXZlID0gdHJ1ZTtcblx0XHR9XG5cdH0pO1xuXHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndGVzdCcsIG51bGwsIG9wdHMpO1xufVxuY2F0Y2ggKGUpIHtcblx0Ly8gQ29udGludWVcbn1cblxuXG5tb2R1bGUuZXhwb3J0cyA9IChlbGVtZW50cywgZXZlbnRuYW1lcywgY2FsbGJhY2ssIG9wdGlvbnMgPSBmYWxzZSkgPT4ge1xuXG5cdGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ29iamVjdCcgJiYgb3B0aW9ucy5wYXNzaXZlICYmICFzdXBwb3J0c1Bhc3NpdmUpIHtcblx0XHQvLyBPdmVycmlkZSB0aGUgcGFzc2l2ZSBtYXJrXG5cdFx0b3B0aW9ucyA9IGZhbHNlO1xuXHR9XG5cblx0ZXZlbnRuYW1lcyA9IGV2ZW50bmFtZXMuc3BsaXQoU0VQRVJBVE9SKTtcblx0cmV0dXJuIGVhY2goZWxlbWVudHMsIGVsID0+IGV2ZW50bmFtZXMuZm9yRWFjaChldmVudG5hbWUgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudG5hbWUsIGNhbGxiYWNrLCBvcHRpb25zKSkpO1xufTtcbiIsIi8vIHN3aXBlXG4vLyBDaGVja3MgZm9yIGEgc3dpcGUgdG8gdGhlIGxlZnQgb3IgdG8gdGhlIHJpZ2h0XG5cbmNvbnN0IHRvdWNoID0gcmVxdWlyZSgnLi90b3VjaC5qcycpO1xuY29uc3Qge2dlc3R1cmV9ID0gdG91Y2g7XG5cbm1vZHVsZS5leHBvcnRzID0gKGVsZW1lbnRzLCBjYWxsYmFjaykgPT5cblxuXHR0b3VjaChlbGVtZW50cywgZnVuY3Rpb24oZSwgbywgcykge1xuXG5cdFx0Z2VzdHVyZShlLCBzKTtcblxuXHRcdGUuZ2VzdHVyZS50eXBlID0gYGRyYWcke2UuZ2VzdHVyZS5kaXJlY3Rpb259YDtcblxuXHRcdGNhbGxiYWNrLmNhbGwodGhpcywgZSk7XG5cblx0fSxcblx0ZnVuY3Rpb24oZSkge1xuXHRcdGUuZ2VzdHVyZS50eXBlID0gJ3N0YXJ0Jztcblx0XHRjYWxsYmFjay5jYWxsKHRoaXMsIGUpO1xuXHR9LFxuXHRmdW5jdGlvbihlKSB7XG5cblx0XHRjb25zdCBnID0gZS5nZXN0dXJlO1xuXG5cdFx0Ly8gSG93IGxvbmcgZGlkIHRoaXMgb3BlcmF0aW9uIHRha2U/XG5cdFx0aWYgKGcuZGVsdGFUaW1lIDwgMjAwICYmIGcuZGlzdGFuY2UgPiAyMCAmJiBnLnZlbG9jaXR5ID4gMC4zKSB7XG5cdFx0XHRnLnR5cGUgPSBgc3dpcGUke2cuZGlyZWN0aW9ufWA7XG5cdFx0fVxuXHRcdGVsc2UgaWYgKGcuZGlzdGFuY2UgPCAyMCkge1xuXHRcdFx0Zy50eXBlID0gJ2NsaWNrJztcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHRnLnR5cGUgPSAncmVsZWFzZSc7XG5cdFx0fVxuXG5cdFx0Y2FsbGJhY2suY2FsbCh0aGlzLCBlKTtcblx0fSlcbjtcbiIsIi8vIFN0YW5kYXJkaXplcyB0b3VjaCBldmVudHNcbi8vIENhbGN1bGF0ZSB0aGUgZGlmZmVyZW5jZSBmcm9tIHRoZSBzdGFydGluZyBwb3NpdGlvbiBhbmQgdGhlIGVuZCBwb3NpdGlvbi5cbi8vIFJldHVybnMgYSBnZXN0dXJlIG9iamVjdCBnaXZlblxuXG5jb25zdCBvbiA9IHJlcXVpcmUoJy4vb24uanMnKTtcbmNvbnN0IGVhY2ggPSByZXF1aXJlKCcuLi9kb20vZWFjaC5qcycpO1xuXG4vLyBEb2VzIHRoaXMgc3VwcG9ydCBwb2ludGVyIGV2ZW50cz9cbmNvbnN0IHBvaW50ZXJFbmFibGVkID0gd2luZG93Lm5hdmlnYXRvci5wb2ludGVyRW5hYmxlZDtcbmNvbnN0IGV2ZW50TW92ZVR5cGVzID0gcG9pbnRlckVuYWJsZWQgPyAnTVNQb2ludGVyTW92ZSBwb2ludGVyTW92ZScgOiAnbW91c2Vtb3ZlIHRvdWNobW92ZSc7XG5jb25zdCBldmVudFN0YXJ0VHlwZXMgPSBwb2ludGVyRW5hYmxlZCA/ICdNU1BvaW50ZXJEb3duIHBvaW50ZXJEb3duJyA6ICdtb3VzZWRvd24gdG91Y2hzdGFydCc7XG5jb25zdCBldmVudEVuZFR5cGVzID0gcG9pbnRlckVuYWJsZWQgPyAnTVNQb2ludGVyVXAgcG9pbnRlclVwJyA6ICdtb3VzZXVwIHRvdWNoZW5kIHRvdWNoY2FuY2VsJztcblxuLy8gVG91Y2hcbi8vIEBwYXJhbSBjYWxsYmFjayBmdW5jdGlvbiAtIEV2ZXJ5IHRvdWNoIGV2ZW50IGZpcmVkXG4vLyBAcGFyYW0gY29tcGxldGUgZnVuY3Rpb24tIE9uY2UgYWxsIHRvdWNoIGV2ZW50IGVuZHNcbm1vZHVsZS5leHBvcnRzID0gKGVsZW1lbnRzLCBvbm1vdmUsIG9uc3RhcnQsIG9uZW5kKSA9PiB7XG5cblx0Ly8gU3RvcmUgY2FsbGJhY2tzLCBhbmQgcHJldmlvdXMgcG9pbnRlciBwb3NpdGlvblxuXHRjb25zdCBjYiA9IHt9O1xuXHRjb25zdCBtdiA9IHt9O1xuXHRjb25zdCBmaW4gPSB7fTtcblxuXHRvbihkb2N1bWVudCwgZXZlbnRNb3ZlVHlwZXMsIG1vdmVFdmVudCA9PiB7XG5cblx0XHQvLyBGaXggQW5kcm9pZCBub3QgZmlyaW5nIG11bHRpcGxlIG1vdmVzXG5cdFx0Ly8gaWYgKGUudHlwZS5tYXRjaCgvdG91Y2gvaSkpIHtcblx0XHQvLyBcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHQvLyB9XG5cblx0XHQvLyBQb2ludGVyL01vdXNlIGRvd24/XG5cdFx0aWYgKHZvaWRFdmVudChtb3ZlRXZlbnQpKSB7XG5cdFx0XHQvLyBUaGUgbW91c2UgYnV0dG9ucyBpc24ndCBwcmVzc2VkLCBraWxsIHRoaXNcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyB0cmlnZ2VyIHRoZSBjYWxsXG5cdFx0Y29uc3QgaSA9IG1vdmVFdmVudC5wb2ludGVySWQgfHwgMDtcblx0XHRjb25zdCBoYW5kbGVyID0gY2JbaV07XG5cblx0XHRpZiAoaGFuZGxlciAmJiB0eXBlb2YoaGFuZGxlcikgPT09ICdmdW5jdGlvbicpIHtcblxuXHRcdFx0Y29uc3QgcHJldkV2ZW50ID0gbXZbaV07XG5cblx0XHRcdC8vIEV4dGVuZCB0aGUgRXZlbnQgT2JqZWN0IHdpdGggJ2dlc3R1cmVzJ1xuXHRcdFx0Z2VzdHVyZShtb3ZlRXZlbnQsIHByZXZFdmVudCk7XG5cblx0XHRcdC8vIFRyaWdnZXIgY2FsbGJhY2tcblx0XHRcdGhhbmRsZXIobW92ZUV2ZW50LCBwcmV2RXZlbnQpO1xuXHRcdH1cblxuXHRcdG12W2ldID0gbW92ZUV2ZW50O1xuXHR9KTtcblxuXHRvbihkb2N1bWVudCwgZXZlbnRFbmRUeXBlcywgZSA9PiB7XG5cblx0XHRjb25zdCBpID0gZS5wb2ludGVySWQgfHwgMDtcblx0XHRjYltpXSA9IG51bGw7XG5cblx0XHRpZiAoZS50eXBlID09PSAndG91Y2hlbmQnIHx8IGUudHlwZSA9PT0gJ3RvdWNoY2FuY2VsJykge1xuXHRcdFx0ZSA9IG12W2ldO1xuXHRcdH1cblxuXHRcdGNvbnN0IGhhbmRsZXIgPSBmaW5baV07XG5cdFx0aWYgKGhhbmRsZXIpIHtcblx0XHRcdGhhbmRsZXIoZSk7XG5cdFx0fVxuXG5cdFx0ZmluW2ldID0gbnVsbDtcblx0fSk7XG5cblx0Ly8gbG9vcCB0aHJvdWdoIGFuZCBhZGQgZXZlbnRzXG5cdGVhY2goZWxlbWVudHMsIGVsZW1lbnQgPT4ge1xuXG5cdFx0Ly8gYmluZCBldmVudHNcblx0XHQvLyBvbihlbGVtZW50LCAndG91Y2hlbmQnLCBlID0+IHtcblx0XHQvLyBcdGNvbnNvbGUubG9nKCdlbDp0b3VjaGVuZCcpO1xuXHRcdC8vIFx0Y29uc29sZS5sb2coZSk7XG5cdFx0Ly8gfSk7XG5cblx0XHRvbihlbGVtZW50LCAnc2VsZWN0c3RhcnQnLCAoKSA9PiBmYWxzZSk7XG5cblx0XHRvbihlbGVtZW50LCBldmVudFN0YXJ0VHlwZXMsIHN0YXJ0RXZlbnQgPT4ge1xuXG5cdFx0XHQvLyBkZWZhdWx0IHBvaW50ZXIgSURcblx0XHRcdGNvbnN0IGkgPSBzdGFydEV2ZW50LnBvaW50ZXJJZCB8fCAwO1xuXG5cdFx0XHQvLyBBZGQgR2VzdHVyZXMgdG8gZXZlbnQgT2JqZWN0XG5cdFx0XHRnZXN0dXJlKHN0YXJ0RXZlbnQpO1xuXG5cdFx0XHRtdltpXSA9IHN0YXJ0RXZlbnQ7XG5cdFx0XHRjYltpXSA9IChtb3ZlRXZlbnQsIHByZXZNb3ZlRXZlbnQpID0+IHtcblx0XHRcdFx0b25tb3ZlLmNhbGwoZWxlbWVudCwgbW92ZUV2ZW50LCBwcmV2TW92ZUV2ZW50LCBzdGFydEV2ZW50KTtcblx0XHRcdH07XG5cblx0XHRcdGlmIChvbmVuZCkge1xuXHRcdFx0XHRmaW5baV0gPSBlbmRFdmVudCA9PiB7XG5cblx0XHRcdFx0XHQvLyBBZGQgR2VzdHVyZXMgdG8gZXZlbnQgT2JqZWN0XG5cdFx0XHRcdFx0Z2VzdHVyZShlbmRFdmVudCwgc3RhcnRFdmVudCk7XG5cblx0XHRcdFx0XHQvLyBmaXJlIGNvbXBsZXRlIGNhbGxiYWNrXG5cdFx0XHRcdFx0b25lbmQuY2FsbChlbGVtZW50LCBlbmRFdmVudCwgc3RhcnRFdmVudCk7XG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cblx0XHRcdC8vIHRyaWdnZXIgc3RhcnRcblx0XHRcdGlmIChvbnN0YXJ0KSB7XG5cdFx0XHRcdG9uc3RhcnQuY2FsbChlbGVtZW50LCBzdGFydEV2ZW50KTtcblx0XHRcdH1cblx0XHR9KTtcblx0fSk7XG59O1xuXG5mdW5jdGlvbiBnZXN0dXJlKGN1cnJFdmVudCwgcHJldkV2ZW50KSB7XG5cblx0Ly8gUmVzcG9uc2UgT2JqZWN0XG5cdGN1cnJFdmVudC5nZXN0dXJlID0ge307XG5cblx0aWYgKGN1cnJFdmVudCAmJiBjdXJyRXZlbnQudG91Y2hlcyAmJiBjdXJyRXZlbnQudG91Y2hlcy5sZW5ndGggPiAwKSB7XG5cdFx0Y3VyckV2ZW50Lmdlc3R1cmUudG91Y2hlcyA9IGN1cnJFdmVudC50b3VjaGVzO1xuXHR9XG5cdGVsc2Uge1xuXHRcdGN1cnJFdmVudC5nZXN0dXJlLnRvdWNoZXMgPSBbY3VyckV2ZW50XTtcblx0fVxuXG5cdGN1cnJFdmVudC5nZXN0dXJlLnNjcmVlblggPSBjdXJyRXZlbnQuZ2VzdHVyZS50b3VjaGVzWzBdLnNjcmVlblg7XG5cdGN1cnJFdmVudC5nZXN0dXJlLnNjcmVlblkgPSBjdXJyRXZlbnQuZ2VzdHVyZS50b3VjaGVzWzBdLnNjcmVlblk7XG5cblx0aWYgKCEoJ3NjcmVlblgnIGluIGN1cnJFdmVudCkpIHtcblx0XHRjdXJyRXZlbnQuc2NyZWVuWCA9IGN1cnJFdmVudC5nZXN0dXJlLnNjcmVlblg7XG5cdH1cblx0aWYgKCEoJ3NjcmVlblknIGluIGN1cnJFdmVudCkpIHtcblx0XHRjdXJyRXZlbnQuc2NyZWVuWSA9IGN1cnJFdmVudC5nZXN0dXJlLnNjcmVlblk7XG5cdH1cblxuXHQvLyBJZiB0aGUgc2Vjb25kIHBhcmFtZXRlciBpc24ndCBkZWZpbmVkIHRoZW4gd2UncmUgdW5hYmxlIHRvIGRlZmluZSBnZXR1cmVzXG5cdC8vIEJ1dCBpZiBpdCBpcyB0aGVuIHdob29wLCBsZXRzIGdvLlxuXHRpZiAocHJldkV2ZW50KSB7XG5cblx0XHRjdXJyRXZlbnQuZ2VzdHVyZS5kZWx0YVRpbWUgPSAoY3VyckV2ZW50LnRpbWVTdGFtcCAtIHByZXZFdmVudC50aW1lU3RhbXApO1xuXG5cdFx0Y29uc3QgZHggPSBjdXJyRXZlbnQuZ2VzdHVyZS5kZWx0YVggPSBjdXJyRXZlbnQuZ2VzdHVyZS5zY3JlZW5YIC0gcHJldkV2ZW50Lmdlc3R1cmUuc2NyZWVuWDtcblx0XHRjb25zdCBkeSA9IGN1cnJFdmVudC5nZXN0dXJlLmRlbHRhWSA9IGN1cnJFdmVudC5nZXN0dXJlLnNjcmVlblkgLSBwcmV2RXZlbnQuZ2VzdHVyZS5zY3JlZW5ZO1xuXG5cdFx0Ly8gV2hpY2ggaXMgdGhlIGJlc3QgZGlyZWN0aW9uIGZvciB0aGUgZ2VzdHVyZT9cblx0XHRpZiAoTWF0aC5hYnMoZHkpID4gTWF0aC5hYnMoZHgpKSB7XG5cdFx0XHRjdXJyRXZlbnQuZ2VzdHVyZS5kaXJlY3Rpb24gPSAoZHkgPiAwID8gJ3VwJyA6ICdkb3duJyk7XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0Y3VyckV2ZW50Lmdlc3R1cmUuZGlyZWN0aW9uID0gKGR4ID4gMCA/ICdyaWdodCcgOiAnbGVmdCcpO1xuXHRcdH1cblxuXHRcdC8vIERpc3RhbmNlXG5cdFx0Y3VyckV2ZW50Lmdlc3R1cmUuZGlzdGFuY2UgPSBNYXRoLnNxcnQoKGR4ICogZHgpICsgKGR5ICogZHkpKTtcblxuXHRcdC8vIFZlbG9jaXR5XG5cdFx0Y3VyckV2ZW50Lmdlc3R1cmUudmVsb2NpdHkgPSBjdXJyRXZlbnQuZ2VzdHVyZS5kaXN0YW5jZSAvIGN1cnJFdmVudC5nZXN0dXJlLmRlbHRhVGltZTtcblx0fVxufVxuXG5tb2R1bGUuZXhwb3J0cy5nZXN0dXJlID0gZ2VzdHVyZTtcblxuZnVuY3Rpb24gdm9pZEV2ZW50KGV2ZW50KSB7XG5cdGNvbnN0IHR5cGUgPSBldmVudC5wb2ludGVyVHlwZSB8fCBldmVudC50eXBlO1xuXHRyZXR1cm4gKHR5cGUubWF0Y2goL21vdXNlL2kpICYmIChldmVudC53aGljaCB8fCBldmVudC5idXR0b25zKSAhPT0gMSk7XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9ICh0ZXN0LCByb290KSA9PiByb290ICYmIHRlc3QgaW5zdGFuY2VvZiByb290O1xuIiwiLy8gcmVxdWVzdEFuaW1hdGlvbkZyYW1lIHBvbHlmaWxsXG53aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID1cblx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuXHR3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG5cdHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcblx0d2luZG93Lm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcblx0d2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG5cdChjYWxsYmFjayA9PiBzZXRUaW1lb3V0KGNhbGxiYWNrLCAxMDAwIC8gNjApKTtcblxubW9kdWxlLmV4cG9ydHMgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lLmJpbmQod2luZG93KTtcbiIsIi8vIFRpbGVkT2ZMaWZlLCBDYW52YXMgYW5uaW1hdGlvblxuLy8gQ29weXJpZ2h0IEFuZHJldyBEb2Rzb24sIE1hcmNoIDIwMTNcblxuLy8gR2V0IENhbnZhc1xuaW1wb3J0IENhbnZhcyBmcm9tICcuL2NsYXNzZXMvY2FudmFzJztcbmltcG9ydCBDb2xsZWN0aW9uIGZyb20gJy4vY2xhc3Nlcy9jb2xsZWN0aW9uJztcblxuY29uc3QgTUFUSF9QSTIgPSAyICogTWF0aC5QSTtcblxuY29uc3Qgc3ByaXRlcyA9IFtdO1xuXG4vLyBDcmVhdGUgYSBuZXcgdGlsZVxuY2xhc3MgQmFsbG9vbiB7XG5cblx0Y29uc3RydWN0b3IoY3gsIGN5LCByKSB7XG5cblx0XHR0aGlzLmN4ID0gY3g7XG5cdFx0dGhpcy5jeSA9IGN5O1xuXHRcdHRoaXMuciA9IHI7XG5cblx0XHR0aGlzLmZpbGxTdHlsZSA9ICdibGFjayc7XG5cblx0XHR0aGlzLmNhbGMoKTtcblx0fVxuXG5cdGNhbGMoKSB7XG5cdFx0Y29uc3QgciA9IHRoaXMucjtcblx0XHR0aGlzLnggPSB0aGlzLmN4IC0gcjtcblx0XHR0aGlzLnkgPSB0aGlzLmN5IC0gcjtcblx0XHR0aGlzLncgPSByICogMjtcblx0XHR0aGlzLmggPSByICogMjtcblx0fVxuXG5cdGRyYXcoY3R4KSB7XG5cblx0XHRpZiAodGhpcy5yIDw9IDApIHtcblx0XHRcdHRoaXMuciA9IDA7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gRG9lcyB0aGlzIGV4aXN0IGFzIGEgc3ByaXRlP1xuXHRcdGNvbnN0IGtleSA9IHRoaXMuZmlsbFN0eWxlICsgdGhpcy5yO1xuXHRcdGlmICghKGtleSBpbiBzcHJpdGVzKSkge1xuXHRcdFx0Y29uc3QgX2NhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXHRcdFx0X2NhbnZhcy53aWR0aCA9IE1hdGguY2VpbCh0aGlzLncpICsgMjtcblx0XHRcdF9jYW52YXMuaGVpZ2h0ID0gTWF0aC5jZWlsKHRoaXMuaCkgKyAyO1xuXHRcdFx0Y29uc3QgX2N0eCA9IF9jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblx0XHRcdF9jdHguZmlsbFN0eWxlID0gdGhpcy5maWxsU3R5bGU7XG5cdFx0XHRfY3R4LmJlZ2luUGF0aCgpO1xuXHRcdFx0X2N0eC5hcmModGhpcy5yICsgMSwgdGhpcy5yICsgMSwgdGhpcy5yLCAwLCBNQVRIX1BJMiwgZmFsc2UpO1xuXHRcdFx0X2N0eC5maWxsKCk7XG5cblx0XHRcdHNwcml0ZXNba2V5XSA9IF9jYW52YXM7XG5cdFx0fVxuXG5cdFx0Y3R4LmRyYXdJbWFnZShzcHJpdGVzW2tleV0sIHRoaXMueCAtIDEsIHRoaXMueSAtIDEpO1xuXHR9XG5cblx0ZnJhbWUoKSB7XG5cblx0XHQvLyBJcyB0aGlzIGV4cGFuZGluZyBvciBzaHJpbmtpbmc/XG5cdFx0aWYgKHRoaXMuciA+PSBtYXhfcmFkaXVzKSB7XG5cdFx0XHQvLyByZXNldCB0aGUgcmFkaXVzXG5cdFx0XHR0aGlzLnIgPSAwO1xuXG5cdFx0XHQvLyBTd2FwIHRoZSBjb2xvclxuXHRcdFx0dGhpcy5maWxsU3R5bGUgPSB0b2dnbGUodGhpcy5maWxsU3R5bGUsICd3aGl0ZScsICdibGFjaycpO1xuXHRcdH1cblxuXHRcdHRoaXMuciArPSAobWF4X3JhZGl1cyAvIDIwMCk7XG5cdFx0dGhpcy5jYWxjKCk7XG5cdFx0dGhpcy5kaXJ0eSA9IHRydWU7XG5cdH1cbn1cblxuXG5mdW5jdGlvbiB0b2dnbGUodmFsdWUsIC4uLmFyZ3MpIHtcblx0Y29uc3QgaW5kZXggPSBhcmdzLmluZGV4T2YodmFsdWUpO1xuXHRsZXQgbmV4dCA9IGFyZ3NbaW5kZXggKyAxXTtcblx0aWYgKG5leHQgPT09IHVuZGVmaW5lZCkge1xuXHRcdG5leHQgPSBhcmdzWzBdO1xuXHR9XG5cdHJldHVybiBuZXh0O1xufVxuXG5cbmNvbnN0IGNhbnZhcyA9IG5ldyBDYW52YXMoKTtcbmNvbnN0IGNvbGxlY3Rpb24gPSBuZXcgQ29sbGVjdGlvbihjYW52YXMudGFyZ2V0KTtcbmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBzZXR1cCk7XG5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignZnJhbWUnLCAoKSA9PiB7XG5cblx0Ly8gLy8gQ2xlYXIgY2FudmFzXG5cdC8vIGNhbnZhcy5jdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG5cblx0Ly8gRHJhdyBpdGVtc1xuXHRjb2xsZWN0aW9uLmRyYXcoKTtcbn0pO1xuXG4vLyBkcmF3IHZhcmlhbnQgYmFja2dyb3VuZFxuXG5jb25zdCBiYWxsb29ucyA9IFtdO1xubGV0IG1heF9yYWRpdXM7XG5cbnNldHVwKCk7XG5cbmZ1bmN0aW9uIHNldHVwKCkge1xuXG5cdC8vIFRoZXJlIGFyZSAxMDAgYmFsbG9vbnNcblx0Y29uc3QgbiA9IDEwMDA7XG5cblx0Ly8gVG8gZmlsbCB0aGUgcmVjdGFuZ3VsYXIgc2NyZWVuIGFyZWFcblx0Y29uc3QgVyA9IGNhbnZhcy53aWR0aDtcblx0Y29uc3QgSCA9IGNhbnZhcy5oZWlnaHQ7XG5cdGNvbnN0IEEgPSBIICogVztcblxuXHQvLyBFYWNoIHdvdWxkIGhhdmUgdG8gZmlsbCBhbiBhcmVhIGFib3V0LlxuXHRjb25zdCBhID0gQSAvIG47XG5cblx0Ly8gQW5kIHNpbmNlIHRoZXkgbXVzdCBmaWxsIGEgc3F1YXJlIHdlIGNhbiBzcXJ0IHRvIGZpbmQgd2lkdGggYW5kIGhlaWdodCBvZiB0aGUgYmFsbG9vbnNcblx0bGV0IHcgPSBNYXRoLnNxcnQoYSk7XG5cdGxldCBoID0gdztcblxuXHQvLyBGaW5kIHRoZSBudW1iZXIgdGhhdCB3b3VsZCBiZSBuZWVkZWQgdG8gZmlsbCB0aGUgYXhpc1xuXHRjb25zdCBueCA9IE1hdGguZmxvb3IoVyAvIHcpIHx8IDE7XG5cdGNvbnN0IG55ID0gTWF0aC5mbG9vcihIIC8gaCkgfHwgMTtcblxuXHQvLyBBZGp1c3QgdGhlIHdpZHRoIGFuZCBoZWlnaHQgdG8gdW5pZm9ybWx5IHNwcmVhZCB0aGVtIG91dFxuXHR3ID0gVyAvIG54O1xuXHRoID0gSCAvIG55O1xuXG5cdC8vIENhcHR1cmUgbWF4LXJhZGl1c1xuXHRsZXQgciA9IE1hdGgubWF4KHcsIGgpIC8gMjtcblx0bWF4X3JhZGl1cyA9IHIgKiAxLjU7XG5cblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBueDsgaSsrKSB7XG5cdFx0ciA9ICgoKGkgKyAxKSAvIG54KSAqIHcpIC8gMjtcblx0XHRmb3IgKGxldCBqID0gMDsgaiA8IG55OyBqKyspIHtcblxuXHRcdFx0Y29uc3QgY3ggPSBwYXJzZUludCgoaSAqIHcpICsgKHcgLyAyKSwgMTApO1xuXHRcdFx0Y29uc3QgY3kgPSBwYXJzZUludCgoaiAqIGgpICsgKGggLyAyKSwgMTApO1xuXG5cdFx0XHRsZXQgYmFsbG9vbiA9IGJhbGxvb25zWygoaSAqIG55KSArIGopXTtcblxuXHRcdFx0Ly8gJTEwMFxuXG5cdFx0XHRpZiAoIWJhbGxvb24pIHtcblx0XHRcdFx0YmFsbG9vbiA9IG5ldyBCYWxsb29uKGN4LCBjeSwgcik7XG5cdFx0XHRcdGNvbGxlY3Rpb24ucHVzaChiYWxsb29uKTtcblx0XHRcdFx0YmFsbG9vbnMucHVzaChiYWxsb29uKTtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHQvLyBJbnNlcnQgaW50byBhIGNvbGxlY3Rpb25cblx0XHRcdFx0Y29sbGVjdGlvbi5wdXNoKGJhbGxvb24pO1xuXG5cdFx0XHRcdC8vIFVwZGF0ZSBpdHMgcG9zaXRpb25cblx0XHRcdFx0YmFsbG9vbi5jeCA9IGN4O1xuXHRcdFx0XHRiYWxsb29uLmN5ID0gY3k7XG5cdFx0XHRcdGJhbGxvb24uciA9IHI7XG5cdFx0XHRcdGJhbGxvb24uZmlsbFN0eWxlID0gbnVsbDtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBDcm9wIHRoZSBjb2xsZWN0aW9uIGFycmF5IHRvIG54ICogbnlcblx0Y29sbGVjdGlvbi5sZW5ndGggPSAobnggKiBueSk7XG59XG4iLCIvLyBTZXR1cFxuLy8gVGhpcyBjb25zdHJ1Y3RzIHRoZSBjYW52YXMgb2JqZWN0XG5cbi8vIEluY2x1ZGVzXG5pbXBvcnQgJ3RyaWNrcy9zdXBwb3J0L3JlcXVlc3RBbmltYXRpb25GcmFtZSc7XG5pbXBvcnQgY3JlYXRlRXZlbnQgZnJvbSAndHJpY2tzL2V2ZW50cy9jcmVhdGVFdmVudCc7XG5pbXBvcnQgY3JlYXRlRHVtbXlFdmVudCBmcm9tICd0cmlja3MvZXZlbnRzL2NyZWF0ZUR1bW15RXZlbnQnO1xuaW1wb3J0IG9uIGZyb20gJ3RyaWNrcy9ldmVudHMvb24nO1xuaW1wb3J0IHN3aXBlIGZyb20gJ3RyaWNrcy9ldmVudHMvc3dpcGUnO1xuXG4vLyBDb25zdGFudHNcbmNvbnN0IEJBQ0tHUk9VTkRfSEFTSCA9ICdiYWNrZ3JvdW5kJztcbmNvbnN0IFVzZXJFdmVudHMgPSBbJ2NsaWNrJywgJ21vdXNlZG93bicsICdtb3VzZXVwJywgJ21vdXNlb3ZlcicsICdtb3VzZW1vdmUnLCAnbW91c2VvdXQnLCAnZnJhbWUnLCAncmVzaXplJywgJ2tleWRvd24nXTtcbmNvbnN0IFRvdWNoRXZlbnRzID0gWyd0b3VjaG1vdmUnLCAndG91Y2hzdGFydCcsICd0b3VjaGVuZCddO1xuXG5jb25zdCBFVkVOVF9TRVBBUkFUT1IgPSAvW1xcc1xcLF0rLztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FudmFzIHtcblxuXHQvLyBDb25zdHJ1Y3QgdGhlIENhbnZhcyBFbGVtZW50XG5cdC8vIEBwYXJhbSBjYW52YXMgc2hvdWxkIGJlIGFuIHJvb3QgZWxlbWVudCBjb250YWluZXIgZm9yIHRoaXMgaW1hZ2VyeS5cblx0Y29uc3RydWN0b3IoY2FudmFzKSB7XG5cblx0XHRsZXQgcGFyZW50O1xuXG5cdFx0Ly8gZXZlbnRzXG5cdFx0dGhpcy5ldmVudHMgPSB7fTtcblxuXHRcdC8vIGJyb3dzZXIgY2hlY2tcblx0XHRpZiAoISgnZ2V0Q29udGV4dCcgaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJykpKSB7XG5cdFx0XHQvLyBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBjYW52YXNcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIShjYW52YXMgJiYgY2FudmFzIGluc3RhbmNlb2YgSFRNTENhbnZhc0VsZW1lbnQpKSB7XG5cblx0XHRcdC8vIFNldCB0aGUgcGFyZW50XG5cdFx0XHRwYXJlbnQgPSBjYW52YXM7XG5cblx0XHRcdC8vIENyZWF0ZSB0aGUgY2FudmFzIGxheWVyXG5cdFx0XHRjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblx0XHRcdGNhbnZhcy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnd2hpdGUnO1xuXG5cdFx0XHQvLyBOb3QgYSBwYXJlbnRcblx0XHRcdGlmICghcGFyZW50KSB7XG5cdFx0XHRcdC8vIEFwcGVuZCB0byB0aGUgYm9keVxuXHRcdFx0XHRwYXJlbnQgPSBkb2N1bWVudC5ib2R5O1xuXHRcdFx0XHRjYW52YXMuc3R5bGUuY3NzVGV4dCA9ICdwb3NpdGlvbjpmaXhlZDt6LWluZGV4Oi0xO3RvcDowO2xlZnQ6MDsnO1xuXHRcdFx0XHRjYW52YXMuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsIDApO1xuXG5cdFx0XHRcdGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5jc3NUZXh0ID0gJ21pbi1oZWlnaHQ6MTAwJTsnO1xuXHRcdFx0XHRkb2N1bWVudC5ib2R5LnN0eWxlLmNzc1RleHQgPSAnbWluLWhlaWdodDoxMDAlOyc7XG5cblx0XHRcdFx0Ly8gQmluZCB3aW5kb3cgcmVzaXplIGV2ZW50c1xuXHRcdFx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZXNpemUuYmluZCh0aGlzKSk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFwcGVuZCB0aGlzIGVsZW1lbnRcblx0XHRcdHBhcmVudC5pbnNlcnRCZWZvcmUoY2FudmFzLCBwYXJlbnQuZmlyc3RFbGVtZW50Q2hpbGQpO1xuXG5cdFx0XHR0aGlzLnRhcmdldCA9IGNhbnZhcztcblxuXHRcdFx0dGhpcy5yZXNpemUoKTtcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHR0aGlzLnRhcmdldCA9IGNhbnZhcztcblx0XHRcdHBhcmVudCA9IGNhbnZhcy5wYXJlbnROb2RlO1xuXHRcdH1cblxuXHRcdHRoaXMuY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cblx0XHQvLyBTZXQgaW5pdGlhbCBzYXZlIHBvaW50XG5cdFx0dGhpcy5jdHguc2F2ZSgpO1xuXG5cdFx0Ly8gSW5pdGlhdGUgdGhlIHRpbWVcblx0XHR0aGlzLl90aW1lID0gMDtcblx0XHR0aGlzLl9mcHMgPSAwO1xuXG5cdFx0Ly8gSW5pdGlhdGUgdGhlIGRyYXdcblx0XHR0aGlzLmRyYXcoKTtcblxuXHRcdC8vIEJpbmQgZXZlbnRzXG5cdFx0b24odGhpcy50YXJnZXQsIFVzZXJFdmVudHMudG9TdHJpbmcoKSwgdGhpcy5kaXNwYXRjaEV2ZW50LmJpbmQodGhpcyksIHtwYXNzaXZlOiB0cnVlfSk7XG5cblx0XHQvLyBGb3JtYXQgVG91Y2ggZXZlbnRzXG5cdFx0b24odGhpcy50YXJnZXQsIFRvdWNoRXZlbnRzLnRvU3RyaW5nKCksIHRoaXMuZGlzcGF0Y2hUb3VjaEV2ZW50LmJpbmQodGhpcyksIHtwYXNzaXZlOiB0cnVlfSk7XG5cblx0XHQvLyBJbiBJRSB1c2VyLWV2ZW50cyBhcmVuJ3QgcHJvcGFnYXRlZCB0byBlbGVtZW50cyB3aGljaCBoYXZlIG5lZ2F0aXZlIHotSW5kZXgnc1xuXHRcdC8vIExpc3RlbiB0byBldmVudHMgb24gdGhlIGRvY3VtZW50IGVsZW1lbnQgYW5kIHByb3BhZ2F0ZSB0aG9zZSBhY2NvcmRpbmdseVxuXHRcdGlmIChwYXJlbnQgPT09IGRvY3VtZW50LmJvZHkgJiYgY2FudmFzLnN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ3otaW5kZXgnKSA9PT0gJy0xJykge1xuXHRcdFx0Ly8gQmluZCBldmVudHNcblx0XHRcdG9uKGRvY3VtZW50LCBVc2VyRXZlbnRzLnRvU3RyaW5nKCksIHRoaXMuZGlzcGF0Y2hFdmVudC5iaW5kKHRoaXMpLCB7cGFzc2l2ZTogdHJ1ZX0pO1xuXG5cdFx0XHQvLyBGb3JtYXQgVG91Y2ggZXZlbnRzXG5cdFx0XHRvbihkb2N1bWVudCwgVG91Y2hFdmVudHMudG9TdHJpbmcoKSwgdGhpcy5kaXNwYXRjaFRvdWNoRXZlbnQuYmluZCh0aGlzKSwge3Bhc3NpdmU6IHRydWV9KTtcblx0XHR9XG5cblx0XHQvLyBMaXN0ZW4gdG8gaGFzaENoYW5nZSBldmVudHNcblx0XHR7XG5cdFx0XHQvLyBIQVNIIENIQU5HRSBERVBUSFxuXHRcdFx0Y29uc3Qgc3R5bGUgPSB0aGlzLnRhcmdldC5zdHlsZTtcblx0XHRcdGNvbnN0IGluaXRpYWxaID0gc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnei1pbmRleCcpO1xuXHRcdFx0Ly8gTGlzdGVuIHRvIGNoYW5nZXMgdG8gdGhlIGJhY2tncm91bmQgaGFzaCB0byBicmluZyB0aGUgY2FudmFzIGVsZW1lbnQgdG8gdGhlIGZyb250XG5cdFx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsIGhhc2hjaGFuZ2UuYmluZChzdHlsZSwgaW5pdGlhbFopKTtcblxuXHRcdFx0aGFzaGNoYW5nZS5jYWxsKHN0eWxlLCBpbml0aWFsWik7XG5cdFx0fVxuXG5cdFx0Ly8gSXMgdGhlcmUgYSBzd2lwZSBtZXRob2QgaGFuZGxlclxuXHRcdGlmICh0aGlzLnN3aXBlKSB7XG5cdFx0XHQvLyBCaW5kIHRoZSBzd2lwZSBldmVudCBoYW5kbGVyIHRvIHRoZSBldmVudFxuXHRcdFx0c3dpcGUodGhpcy50YXJnZXQsIHRoaXMuc3dpcGUuYmluZCh0aGlzKSk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gZW5zdXJlIGl0cyBrZWVwaW5nIHVwLlxuXHRnZXQgd2lkdGgoKSB7XG5cdFx0cmV0dXJuIHRoaXMudGFyZ2V0LndpZHRoO1xuXHR9XG5cdHNldCB3aWR0aCh2YWx1ZSkge1xuXHRcdHRoaXMudGFyZ2V0LndpZHRoID0gdmFsdWU7XG5cdFx0cmV0dXJuIHZhbHVlO1xuXHR9XG5cblx0Z2V0IGhlaWdodCgpIHtcblx0XHRyZXR1cm4gdGhpcy50YXJnZXQuaGVpZ2h0O1xuXHR9XG5cdHNldCBoZWlnaHQodmFsdWUpIHtcblx0XHR0aGlzLnRhcmdldC5oZWlnaHQgPSB2YWx1ZTtcblx0XHRyZXR1cm4gdmFsdWU7XG5cdH1cblx0Z2V0IGZwcygpIHtcblx0XHRyZXR1cm4gdGhpcy5fZnBzO1xuXHR9XG5cdHNldCBmcHModmFsdWUpIHtcblxuXHRcdHRoaXMuX2ZwcyA9IHZhbHVlO1xuXG5cdFx0Y29uc3Qgbm93ID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKTtcblxuXHRcdGlmICgobm93IC0gdGhpcy5fdGltZSkgPiAxMDAwKSB7XG5cdFx0XHQvLyBjb25zb2xlLmxvZygnZnBzOiAlZCcsIHRoaXMuX2Zwcyk7XG5cdFx0XHR0aGlzLl90aW1lID0gbm93O1xuXHRcdFx0dGhpcy5fZnBzID0gMDtcblx0XHR9XG5cdH1cblxuXG5cdHJlc2l6ZSgpIHtcblx0XHRjb25zdCBwYXJlbnQgPSAodGhpcy50YXJnZXQucGFyZW50Tm9kZSA9PT0gZG9jdW1lbnQuYm9keSkgPyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgOiB0aGlzLnRhcmdldC5wYXJlbnROb2RlO1xuXHRcdGNvbnN0IGhlaWdodCA9IHBhcmVudC5jbGllbnRIZWlnaHQ7XG5cdFx0Y29uc3Qgd2lkdGggPSBwYXJlbnQuY2xpZW50V2lkdGg7XG5cdFx0bGV0IGNoYW5nZWQgPSBmYWxzZTtcblxuXHRcdGlmICh0aGlzLndpZHRoICE9PSB3aWR0aCkge1xuXHRcdFx0Y2hhbmdlZCA9IHRydWU7XG5cdFx0XHR0aGlzLndpZHRoID0gd2lkdGg7XG5cdFx0fVxuXHRcdGlmICh0aGlzLmhlaWdodCAhPT0gaGVpZ2h0KSB7XG5cdFx0XHRjaGFuZ2VkID0gdHJ1ZTtcblx0XHRcdHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXHRcdH1cblxuXHRcdGlmIChjaGFuZ2VkKSB7XG5cdFx0XHR0aGlzLnRhcmdldC5kaXNwYXRjaEV2ZW50KGNyZWF0ZUV2ZW50KCdyZXNpemUnKSk7XG5cdFx0fVxuXHR9XG5cblx0Y2xlYXIoKSB7XG5cdFx0dGhpcy5jdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMudGFyZ2V0LndpZHRoLCB0aGlzLnRhcmdldC5oZWlnaHQpO1xuXHR9XG5cblx0Ly8gQnJpbmcgdGhlIGNvbnRlbnQgb2YgdGhlIGNhbnZhcyB0byB0aGUgZnJvbnRcblx0YnJpbmdUb0Zyb250KCkge1xuXG5cdFx0Ly8gVXBkYXRlIHRoZSB3aW5kb3cubG9jYXRpb24gd2l0aCB0aGUgaGFzaCAjYmFja2dyb3VuZFxuXHRcdHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gQkFDS0dST1VORF9IQVNIO1xuXHR9XG5cblx0Ly8gVHJpZ2dlciB0aGUgZHJhdyBmdW5jdGlvblxuXHRkcmF3KCkge1xuXG5cdFx0Ly8gSW5jcmVtZW50IHRoZSBudW1iZXIgb2YgZnJhbWVzXG5cdFx0dGhpcy5mcHMrKztcblxuXHRcdC8vIENhbGwgdGhlIGZyYW1lIGZ1bmN0aW9uIGluIHRoZSBjb250ZXh0IG9mIHRoZSBmcmFtZSB0byBkcmF3XG5cdFx0dGhpcy50YXJnZXQuZGlzcGF0Y2hFdmVudChjcmVhdGVFdmVudCgnZnJhbWUnKSk7XG5cblx0XHQvLyBSZXF1ZXN0IGFub3RoZXIgZnJhbWVcblx0XHRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5kcmF3LmJpbmQodGhpcykpO1xuXHR9XG5cblx0Ly8gVGhlIHVzZXIgaGFzIGNsaWNrZWQgYW4gaXRlbSBvbiB0aGUgcGFnZVxuXHRhZGRFdmVudExpc3RlbmVyKGV2ZW50bmFtZXMsIGhhbmRsZXIpIHtcblxuXHRcdGV2ZW50bmFtZXMuc3BsaXQoRVZFTlRfU0VQQVJBVE9SKS5mb3JFYWNoKGV2ZW50bmFtZSA9PiB7XG5cdFx0XHQvLyBBZGQgdG8gdGhlIGV2ZW50cyBsaXN0XG5cdFx0XHRpZiAoIShldmVudG5hbWUgaW4gdGhpcy5ldmVudHMpKSB7XG5cdFx0XHRcdHRoaXMuZXZlbnRzW2V2ZW50bmFtZV0gPSBbXTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5ldmVudHNbZXZlbnRuYW1lXS5wdXNoKGhhbmRsZXIpO1xuXHRcdH0pO1xuXHR9XG5cblx0Ly8gRGlzcGF0Y2hcblx0ZGlzcGF0Y2hFdmVudChlKSB7XG5cblx0XHRpZiAoZS50eXBlIGluIHRoaXMuZXZlbnRzKSB7XG5cblx0XHRcdGNvbnN0IHRhcmdldCA9IGUuY3VycmVudFRhcmdldDtcblxuXHRcdFx0Ly8gVGhpcyB3YXMgdHJpZ2dlcmVkIHVzaW5nIGV2ZW50IGRlbGVnYXRpb24sIGFrYSBpbiB0aGUgYmFja2dyb3VuZFxuXHRcdFx0aWYgKHRhcmdldCA9PT0gZG9jdW1lbnQpIHtcblxuXHRcdFx0XHRlID0gY3JlYXRlRHVtbXlFdmVudCh7XG5cdFx0XHRcdFx0dHlwZTogZS50eXBlLFxuXHRcdFx0XHRcdHRhcmdldDogdGhpcy50YXJnZXQsXG5cdFx0XHRcdFx0b2Zmc2V0WDogZS5wYWdlWCB8fCBlLm9mZnNldFgsXG5cdFx0XHRcdFx0b2Zmc2V0WTogZS5wYWdlWSB8fCBlLm9mZnNldFlcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuZXZlbnRzW2UudHlwZV0uZm9yRWFjaChoYW5kbGVyID0+IGhhbmRsZXIoZSkpO1xuXHRcdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHR9XG5cdH1cblxuXHQvLyBEaXNwYXRjaFxuXHRkaXNwYXRjaFRvdWNoRXZlbnQoZSkge1xuXHRcdC8vIElmIHRoaXMgd2FzIGEgdG91Y2ggZXZlbnRcblx0XHQvLyBEZXRlcm1pbmUgdGhlIG9mZnNldCB0byB0aGUgY2FudmFzIGVsZW1lbnQgcmVsYXRpdmUgdG8gdGhlIGl0ZW0gYmVpbmcgY2xpY2tlZFxuXHRcdGNvbnN0IHRvdWNoID0gKGUudG91Y2hlcyB8fCBlLmNoYW5nZWRUb3VjaGVzKVswXTtcblx0XHRpZiAodG91Y2gpIHtcblx0XHRcdGUub2Zmc2V0WCA9IE1hdGguYWJzKHRvdWNoLnBhZ2VYIHx8IHRvdWNoLnNjcmVlblgpO1xuXHRcdFx0ZS5vZmZzZXRZID0gTWF0aC5hYnModG91Y2gucGFnZVkgfHwgdG91Y2guc2NyZWVuWSk7XG5cdFx0fVxuXG5cdFx0dGhpcy5kaXNwYXRjaEV2ZW50KGUpO1xuXHR9XG59XG5cblxuZnVuY3Rpb24gaGFzaGNoYW5nZSh6KSB7XG5cblx0Y29uc3QgekluZGV4ID0gJ3otaW5kZXgnO1xuXG5cdGlmICh3aW5kb3cubG9jYXRpb24uaGFzaCA9PT0gYCMkeyBCQUNLR1JPVU5EX0hBU0h9YCkge1xuXHRcdHogPSAxMDAwMDtcblx0fVxuXG5cdGlmICh6ICE9PSB1bmRlZmluZWQpIHtcblx0XHQvLyBTZXQgdGhlIHotSW5kZXhcblx0XHR0aGlzLnNldFByb3BlcnR5KHpJbmRleCwgeik7XG5cdH1cblx0ZWxzZSB7XG5cdFx0Ly8gUmVtb3ZlIHRoZSB6LUluZGV4XG5cdFx0dGhpcy5yZW1vdmVQcm9wZXJ0eSh6SW5kZXgpO1xuXHR9XG59XG4iLCIvLyBDb2xsZWN0aW9uXG5cbmltcG9ydCBvbiBmcm9tICd0cmlja3MvZXZlbnRzL29uJztcbmNvbnN0IFVzZXJFdmVudHMgPSBbJ2NsaWNrJywgJ21vdXNlZG93bicsICdtb3VzZXVwJywgJ21vdXNlb3ZlcicsICdtb3VzZW1vdmUnLCAnbW91c2VvdXQnLCAndG91Y2htb3ZlJywgJ3RvdWNoc3RhcnQnLCAndG91Y2hlbmQnLCAnZnJhbWUnXTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29sbGVjdGlvbiB7XG5cblx0Y29uc3RydWN0b3IodGFyZ2V0KSB7XG5cdFx0Ly8gQ3JlYXRlIGFuIGVtcHR5IGNoaWxkcmVuXG5cdFx0dGhpcy5jaGlsZHJlbiA9IFtdO1xuXG5cdFx0Ly8gRXZlbnRzXG5cdFx0dGhpcy5ldmVudHMgPSBbXTtcblxuXHRcdC8vIHNldHVwIHRoZSBjYW52YXMgZWxlbWVudFxuXHRcdHRoaXMuaW5pdCh0YXJnZXQpO1xuXHR9XG5cblx0Ly8gbGlzdGVuIHRvIGNhbnZhcyBldmVudHNcblx0aW5pdCAodGFyZ2V0KSB7XG5cblx0XHQvLyBEZWZpbmUgdGhlIGNhbnZhcyBvYmplY3QgYXMgdGhlIHRhcmdldCBmb3IgdGhlIGNvbGxlY3Rpb25cblx0XHR0aGlzLnRhcmdldCA9IHRhcmdldDtcblxuXHRcdC8vIERlZmluZSB0aGUgQ1RYXG5cdFx0dGhpcy5jdHggPSB0YXJnZXQuZ2V0Q29udGV4dCgnMmQnKTtcblxuXHRcdC8vIGxpc3RlbiB0byB1c2VyIGludGVyYWN0aXZlIGV2ZW50cyBhbmQgdHJpZ2dlciB0aG9zZSBvbiBpdGVtc1xuXHRcdG9uKHRhcmdldCwgVXNlckV2ZW50cy50b1N0cmluZygpLCB0aGlzLl9maW5kQW5kRGlzcGF0Y2guYmluZCh0aGlzKSwge3Bhc3NpdmU6IHRydWV9KTtcblxuXHR9XG5cblx0cHVzaChpdGVtKSB7XG5cdFx0aXRlbS5kaXJ0eSA9IHRydWU7XG5cblx0XHQvLyBJcyB0aGlzIGl0ZW0gYWxyZWFkeSBpbiB0aGUgY29sbGVjdGlvbj9cblx0XHRpZiAodGhpcy5jaGlsZHJlbi5pbmRleE9mKGl0ZW0pID09PSAtMSkge1xuXHRcdFx0aWYgKGl0ZW0uc2V0dXApIHtcblx0XHRcdFx0aXRlbS5zZXR1cCh0aGlzKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gaXRlbS5hZGRFdmVudExpc3RlbmVyKCdkaXJ0eScsIHRoaXMucHJlcGFyZUNoaWxkLmJpbmQodGhpcywgaXRlbSkpO1xuXHRcdFx0dGhpcy5jaGlsZHJlbi5wdXNoKGl0ZW0pO1xuXHRcdH1cblx0fVxuXG5cdGZpbmRJbmRleChmbikge1xuXHRcdHJldHVybiB0aGlzLmNoaWxkcmVuLmZpbmRJbmRleChmbik7XG5cdH1cblxuXHRmaW5kKGZuKSB7XG5cdFx0cmV0dXJuIHRoaXMuY2hpbGRyZW4uZmluZChmbik7XG5cdH1cblxuXHRnZXQgbGVuZ3RoICgpIHtcblx0XHRyZXR1cm4gdGhpcy5jaGlsZHJlbi5sZW5ndGg7XG5cdH1cblx0c2V0IGxlbmd0aCAodikge1xuXHRcdHJldHVybiB0aGlzLmNoaWxkcmVuLmxlbmd0aCA9IHY7XG5cdH1cblxuXG5cdC8vIFRvdWNoXG5cdC8vIE1hcmsgaXRlbXMgYW5kIG9iamVjdHMgaW4gdGhlIHNhbWUgc3BhY2UgdG8gYmUgcmVkcmF3blxuXHRwcmVwYXJlKCkge1xuXHRcdHRoaXMuY2hpbGRyZW4uZm9yRWFjaChpdGVtID0+IHtcblx0XHRcdGlmIChpdGVtLmRpcnR5ID09PSB0cnVlKVxuXHRcdFx0XHR0aGlzLnByZXBhcmVDaGlsZChpdGVtKTtcblx0XHR9KTtcblx0fVxuXG5cdC8vIENsZWFuIEl0ZW1cblx0cHJlcGFyZUNoaWxkKGl0ZW0pIHtcblxuXHRcdGNvbnN0IGN0eCA9IHRoaXMuY3R4O1xuXG5cdFx0aWYgKGl0ZW0uZGlydHkgPT09ICdwZW5kaW5nJykge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIE1hcmsgdGhpcyBpdGVtIGFzIGRpcnR5XG5cdFx0aXRlbS5kaXJ0eSA9ICdwZW5kaW5nJztcblxuXHRcdC8vIFJlbW92ZSBmcm9tIENhbnZhc1xuXHRcdGN0eC5jbGVhclJlY3QoaXRlbS54LCBpdGVtLnksIGl0ZW0udywgaXRlbS5oKTtcblxuXHRcdC8vIElmIHRoZSBpdGVtcyBvbGQgcG9zaXRpb24gaXMgZGlmZmVyZW50XG5cdFx0aWYgKGl0ZW0ucHJldmlvdXMgJiYgZGlzcGxhY2VkKGl0ZW0ucHJldmlvdXMsIGl0ZW0pKSB7XG5cdFx0XHRjdHguY2xlYXJSZWN0KGl0ZW0ucHJldmlvdXMueCwgaXRlbS5wcmV2aW91cy55LCBpdGVtLnByZXZpb3VzLncsIGl0ZW0ucHJldmlvdXMuaCk7XG5cdFx0fVxuXG5cdFx0Ly8gTG9vcCB0aG91Z2ggb2JqZWN0cyBhbmQgcmVkcmF3IHRob3NlIHRoYXQgZXhpc3Qgd2l0aGluIHRoZSBwb3NpdGlvblxuXHRcdHRoaXMuY2hpbGRyZW4uZm9yRWFjaCh0aGlzLl9wcmVwYXJlU2libGluZ3MuYmluZCh0aGlzLCBpdGVtKSk7XG5cdH1cblxuXHRfcHJlcGFyZVNpYmxpbmdzKGl0ZW0sIHNpYmxpbmcpIHtcblxuXHRcdC8vIERvZXMgdGhpcyBPYmplY3Qgb3ZlcmxhcCB3aXRoIHRoZSBmb2N1c2VkIG9iamVjdD9cblx0XHRpZiAoIXNpYmxpbmcuZGlydHkgJiYgc2libGluZy52aXNpYmxlICE9PSBmYWxzZSAmJiAoaW50ZXJzZWN0KHNpYmxpbmcsIGl0ZW0pIHx8IChpdGVtLnBhc3QgPyBpbnRlcnNlY3Qoc2libGluZywgaXRlbS5wYXN0KSA6IGZhbHNlKSkpIHtcblx0XHRcdC8vIE5lc3RlZCBjbGVhblxuXHRcdFx0dGhpcy5wcmVwYXJlQ2hpbGQoc2libGluZyk7XG5cdFx0fVxuXHR9XG5cblx0c29ydCgpIHtcblx0XHQvLyBTb3J0IGl0ZW1zIGJ5IHotaW5kZXhcblx0XHR0aGlzLmNoaWxkcmVuLnNvcnQoKGEsIGIpID0+IHtcblx0XHRcdGEgPSBhLnpJbmRleCB8fCAwO1xuXHRcdFx0YiA9IGIuekluZGV4IHx8IDA7XG5cdFx0XHRyZXR1cm4gKyhhID4gYikgfHwgLShhIDwgYik7XG5cdFx0fSk7XG5cdH1cblxuXHQvLyBUcmlnZ2VyIHRoZSBkcmF3IGZ1bmN0aW9uXG5cdGRyYXcoKSB7XG5cblx0XHRjb25zdCBjdHggPSB0aGlzLmN0eDtcblxuXHRcdC8vIEZpbmQgaXRlbXMgdGhhdCBoYXZlIGNoYW5nZWRcblx0XHQvLyBSZW1vdmUgYmFja2dyb3VuZFxuXHRcdHRoaXMuY2hpbGRyZW4uZm9yRWFjaChpdGVtID0+IHtcblxuXHRcdFx0aWYgKGl0ZW0uZnJhbWUpIHtcblx0XHRcdFx0aXRlbS5mcmFtZShjdHgpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoaXRlbS5kaXJ0eSAmJiBpdGVtLnZpc2libGUgIT09IGZhbHNlKSB7XG5cdFx0XHRcdGl0ZW0uZHJhdyhjdHgpO1xuXHRcdFx0fVxuXG5cdFx0XHRpdGVtLmRpcnR5ID0gZmFsc2U7XG5cdFx0fSk7XG5cdH1cblxuXHRlbGVtZW50RnJvbVBvaW50KHgsIHkpIHtcblxuXHRcdGxldCB0YXJnZXQ7XG5cblx0XHQvLyBGaW5kIHRoZSBjYW52YXMgaXRlbSB3aGljaCB0aGlzIHRhcmdldHM/XG5cdFx0Y29uc3Qgb2JqID0ge1xuXHRcdFx0eCxcblx0XHRcdHksXG5cdFx0XHR3OiAxLFxuXHRcdFx0aDogMVxuXHRcdH07XG5cblx0XHR0aGlzLmNoaWxkcmVuLmZvckVhY2goaXRlbSA9PiB7XG5cblx0XHRcdGlmIChpdGVtLnZpc2libGUgPT09IGZhbHNlIHx8ICFpdGVtLncgfHwgIWl0ZW0uaCB8fCBpdGVtLnBvaW50ZXJFdmVudHMgPT09IGZhbHNlKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSXMgdGhpcyBhIHRhcmdldD9cblx0XHRcdGlmIChpbnRlcnNlY3Qob2JqLCBpdGVtKSkge1xuXHRcdFx0XHQvLyBEZWZpbmUgdGhpcyBhcyBhIHRhcmdldFxuXHRcdFx0XHR0YXJnZXQgPSBpdGVtO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHRhcmdldDtcblx0fVxuXG5cdC8vIFRoZSB1c2VyIGhhcyBjbGlja2VkIGFuIGl0ZW0gb24gdGhlIHBhZ2Vcblx0YWRkRXZlbnRMaXN0ZW5lcihldmVudG5hbWUsIGhhbmRsZXIpIHtcblxuXHRcdC8vIEFkZCB0byB0aGUgZXZlbnRzIGxpc3Rcblx0XHRpZiAoIShldmVudG5hbWUgaW4gdGhpcy5ldmVudHMpKSB7XG5cdFx0XHR0aGlzLmV2ZW50c1tldmVudG5hbWVdID0gW107XG5cdFx0fVxuXG5cdFx0dGhpcy5ldmVudHNbZXZlbnRuYW1lXS5wdXNoKGhhbmRsZXIpO1xuXHR9XG5cblx0Ly8gRGlzcGF0Y2hcblx0ZGlzcGF0Y2hFdmVudChlKSB7XG5cdFx0aWYgKGUudHlwZSBpbiB0aGlzLmV2ZW50cylcblx0XHRcdHRoaXMuZXZlbnRzW2UudHlwZV0uZm9yRWFjaChoYW5kbGVyID0+IGhhbmRsZXIoZSkpO1xuXHR9XG5cblx0Ly8gRmluZCBhbmQgX2Rpc3BhdGNoXG5cdF9maW5kQW5kRGlzcGF0Y2goZSkge1xuXHRcdC8vIElmIHRoaXMgaXMgbm90IGEgcG9pbnRlckV2ZW50IGxldHMganVzdCBwYXNzIGl0IHRocm91Z2guXG5cdFx0aWYgKCh0eXBlb2YgTW91c2VFdmVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgZSBpbnN0YW5jZW9mIE1vdXNlRXZlbnQpIHx8XG5cdFx0XHQodHlwZW9mIFRvdWNoRXZlbnQgIT09ICd1bmRlZmluZWQnICYmIGUgaW5zdGFuY2VvZiBUb3VjaEV2ZW50KSkge1xuXG5cdFx0XHQvLyBGaW5kIHRoZSBjYW52YXMgaXRlbSB3aGljaCB0aGlzIHRhcmdldHM/XG5cdFx0XHRjb25zdCBvYmogPSB7XG5cdFx0XHRcdHg6IGUub2Zmc2V0WCxcblx0XHRcdFx0eTogZS5vZmZzZXRZLFxuXHRcdFx0XHR3OiAxLFxuXHRcdFx0XHRoOiAxXG5cdFx0XHR9O1xuXG5cdFx0XHR0aGlzLmNoaWxkcmVuLmZvckVhY2goaXRlbSA9PiB7XG5cblx0XHRcdFx0aWYgKCFpdGVtLnZpc2libGUgfHwgIWl0ZW0udyB8fCAhaXRlbS5oIHx8ICFpdGVtLnBvaW50ZXJFdmVudHMpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBJbnRlcnNlY3RzP1xuXHRcdFx0XHRpbnRlcnNlY3Qob2JqLCBpdGVtKSAmJiBpdGVtLmRpc3BhdGNoRXZlbnQoZSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cbn1cblxuXG4vLyBJbnRlcnNlY3Rcbi8vIEdpdmVuIHR3byBvYmplY3RzIHdpdGgsIHgseSx3LGggcHJvcGVydGllc1xuLy8gRG8gdGhlaXIgcmVjdGFuZ3VsYXIgZGltZW5zaW9ucyBpbnRlcnNlY3Q/XG4vLyByZXR1cm4gQm9vbGVhbiB0cnVlIGZhbHNlLlxuZnVuY3Rpb24gaW50ZXJzZWN0KGEsIGIpIHtcblx0cmV0dXJuICEoYS54ID4gKGIueCArIGIudykgfHxcblx0KGEueCArIGEudykgPCBiLnggfHxcblx0YS55ID4gKGIueSArIGIuaCkgfHxcblx0KGEueSArIGEuaCkgPCBiLnkpO1xufVxuXG5mdW5jdGlvbiBkaXNwbGFjZWQoYSwgYikge1xuXHRyZXR1cm4gKGEueCAhPT0gYi54IHx8XG5cdGEueSAhPT0gYi55IHx8XG5cdGEudyAhPT0gYi53IHx8XG5cdGEuaCAhPT0gYi5oKTtcbn1cbiJdfQ=="}