{"version":3,"sources":["dist/node_modules/browser-pack/_prelude.js","dist/node_modules/tricks/array/toArray.js","dist/node_modules/tricks/dom/each.js","dist/node_modules/tricks/dom/isDom.js","dist/node_modules/tricks/events/createDummyEvent.js","dist/node_modules/tricks/events/createEvent.js","dist/node_modules/tricks/events/on.js","dist/node_modules/tricks/events/swipe.js","dist/node_modules/tricks/events/touch.js","dist/node_modules/tricks/object/Queue.js","dist/node_modules/tricks/object/instanceOf.js","dist/node_modules/tricks/support/requestAnimationFrame.js","dist/src/classes/background.js","dist/src/classes/canvas.js","dist/src/classes/collection.js","dist/src/classes/rect.js","dist/src/classes/shape.js","dist/src/classes/text.js","dist/src/tetris.js"],"names":[],"mappings":"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","file":"tetris.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","module.exports = obj => Array.prototype.slice.call(obj);\n","const isDom = require('./isDom.js');\nconst instanceOf = require('../object/instanceOf.js');\nconst toArray = require('../array/toArray.js');\n\nmodule.exports = (matches, callback = () => {}) => {\n\n\tif (isDom(matches)) {\n\t\tmatches = [matches];\n\t}\n\telse if (typeof(matches) === 'string') {\n\t\tmatches = document.querySelectorAll(matches);\n\t}\n\n\tif (!instanceOf(matches, Array)) {\n\t\tmatches = toArray(matches);\n\t}\n\n\tif (callback) {\n\t\tmatches.forEach(callback);\n\t}\n\n\treturn matches;\n};\n","const instanceOf = require('../object/instanceOf.js');\n\nconst _HTMLElement = typeof HTMLElement !== 'undefined' ? HTMLElement : Element;\nconst _HTMLDocument = typeof HTMLDocument !== 'undefined' ? HTMLDocument : Document;\nconst _Window = window.constructor;\n\nmodule.exports = test =>\n\tinstanceOf(test, _HTMLElement) ||\n\t\tinstanceOf(test, _HTMLDocument) ||\n\t\tinstanceOf(test, _Window)\n;\n","module.exports = e => {\n\te.stopPropagation = () => {};\n\te.preventDefault = () => {};\n\treturn e;\n};\n","// IE does not support `new Event()`\n// See https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Creating_and_triggering_events for details\nconst dict = {bubbles: true, cancelable: true};\n\nlet createEvent = (eventname, options = dict) =>\n\tnew Event(eventname, options);\n\ntry {\n\tcreateEvent('test');\n}\ncatch (e) {\n\tcreateEvent = (eventname, options = dict) => {\n\t\tconst e = document.createEvent('Event');\n\t\te.initEvent(eventname, !!options.bubbles, !!options.cancelable);\n\t\treturn e;\n\t};\n}\n\nmodule.exports = createEvent;\n","// on.js\n// Listen to events, this is a wrapper for addEventListener\n\nconst each = require('../dom/each.js');\nconst SEPERATOR = /[\\s,]+/;\n\n// See https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md#feature-detection\nlet supportsPassive = false;\ntry {\n\tconst opts = Object.defineProperty({}, 'passive', {\n\t\tget() {\n\t\t\tsupportsPassive = true;\n\t\t}\n\t});\n\twindow.addEventListener('test', null, opts);\n}\ncatch (e) {\n\t// Continue\n}\n\n\nmodule.exports = (elements, eventnames, callback, options = false) => {\n\n\tif (typeof options === 'object' && options.passive && !supportsPassive) {\n\t\t// Override the passive mark\n\t\toptions = false;\n\t}\n\n\teventnames = eventnames.split(SEPERATOR);\n\treturn each(elements, el => eventnames.forEach(eventname => el.addEventListener(eventname, callback, options)));\n};\n","// swipe\n// Checks for a swipe to the left or to the right\n\nconst touch = require('./touch.js');\nconst {gesture} = touch;\n\nmodule.exports = (elements, callback) =>\n\n\ttouch(elements, function(e, o, s) {\n\n\t\tgesture(e, s);\n\n\t\te.gesture.type = `drag${e.gesture.direction}`;\n\n\t\tcallback.call(this, e);\n\n\t},\n\tfunction (e) {\n\t\tgesture(e);\n\t\te.gesture.type = 'start';\n\t\tcallback.call(this, e);\n\t},\n\tfunction(e) {\n\n\t\tconst g = e.gesture;\n\n\t\t// How long did this operation take?\n\t\tif (g.deltaTime < 200 && g.distance > 20 && g.velocity > 0.3) {\n\t\t\tg.type = `swipe${g.direction}`;\n\t\t}\n\t\telse if (g.distance < 20) {\n\t\t\tg.type = 'click';\n\t\t}\n\t\telse {\n\t\t\tg.type = 'release';\n\t\t}\n\n\t\tcallback.call(this, e);\n\t})\n;\n","// Standardizes touch events\n// Calculate the difference from the starting position and the end position.\n// Returns a gesture object given\n\nconst on = require('./on.js');\nconst each = require('../dom/each.js');\n\n// Does this support pointer events?\nconst pointerEnabled = window.navigator.pointerEnabled;\nconst eventMoveTypes = pointerEnabled ? 'MSPointerMove pointerMove' : 'mousemove touchmove';\nconst eventStartTypes = pointerEnabled ? 'MSPointerDown pointerDown' : 'mousedown touchstart';\nconst eventEndTypes = pointerEnabled ? 'MSPointerUp pointerUp' : 'mouseup touchend touchcancel';\n\n// Touch\n// @param callback function - Every touch event fired\n// @param complete function- Once all touch event ends\nmodule.exports = (elements, onmove, onstart, onend) => {\n\n\t// Store callbacks, and previous pointer position\n\tconst cb = {};\n\tconst mv = {};\n\tconst fin = {};\n\n\ton(document, eventMoveTypes, moveEvent => {\n\n\t\t// Fix Android not firing multiple moves\n\t\t// if (e.type.match(/touch/i)) {\n\t\t// \te.preventDefault();\n\t\t// }\n\n\t\t// Pointer/Mouse down?\n\t\tif (voidEvent(moveEvent)) {\n\t\t\t// The mouse buttons isn't pressed, kill this\n\t\t\treturn;\n\t\t}\n\n\t\t// trigger the call\n\t\tconst i = moveEvent.pointerId || 0;\n\t\tconst handler = cb[i];\n\n\t\tif (handler && typeof(handler) === 'function') {\n\n\t\t\tconst prevEvent = mv[i];\n\n\t\t\t// Extend the Event Object with 'gestures'\n\t\t\tgesture(moveEvent, prevEvent);\n\n\t\t\t// Trigger callback\n\t\t\thandler(moveEvent, prevEvent);\n\t\t}\n\n\t\tmv[i] = moveEvent;\n\t});\n\n\ton(document, eventEndTypes, e => {\n\n\t\tconst i = e.pointerId || 0;\n\t\tcb[i] = null;\n\n\t\tif (e.type === 'touchend' || e.type === 'touchcancel') {\n\t\t\te = mv[i];\n\t\t}\n\n\t\tconst handler = fin[i];\n\t\tif (handler) {\n\t\t\thandler(e);\n\t\t}\n\n\t\tfin[i] = null;\n\t});\n\n\t// loop through and add events\n\teach(elements, element => {\n\n\t\t// bind events\n\t\t// on(element, 'touchend', e => {\n\t\t// \tconsole.log('el:touchend');\n\t\t// \tconsole.log(e);\n\t\t// });\n\n\t\ton(element, 'selectstart', () => false);\n\n\t\ton(element, eventStartTypes, startEvent => {\n\n\t\t\t// default pointer ID\n\t\t\tconst i = startEvent.pointerId || 0;\n\n\t\t\t// Add Gestures to event Object\n\t\t\tgesture(startEvent);\n\n\t\t\tmv[i] = startEvent;\n\t\t\tcb[i] = (moveEvent, prevMoveEvent) => {\n\t\t\t\tonmove.call(element, moveEvent, prevMoveEvent, startEvent);\n\t\t\t};\n\n\t\t\tif (onend) {\n\t\t\t\tfin[i] = endEvent => {\n\n\t\t\t\t\t// Add Gestures to event Object\n\t\t\t\t\tgesture(endEvent, startEvent);\n\n\t\t\t\t\t// fire complete callback\n\t\t\t\t\tonend.call(element, endEvent, startEvent);\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// trigger start\n\t\t\tif (onstart) {\n\t\t\t\tonstart.call(element, startEvent);\n\t\t\t}\n\t\t});\n\t});\n};\n\nfunction gesture(currEvent, prevEvent) {\n\n\t// Response Object\n\tcurrEvent.gesture = {};\n\n\tif (currEvent && currEvent.touches && currEvent.touches.length > 0) {\n\t\tcurrEvent.gesture.touches = currEvent.touches;\n\t}\n\telse {\n\t\tcurrEvent.gesture.touches = [currEvent];\n\t}\n\n\tcurrEvent.gesture.screenX = currEvent.gesture.touches[0].screenX;\n\tcurrEvent.gesture.screenY = currEvent.gesture.touches[0].screenY;\n\n\tif (!('screenX' in currEvent)) {\n\t\tcurrEvent.screenX = currEvent.gesture.screenX;\n\t}\n\tif (!('screenY' in currEvent)) {\n\t\tcurrEvent.screenY = currEvent.gesture.screenY;\n\t}\n\n\t// If the second parameter isn't defined then we're unable to define getures\n\t// But if it is then whoop, lets go.\n\tif (prevEvent) {\n\n\t\tcurrEvent.gesture.deltaTime = (currEvent.timeStamp - prevEvent.timeStamp);\n\n\t\tconst dx = currEvent.gesture.deltaX = currEvent.gesture.screenX - prevEvent.gesture.screenX;\n\t\tconst dy = currEvent.gesture.deltaY = currEvent.gesture.screenY - prevEvent.gesture.screenY;\n\n\t\t// Which is the best direction for the gesture?\n\t\tif (Math.abs(dy) > Math.abs(dx)) {\n\t\t\tcurrEvent.gesture.direction = (dy > 0 ? 'up' : 'down');\n\t\t}\n\t\telse {\n\t\t\tcurrEvent.gesture.direction = (dx > 0 ? 'right' : 'left');\n\t\t}\n\n\t\t// Distance\n\t\tcurrEvent.gesture.distance = Math.sqrt((dx * dx) + (dy * dy));\n\n\t\t// Velocity\n\t\tcurrEvent.gesture.velocity = currEvent.gesture.distance / currEvent.gesture.deltaTime;\n\t}\n}\n\nmodule.exports.gesture = gesture;\n\nfunction voidEvent(event) {\n\tconst type = event.pointerType || event.type;\n\treturn (type.match(/mouse/i) && (event.which || event.buttons) !== 1);\n}\n","// Create a queuing function\n// Queues items in an Array like function until a handler has been defined\n// Then each item will be processed against the handler.\n// Useful for creating Global Asynchronous Queues, as can be retro fitted to existing arrays.\n\nmodule.exports = class Queue {\n\n\tconstructor (arr, handler) {\n\t\tthis.items = (Array.isArray(arr) ? arr : []);\n\t\tthis.handler = handler;\n\t}\n\n\t// Mimic the Array.push function\n\tpush (...args) {\n\n\t\t// Append items to the internal array.\n\t\targs.forEach(item => this.items.push(item));\n\n\t\t// Trigger the custom handler\n\t\tif (this._handler) {\n\t\t\targs.forEach(item => this._handler(item));\n\t\t}\n\t}\n\n\t// Mimic the length\n\tget length () {\n\t\treturn this.items.length;\n\t}\n\tset length (value) {\n\t\treturn this.items.length = value;\n\t}\n\n\t// Set the item handler\n\tget handler () {\n\t\treturn this._handler;\n\t}\n\n\tset handler (callback) {\n\n\t\tthis._handler = callback;\n\n\t\tif (this._handler) {\n\t\t\tthis.items.forEach(item => this._handler(item));\n\t\t}\n\t}\n};\n","module.exports = (test, root) => root && test instanceof root;\n","// requestAnimationFrame polyfill\nwindow.requestAnimationFrame =\n\twindow.requestAnimationFrame ||\n\twindow.webkitRequestAnimationFrame ||\n\twindow.mozRequestAnimationFrame ||\n\twindow.oRequestAnimationFrame ||\n\twindow.msRequestAnimationFrame ||\n\t(callback => setTimeout(callback, 1000 / 60));\n\nmodule.exports = window.requestAnimationFrame.bind(window);\n","// Background\n// Exposes the basic properties/methods of a controllable background\n\nimport Queue from 'tricks/object/Queue';\n\n// Extract the window.background items\nconst queue = window.background = new Queue(window.background);\n\nfunction queueHandler(callback) {\n\t// Each item in the queue should be a function\n\tcallback(Background);\n}\n\nexport default class Background {\n\n\tstatic add(stage) {\n\t\t// Store the\n\t\tBackground.stages.push(stage);\n\n\t\t// Trigger ready if it has not already been set\n\t\tif (Background.stages.length === 1) {\n\t\t\t// Initiate the queue\n\t\t\tqueue.handler = queueHandler;\n\t\t}\n\t}\n\n\t// Create a new instance of a stage\n\tstatic init(target) {\n\t\t// Get the default stage which has been registered with this class\n\t\tconst stage = Background.stages[0];\n\n\t\t// Return instance\n\t\tif (stage) {\n\t\t\treturn new stage(target);\n\t\t}\n\t}\n}\n\nBackground.stages = [];\n","// Setup\n// This constructs the canvas object\n\n// Includes\nimport 'tricks/support/requestAnimationFrame';\nimport createEvent from 'tricks/events/createEvent';\nimport createDummyEvent from 'tricks/events/createDummyEvent';\nimport on from 'tricks/events/on';\nimport swipe from 'tricks/events/swipe';\n\n// Constants\nconst BACKGROUND_HASH = 'background';\nconst UserEvents = ['click', 'mousedown', 'mouseup', 'mouseover', 'mousemove', 'mouseout', 'frame', 'resize', 'keydown'];\nconst TouchEvents = ['touchmove', 'touchstart', 'touchend'];\n\nconst EVENT_SEPARATOR = /[\\s\\,]+/;\n\nexport default class Canvas {\n\n\t// Construct the Canvas Element\n\t// @param canvas should be an root element container for this imagery.\n\tconstructor(canvas) {\n\n\t\tlet parent;\n\n\t\t// events\n\t\tthis.events = {};\n\n\t\t// browser check\n\t\tif (!('getContext' in document.createElement('canvas'))) {\n\t\t\t// browser doesn't support canvas\n\t\t\treturn;\n\t\t}\n\n\t\tif (!(canvas && canvas instanceof HTMLCanvasElement)) {\n\n\t\t\t// Set the parent\n\t\t\tparent = canvas;\n\n\t\t\t// Create the canvas layer\n\t\t\tcanvas = document.createElement('canvas');\n\t\t\tcanvas.style.backgroundColor = 'white';\n\n\t\t\t// Not a parent\n\t\t\tif (!parent) {\n\t\t\t\t// Append to the body\n\t\t\t\tparent = document.body;\n\t\t\t\tcanvas.style.cssText = 'position:fixed;z-index:-1;top:0;left:0;';\n\t\t\t\tcanvas.setAttribute('tabindex', 0);\n\n\t\t\t\tdocument.documentElement.style.cssText = 'min-height:100%;';\n\t\t\t\tdocument.body.style.cssText = 'min-height:100%;';\n\n\t\t\t\t// Bind window resize events\n\t\t\t\twindow.addEventListener('resize', this.resize.bind(this));\n\t\t\t}\n\n\t\t\t// Append this element\n\t\t\tparent.insertBefore(canvas, parent.firstElementChild);\n\n\t\t\tthis.target = canvas;\n\n\t\t\tthis.resize();\n\t\t}\n\t\telse {\n\t\t\tthis.target = canvas;\n\t\t\tparent = canvas.parentNode;\n\t\t}\n\n\t\tthis.ctx = canvas.getContext('2d');\n\n\t\t// Set initial save point\n\t\tthis.ctx.save();\n\n\t\t// Initiate the time\n\t\tthis._time = 0;\n\t\tthis._fps = 0;\n\n\t\t// Initiate the draw\n\t\tthis.draw();\n\n\t\t// Bind events\n\t\ton(this.target, UserEvents.toString(), this.dispatchEvent.bind(this), {passive: true});\n\n\t\t// Format Touch events\n\t\ton(this.target, TouchEvents.toString(), this.dispatchTouchEvent.bind(this), {passive: true});\n\n\t\t// In IE user-events aren't propagated to elements which have negative z-Index's\n\t\t// Listen to events on the document element and propagate those accordingly\n\t\tif (parent === document.body && canvas.style.getPropertyValue('z-index') === '-1') {\n\t\t\t// Bind events\n\t\t\ton(document, UserEvents.toString(), this.dispatchEvent.bind(this), {passive: true});\n\n\t\t\t// Format Touch events\n\t\t\ton(document, TouchEvents.toString(), this.dispatchTouchEvent.bind(this), {passive: true});\n\t\t}\n\n\t\t// Listen to hashChange events\n\t\t{\n\t\t\t// HASH CHANGE DEPTH\n\t\t\tconst style = this.target.style;\n\t\t\tconst initialZ = style.getPropertyValue('z-index');\n\t\t\t// Listen to changes to the background hash to bring the canvas element to the front\n\t\t\twindow.addEventListener('hashchange', hashchange.bind(style, initialZ));\n\n\t\t\thashchange.call(style, initialZ);\n\t\t}\n\n\t\t// Is there a swipe method handler\n\t\tif (this.swipe) {\n\t\t\t// Bind the swipe event handler to the event\n\t\t\tswipe(this.target, this.swipe.bind(this));\n\t\t}\n\t}\n\n\t// ensure its keeping up.\n\tget width() {\n\t\treturn this.target.width;\n\t}\n\tset width(value) {\n\t\tthis.target.width = value;\n\t\treturn value;\n\t}\n\n\tget height() {\n\t\treturn this.target.height;\n\t}\n\tset height(value) {\n\t\tthis.target.height = value;\n\t\treturn value;\n\t}\n\tget fps() {\n\t\treturn this._fps;\n\t}\n\tset fps(value) {\n\n\t\tthis._fps = value;\n\n\t\tconst now = (new Date()).getTime();\n\n\t\tif ((now - this._time) > 1000) {\n\t\t\t// console.log('fps: %d', this._fps);\n\t\t\tthis._time = now;\n\t\t\tthis._fps = 0;\n\t\t}\n\t}\n\n\n\tresize() {\n\t\tconst parent = (this.target.parentNode === document.body) ? document.documentElement : this.target.parentNode;\n\t\tconst height = parent.clientHeight;\n\t\tconst width = parent.clientWidth;\n\t\tlet changed = false;\n\n\t\tif (this.width !== width) {\n\t\t\tchanged = true;\n\t\t\tthis.width = width;\n\t\t}\n\t\tif (this.height !== height) {\n\t\t\tchanged = true;\n\t\t\tthis.height = height;\n\t\t}\n\n\t\tif (changed) {\n\t\t\tthis.target.dispatchEvent(createEvent('resize'));\n\t\t}\n\t}\n\n\tclear() {\n\t\tthis.ctx.clearRect(0, 0, this.target.width, this.target.height);\n\t}\n\n\t// Bring the content of the canvas to the front\n\tbringToFront() {\n\n\t\t// Update the window.location with the hash #background\n\t\twindow.location.hash = BACKGROUND_HASH;\n\t}\n\n\t// Trigger the draw function\n\tdraw() {\n\n\t\t// Increment the number of frames\n\t\tthis.fps++;\n\n\t\t// Call the frame function in the context of the frame to draw\n\t\tthis.target.dispatchEvent(createEvent('frame'));\n\n\t\t// Request another frame\n\t\trequestAnimationFrame(this.draw.bind(this));\n\t}\n\n\t// The user has clicked an item on the page\n\taddEventListener(eventnames, handler) {\n\n\t\teventnames.split(EVENT_SEPARATOR).forEach(eventname => {\n\t\t\t// Add to the events list\n\t\t\tif (!(eventname in this.events)) {\n\t\t\t\tthis.events[eventname] = [];\n\t\t\t}\n\n\t\t\tthis.events[eventname].push(handler);\n\t\t});\n\t}\n\n\t// Dispatch\n\tdispatchEvent(e) {\n\n\t\tif (e.type in this.events) {\n\n\t\t\tconst target = e.currentTarget;\n\n\t\t\t// This was triggered using event delegation, aka in the background\n\t\t\tif (target === document) {\n\n\t\t\t\te = createDummyEvent({\n\t\t\t\t\ttype: e.type,\n\t\t\t\t\ttarget: this.target,\n\t\t\t\t\toffsetX: e.pageX || e.offsetX,\n\t\t\t\t\toffsetY: e.pageY || e.offsetY\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.events[e.type].forEach(handler => handler(e));\n\t\t\te.stopPropagation();\n\t\t}\n\t}\n\n\t// Dispatch\n\tdispatchTouchEvent(e) {\n\t\t// If this was a touch event\n\t\t// Determine the offset to the canvas element relative to the item being clicked\n\t\tconst touch = (e.touches || e.changedTouches)[0];\n\t\tif (touch) {\n\t\t\te.offsetX = Math.abs(touch.pageX || touch.screenX);\n\t\t\te.offsetY = Math.abs(touch.pageY || touch.screenY);\n\t\t}\n\n\t\tthis.dispatchEvent(e);\n\t}\n}\n\n\nfunction hashchange(z) {\n\n\tconst zIndex = 'z-index';\n\n\tif (window.location.hash === `#${ BACKGROUND_HASH}`) {\n\t\tz = 10000;\n\t}\n\n\tif (z !== undefined) {\n\t\t// Set the z-Index\n\t\tthis.setProperty(zIndex, z);\n\t}\n\telse {\n\t\t// Remove the z-Index\n\t\tthis.removeProperty(zIndex);\n\t}\n}\n","// Collection\n\nimport on from 'tricks/events/on';\nconst UserEvents = ['click', 'mousedown', 'mouseup', 'mouseover', 'mousemove', 'mouseout', 'touchmove', 'touchstart', 'touchend', 'frame'];\n\nexport default class Collection {\n\n\tconstructor(target) {\n\t\t// Create an empty children\n\t\tthis.children = [];\n\n\t\t// Events\n\t\tthis.events = [];\n\n\t\t// setup the canvas element\n\t\tthis.init(target);\n\t}\n\n\t// listen to canvas events\n\tinit (target) {\n\n\t\t// Define the canvas object as the target for the collection\n\t\tthis.target = target;\n\n\t\t// Define the CTX\n\t\tthis.ctx = target.getContext('2d');\n\n\t\t// listen to user interactive events and trigger those on items\n\t\ton(target, UserEvents.toString(), this._findAndDispatch.bind(this), {passive: true});\n\n\t}\n\n\tpush(item) {\n\t\titem.dirty = true;\n\n\t\t// Is this item already in the collection?\n\t\tif (this.children.indexOf(item) === -1) {\n\t\t\tif (item.setup) {\n\t\t\t\titem.setup(this);\n\t\t\t}\n\n\t\t\t// item.addEventListener('dirty', this.prepareChild.bind(this, item));\n\t\t\tthis.children.push(item);\n\t\t}\n\t}\n\n\tfindIndex(fn) {\n\t\treturn this.children.findIndex(fn);\n\t}\n\n\tfind(fn) {\n\t\treturn this.children.find(fn);\n\t}\n\n\tget length () {\n\t\treturn this.children.length;\n\t}\n\tset length (v) {\n\t\treturn this.children.length = v;\n\t}\n\n\n\t// Touch\n\t// Mark items and objects in the same space to be redrawn\n\tprepare() {\n\t\tthis.children.forEach(item => {\n\t\t\tif (item.dirty === true)\n\t\t\t\tthis.prepareChild(item);\n\t\t});\n\t}\n\n\t// Clean Item\n\tprepareChild(item) {\n\n\t\tconst ctx = this.ctx;\n\n\t\tif (item.dirty === 'pending') {\n\t\t\treturn;\n\t\t}\n\n\t\t// Mark this item as dirty\n\t\titem.dirty = 'pending';\n\n\t\t// Remove from Canvas\n\t\tctx.clearRect(item.x, item.y, item.w, item.h);\n\n\t\t// If the items old position is different\n\t\tif (item.previous && displaced(item.previous, item)) {\n\t\t\tctx.clearRect(item.previous.x, item.previous.y, item.previous.w, item.previous.h);\n\t\t}\n\n\t\t// Loop though objects and redraw those that exist within the position\n\t\tthis.children.forEach(this._prepareSiblings.bind(this, item));\n\t}\n\n\t_prepareSiblings(item, sibling) {\n\n\t\t// Does this Object overlap with the focused object?\n\t\tif (!sibling.dirty && sibling.visible !== false && (intersect(sibling, item) || (item.past ? intersect(sibling, item.past) : false))) {\n\t\t\t// Nested clean\n\t\t\tthis.prepareChild(sibling);\n\t\t}\n\t}\n\n\tsort() {\n\t\t// Sort items by z-index\n\t\tthis.children.sort((a, b) => {\n\t\t\ta = a.zIndex || 0;\n\t\t\tb = b.zIndex || 0;\n\t\t\treturn +(a > b) || -(a < b);\n\t\t});\n\t}\n\n\t// Trigger the draw function\n\tdraw() {\n\n\t\tconst ctx = this.ctx;\n\n\t\t// Find items that have changed\n\t\t// Remove background\n\t\tthis.children.forEach(item => {\n\n\t\t\tif (item.frame) {\n\t\t\t\titem.frame(ctx);\n\t\t\t}\n\n\t\t\tif (item.dirty && item.visible !== false) {\n\t\t\t\titem.draw(ctx);\n\t\t\t}\n\n\t\t\titem.dirty = false;\n\t\t});\n\t}\n\n\telementFromPoint(x, y) {\n\n\t\tlet target;\n\n\t\t// Find the canvas item which this targets?\n\t\tconst obj = {\n\t\t\tx,\n\t\t\ty,\n\t\t\tw: 1,\n\t\t\th: 1\n\t\t};\n\n\t\tthis.children.forEach(item => {\n\n\t\t\tif (item.visible === false || !item.w || !item.h || item.pointerEvents === false) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Is this a target?\n\t\t\tif (intersect(obj, item)) {\n\t\t\t\t// Define this as a target\n\t\t\t\ttarget = item;\n\t\t\t}\n\t\t});\n\n\t\treturn target;\n\t}\n\n\t// The user has clicked an item on the page\n\taddEventListener(eventname, handler) {\n\n\t\t// Add to the events list\n\t\tif (!(eventname in this.events)) {\n\t\t\tthis.events[eventname] = [];\n\t\t}\n\n\t\tthis.events[eventname].push(handler);\n\t}\n\n\t// Dispatch\n\tdispatchEvent(e) {\n\t\tif (e.type in this.events)\n\t\t\tthis.events[e.type].forEach(handler => handler(e));\n\t}\n\n\t// Find and _dispatch\n\t_findAndDispatch(e) {\n\t\t// If this is not a pointerEvent lets just pass it through.\n\t\tif ((typeof MouseEvent !== 'undefined' && e instanceof MouseEvent) ||\n\t\t\t(typeof TouchEvent !== 'undefined' && e instanceof TouchEvent)) {\n\n\t\t\t// Find the canvas item which this targets?\n\t\t\tconst obj = {\n\t\t\t\tx: e.offsetX,\n\t\t\t\ty: e.offsetY,\n\t\t\t\tw: 1,\n\t\t\t\th: 1\n\t\t\t};\n\n\t\t\tthis.children.forEach(item => {\n\n\t\t\t\tif (!item.visible || !item.w || !item.h || !item.pointerEvents) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Intersects?\n\t\t\t\tintersect(obj, item) && item.dispatchEvent(e);\n\t\t\t});\n\t\t}\n\t}\n}\n\n\n// Intersect\n// Given two objects with, x,y,w,h properties\n// Do their rectangular dimensions intersect?\n// return Boolean true false.\nfunction intersect(a, b) {\n\treturn !(a.x > (b.x + b.w) ||\n\t(a.x + a.w) < b.x ||\n\ta.y > (b.y + b.h) ||\n\t(a.y + a.h) < b.y);\n}\n\nfunction displaced(a, b) {\n\treturn (a.x !== b.x ||\n\ta.y !== b.y ||\n\ta.w !== b.w ||\n\ta.h !== b.h);\n}\n","//\n// Rectangle\n//\n\nimport Shape from './shape';\n\nexport default class Rect extends Shape {\n\n\tconstructor(...args) {\n\t\tsuper(...args);\n\t}\n\n\tget fillStyle() {\n\t\treturn this._fillStyle;\n\t}\n\tset fillStyle(v) {\n\t\tif (this._fillStyle !== v) {\n\t\t\tthis.dirty = true;\n\t\t\tthis._fillStyle = v;\n\t\t}\n\t}\n\n\tget type() {\n\t\treturn 'rect';\n\t}\n\n\tdraw(ctx) {\n\n\t\tctx.save();\n\n\t\tif (this.dx || this.dy) {\n\t\t\tctx.translate(this.dx, this.dy);\n\t\t}\n\t\tctx.fillStyle = this.fillStyle;\n\t\tctx.fillRect(this.x, this.y, this.w, this.h);\n\t\tctx.restore();\n\t}\n}\n","// Shape\n// CanvasShapes\n// The parent object defining a basic shape, x,y,w,h, for starters.\n// And basic operatings you might like to include on a shape\nimport createEvent from 'tricks/events/createEvent';\n\nexport default class Shape {\n\n\tconstructor (...args) {\n\n\t\t// initieate  events\n\t\tthis.events = [];\n\n\t\t// Set previous\n\t\tthis.previous = {};\n\n\t\tif (args.length) {\n\t\t\t// Store the values\n\t\t\tthis.position(...args);\n\t\t}\n\t}\n\n//\tSet property listeners\n\tget x() {\n\t\treturn this._x;\n\t}\n\tset x(x) {\n\t\tthis.positionObj({x});\n\t}\n\n\tget y() {\n\t\treturn this._y;\n\t}\n\tset y(y) {\n\t\tthis.positionObj({y});\n\t}\n\n\tget w() {\n\t\treturn this._w;\n\t}\n\tset w(w) {\n\t\tthis.positionObj({w});\n\t}\n\n\tget h() {\n\t\treturn this._h;\n\t}\n\tset h(h) {\n\t\tthis.positionObj({h});\n\t}\n\n\tget dx() {\n\t\treturn this._dx;\n\t}\n\tset dx(v) {\n\t\tif (this._dx !== v) {\n\t\t\tthis.dirty = true; this._dx = v;\n\t\t}\n\t}\n\n\tget dy() {\n\t\treturn this._dy;\n\t}\n\tset dy(v) {\n\t\tif (this._dy !== v) {\n\t\t\tthis.dirty = true; this._dy = v;\n\t\t}\n\t}\n\n\tget visible() {\n\t\treturn (this._visible === undefined ? true : this._visible);\n\t}\n\tset visible(v) {\n\t\tif (this._visible !== v) {\n\t\t\tthis.dirty = true; this._visible = v;\n\t\t}\n\t}\n\n\tget opacity() {\n\t\treturn (this._opacity === undefined ? 1 : this._opacity);\n\t}\n\tset opacity(v) {\n\t\tif (this._opacity !== v) {\n\t\t\tthis.dirty = true; this._opacity = v;\n\t\t}\n\t}\n\n\tset dirty (v) {\n\t\t// Has this just been made dirty?\n\t\tif (!this._dirty && v) {\n\t\t\t// Mark as dirty\n\t\t\tthis._dirty = v;\n\n\t\t\t// Trigger a canvas clean\n\t\t\tthis.dispatchEvent(createEvent('dirty'));\n\t\t}\n\t\telse if (!v) {\n\t\t\t// reset\n\t\t\tthis._dirty = v;\n\n\t\t\t// Store the previous values\n\t\t\tthis.previous = {\n\t\t\t\tx: this._x,\n\t\t\t\ty: this._y,\n\t\t\t\tw: this._w,\n\t\t\t\th: this._h,\n\t\t\t};\n\t\t}\n\t}\n\tget dirty () {\n\t\treturn this._dirty;\n\t}\n\n\t// Let events bubble up\n\tget pointerEvents () {\n\t\treturn (this._pointerEvents === undefined ? 1 : this._pointerEvents);\n\t}\n\tset pointerEvents (v) {\n\t\tthis._pointerEvents = v;\n\t}\n\n\t// Mark the shape as to be removed from the collection\n\tremove() {\n\t\tthis.dirty = true;\n\t\tthis.visible = false;\n\t}\n\n\tposition(x = 0, y = 0, w = 0, h = 0) {\n\n\t\t// Assign, rectangle shape\n\t\t// Have a backup footprint\n\t\tthis.positionObj({x, y, w, h});\n\t}\n\n\tpositionObj(coords) {\n\t\tfor (const coord in coords) {\n\t\t\tconst value = coords[coord];\n\t\t\tconst current = this[`_${coord}`];\n\t\t\tif (current !== value) {\n\t\t\t\tthis.dirty = true;\n\t\t\t\tthis[`_${coord}`] = value;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Placeholder function for drawing to canvas\n\tframe() {}\n\tdraw() {}\n\tsetup() {}\n\n\t// Events\n\t// Assign Events to be fired when the user clicks this object\n\t// Awesome\n\taddEventListener(eventName, callback) {\n\t\tif (!(eventName in this.events)) {\n\t\t\tthis.events[eventName] = [];\n\t\t}\n\t\tthis.events[eventName].push(callback);\n\t}\n\n\tdispatchEvent(e) {\n\t\tif (!(e.type in this.events)) {\n\t\t\treturn;\n\t\t}\n\t\tthis.events[e.type].forEach(fn => fn(e));\n\t}\n\n\t// Assign getters and setters to default properties\n\t_watchProperty(propName) {\n\t\tObject.defineProperty(this, propName, {\n\t\t\tget: this._getter.bind(this, propName),\n\t\t\tset: this._setter.bind(this, propName)\n\t\t});\n\t}\n\n\t_getter(propName) {\n\t\treturn this[`_${ propName}`];\n\t}\n\n\t_setter(propName, v) {\n\t\tif (this[`_${ propName}`] !== v) {\n\t\t\tthis.dirty = true;\n\t\t\tthis[`_${ propName}`] = v;\n\t\t}\n\t}\n}\n","// text\n// TextObject, defines a shape object which contains text.\n\nimport Shape from './shape';\n\nexport default class Text extends Shape {\n\n\t// Initiate a new shape object.\n\tconstructor (text) {\n\t\t// initiate inheritance\n\t\tsuper();\n\n\t\t// Watch the following properties for changes\n\t\t['text', 'shadowBlur', 'shadowColor', 'fillStyle', 'strokeStyle', 'textAlign', 'textBaseline', 'lineWidth'].forEach(this._watchProperty.bind(this));\n\n\t\t// Define text\n\t\tthis.text = text || '';\n\n\t\tthis.shadowColor = 'black';\n\t\tthis.fillStyle = 'black';\n\t\tthis.strokeStyle = 'white';\n\t\tthis.textAlign = 'left';\n\t\tthis.textBaseline = 'top';\n\t\tthis.lineWidth = 0;\n\t\tthis.align = 'left top';\n\t\tthis.fontSize = 30;\n\t}\n\n\t// Define the text and the alignment of the object\n\tcalc (canvas) {\n\n\t\t// Define text\n\t\t[this.textAlign, this.textBaseline] = this.align.split(' ');\n\n\t\tconst ctx = canvas.ctx;\n\t\tlet fontSize = this.fontSize;\n\n\t\t// Split text by line breaks\n\t\tthis.lines = this.text.toString().split('\\n');\n\n\t\t// Which is the longest line?\n\t\tlet _width = 0;\n\t\tlet default_text = this.lines[0];\n\n\t\tthis.lines.forEach(line => {\n\t\t\tconst _w = ctx.measureText(line).width;\n\t\t\tif (_w > _width) {\n\t\t\t\t_width = _w;\n\t\t\t\tdefault_text = line;\n\t\t\t}\n\t\t});\n\n\t\t// Find the width and height of the item\n\t\t// Using the canvas context\n\t\tctx.save();\n\n\t\tctx.shadowColor = 'black';\n\t\tctx.fillStyle = 'black';\n\t\tctx.strokeStyle = 'rgba(255,255,255,0.5)';\n\t\tctx.font = `bold ${ fontSize }px Arial`;\n\n\t\twhile (ctx.measureText(default_text).width > canvas.width) {\n\t\t\tfontSize *= 0.9;\n\t\t\tfontSize = Math.round(fontSize);\n\t\t\tctx.font = `bold ${ fontSize }px Arial`;\n\t\t}\n\n\t\tthis.shadowBlur = ctx.shadowBlur = Math.round(fontSize / 10);\n\t\tthis.fontSize = fontSize;\n\t\tthis.font = ctx.font;\n\n\t\tthis.w = ctx.measureText(default_text).width + (this.shadowBlur * 2);\n\t\tthis.h = (fontSize + (this.shadowBlur * 2)) * this.lines.length;\n\n\t\tctx.restore();\n\n\t\t// Store style attributes\n\t\t// Store the new attributes of the text item\n\t\tthis.lineWidth = Math.floor(fontSize / 60);\n\n\n\t\t// HEIGHT and WIDTH\n\t\tswitch (this.textAlign) {\n\t\t\tcase 'center':\n\t\t\tcase 'middle':\n\t\t\t\tthis.textAlign = 'center';\n\t\t\t\tthis.x = (canvas.width / 2) - (this.w / 2);\n\t\t\t\tbreak;\n\t\t\tcase 'left':\n\t\t\t\tthis.x = 0;\n\t\t\t\tbreak;\n\t\t\tcase 'right':\n\t\t\t\tthis.x = canvas.width - this.w;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tswitch (this.textBaseline) {\n\t\t\tcase 'center':\n\t\t\tcase 'middle':\n\t\t\t\tthis.textBaseline = 'middle';\n\t\t\t\tthis.y = (canvas.height / 2) - (this.h / 2);\n\t\t\t\tbreak;\n\t\t\tcase 'top':\n\t\t\t\tthis.y = 0;\n\t\t\t\tbreak;\n\t\t\tcase 'bottom':\n\t\t\t\tthis.y = canvas.height - this.h;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tthis.textAlign = 'left';\n\t\tthis.textBaseline = 'top';\n\n\t\tctx.restore();\n\t}\n\n\t// Draw\n\tdraw (ctx) {\n\n\t\tctx.save();\n\n\t\tctx.globalAlpha = this.opacity;\n\n\t\tctx.shadowColor = this.shadowColor;\n\t\tif (this.shadowBlur) {\n\t\t\tctx.shadowBlur = this.shadowBlur;\n\t\t}\n\t\tctx.fillStyle = this.fillStyle;\n\t\tctx.strokeStyle = this.strokeStyle;\n\t\tctx.font = this.font;\n\n\t\tctx.textAlign = this.textAlign;\n\t\tctx.textBaseline = this.textBaseline;\n\t\tctx.lineWidth = this.lineWidth;\n\n\t\tif (this.lineWidth) {\n\t\t\tctx.lineWidth = this.lineWidth;\n\t\t}\n\n\t\tthis.lines = this.text.toString().split('\\n');\n\n\t\tconst len = this.lines.length;\n\n\t\tthis.lines.forEach((item, index) => {\n\t\t\tconst y = this.y + (this.h ? (index * (this.h / len)) : 0);\n\n\t\t\tctx.fillText(item, this.x, y);\n\t\t\tif (this.strokeStyle) {\n\t\t\t\tctx.strokeText(item, this.x, y);\n\t\t\t}\n\t\t});\n\n\t\tctx.restore();\n\t}\n}\n","// Tetris, Canvas animation\n// Copyright Andrew Dodson, July 2017\n\n// Get Canvas\nimport Canvas from './classes/canvas';\nimport Collection from './classes/collection';\nimport Text from './classes/text';\nimport Shape from './classes/shape';\nimport Rect from './classes/rect';\nimport Background from './classes/background';\n\n// Create a new tile\n// Arguments handled by parent\nclass Piece extends Shape {\n\n\tconstructor({gx, gy, tw, th, structure, color}) {\n\n\t\tconst x = tw * gx;\n\t\tconst y = th * gy;\n\t\tconst w = tw * structure[0].length;\n\t\tconst h = th * structure.length;\n\t\tsuper(x, y, w, h);\n\n\t\tthis.tw = tw;\n\t\tthis.th = th;\n\t\tthis.gx = gx;\n\t\tthis.gy = gy;\n\t\tthis.zIndex = 0;\n\t\tthis.color = color;\n\t\tthis.structure = structure;\n\t}\n\n\t// Rotate this item\n\trotate() {\n\t\t// Rotate piece\n\t\tconst a = [];\n\t\tconst rowCount = this.structure.length;\n\t\tthis.structure.forEach((row, rowIndex) => {\n\t\t\trow.forEach((value, colIndex) => {\n\t\t\t\t// Init array\n\t\t\t\tlet row = a[colIndex];\n\t\t\t\tif (!row) {\n\t\t\t\t\trow = [];\n\t\t\t\t\ta[colIndex] = row;\n\t\t\t\t}\n\n\t\t\t\t// The xIndex becomes the row index\n\t\t\t\ta[colIndex][rowCount - rowIndex - 1] = value;\n\t\t\t});\n\t\t});\n\n\t\tthis.structure = a;\n\t}\n\n\tpoints() {\n\t\tconst a = [];\n\t\tthis.structure.forEach((row, y) => {\n\t\t\t// Find the blocks in the row\n\t\t\trow.forEach((block, x) => {\n\t\t\t\tif (block) {\n\t\t\t\t\ta.push([x, y]);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\treturn a;\n\t}\n\n\t// Each function passed into the collection must have a draw function\n\tdraw(ctx) {\n\t\tctx.fillStyle = this.color;\n\n\t\t// Draw\n\t\tthis.structure.forEach((row, yIndex) => {\n\t\t\tconst y = (yIndex * this.th);\n\t\t\trow.forEach((tile, xIndex) => {\n\t\t\t\tif (tile) {\n\t\t\t\t\tconst x = xIndex * this.tw;\n\t\t\t\t\tctx.fillRect(this.x + x, this.y + y, this.tw, this.th);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n}\n\n// Define the shapes which go into making the game...\nconst pieces = [\n\t{\n\t\tcolor: 'red',\n\t\tname: 'square',\n\t\tstructure: [\n\t\t\t[1, 1],\n\t\t\t[1, 1]\n\t\t]\n\t},\n\t{\n\t\tcolor: 'green',\n\t\tname: 'left-l',\n\t\tstructure: [\n\t\t\t[0, 1, 0],\n\t\t\t[0, 1, 0],\n\t\t\t[0, 1, 1]\n\t\t]\n\t},\n\t{\n\t\tcolor: 'green',\n\t\tname: 'right-l',\n\t\tstructure: [\n\t\t\t[0, 1, 0],\n\t\t\t[0, 1, 0],\n\t\t\t[1, 1, 0]\n\t\t]\n\t},\n\t{\n\t\tcolor: 'orange',\n\t\tname: 'zig',\n\t\tstructure: [\n\t\t\t[1, 0, 0],\n\t\t\t[1, 1, 0],\n\t\t\t[0, 1, 0]\n\t\t]\n\t},\n\t{\n\t\tcolor: 'blue',\n\t\tname: 'zag',\n\t\tstructure: [\n\t\t\t[0, 1, 0],\n\t\t\t[1, 1, 0],\n\t\t\t[1, 0, 0]\n\t\t]\n\t},\n\t{\n\t\tcolor: 'yellow',\n\t\tname: 'line',\n\t\tstructure: [\n\t\t\t[0, 1, 0, 0],\n\t\t\t[0, 1, 0, 0],\n\t\t\t[0, 1, 0, 0],\n\t\t\t[0, 1, 0, 0]\n\t\t]\n\t},\n\t{\n\t\tcolor: 'purple',\n\t\tname: 'middle',\n\t\tstructure: [\n\t\t\t[0, 1, 0],\n\t\t\t[0, 1, 1],\n\t\t\t[0, 1, 0]\n\t\t]\n\t}\n];\n\nclass Stage extends Canvas {\n\n\tconstructor(target) {\n\n\t\t// Initiate the canvas in the base\n\t\tsuper(target);\n\n\t\t// Collection\n\t\t// Define the canvas start element\n\t\tthis.collection = new Collection(this.target);\n\n\t\t// Add listeners to the canvas Element\n\t\tthis.addEventListener('frame', this.frame.bind(this));\n\n\t\t// Add listeners to the canvas Element\n\t\tthis.addEventListener('resize', this.reset.bind(this));\n\n\t\t// Show text\n\t\tthis.options = {\n\t\t\tcontrols: true\n\t\t};\n\n\t\t// Board\n\t\tthis.board = [];\n\n\t\tconst credits = new Text();\n\t\tcredits.text = 'Game Over';\n\t\tcredits.zIndex = 1;\n\t\tcredits.fontSize = 150;\n\t\tcredits.align = 'center center';\n\t\tcredits.addEventListener('click', this.reset.bind(this));\n\t\tcredits.visible = false;\n\t\tthis.credits = credits;\n\n\t\tconst score = new Text();\n\t\tscore.zIndex = 1;\n\t\tscore.text = 0;\n\t\tscore.align = 'right bottom';\n\t\tscore.pointerEvents = false;\n\t\tscore.fontSize = 40;\n\t\tthis.score = score;\n\n\t\t// Is this playing as a background image?\n\t\t// We want to display a button to enable playing in full screen.\n\t\tconst info = new Text();\n\t\tinfo.text = 'Click to start';\n\t\tinfo.zIndex = 1;\n\t\tinfo.align = 'center center';\n\t\tinfo.fontSize = 40;\n\t\tinfo.calc(this);\n\t\tthis.info = info;\n\n\n\t\t// // User has clicked an item on the canvas\n\t\t// // We'll use event delegation to tell us what the user has clicked.\n\t\t// this.addEventListener('click', this.click.bind(this));\n\n\t\t// User has clicked an item on the canvas\n\t\t// We'll use event delegation to tell us what the user has clicked.\n\t\tthis.addEventListener('keydown', this.keypress.bind(this));\n\n\t\t// This cadence\n\t\t// This sets the rate at which blocks move\n\t\t// And is roughly the [number] of milliseconcd it takes a block to move relative to it's own height.\n\t\tthis.cadence = 1000;\n\t\tthis.lastTick = 0;\n\t}\n\n\tsetup() {\n\t\tthis.reset();\n\t}\n\n\treset() {\n\n\t\t// Disable the ended state\n\t\tthis.ended = false;\n\n\t\t// Reset the currently playing piece\n\t\tthis.gamepiece = null;\n\n\t\t// Set the tilesize\n\t\tconst size = 50;\n\n\t\t// Remove everything\n\t\tthis.collection.length = 0;\n\n\t\t// Board\n\t\t// Break the board down into squares\n\t\t// At each square there can exist a reference to a piece\n\t\tthis.board.length = 0;\n\n\t\t{\n\t\t\t// Set number of tiles horizontally and vertically\n\t\t\tthis.nx = Math.floor(this.width / size);\n\t\t\tthis.ny = Math.floor(this.height / size);\n\n\t\t\t// Adjust the tile dimensions\n\t\t\tthis.tw = size + Math.floor((this.width % (this.nx * size)) / this.nx);\n\t\t\tthis.th = size + Math.floor((this.height % (this.ny * size)) / this.ny);\n\n\t\t\t// Create board matrix\n\t\t\tfor (let y = 0; y < this.ny; y++) {\n\t\t\t\tthis.board[y] = [];\n\t\t\t\tfor (let x = 0; x < this.nx; x++) {\n\t\t\t\t\tthis.board[y][x] = null;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Score\n\t\tthis.score.text = 0;\n\t\tthis.score.calc(this);\n\n\t\t// Add text items\n\t\tthis.collection.push(this.credits);\n\t\tthis.collection.push(this.info);\n\t\tthis.collection.push(this.score);\n\n\t\t// Sort the collection by z-index this ensures everything is drawn in the right order\n\t\tthis.collection.sort();\n\n\t\t// Clear the canvas\n\t\tthis.clear();\n\n\t\t// Show Controls\n\t\tthis.controls();\n\t}\n\n\tcontrols() {\n\t\t// Show Controls and information?\n\t\tthis.score.visible = true;\n\t\tthis.credits.visible = this.ended;\n\t\tthis.info.visible = this.ended;\n\t}\n\n\tframe() {\n\n\t\tif (!this.ended) {\n\n\t\t\tconst now = performance.now();\n\n\t\t\t// Mark that this has a difference in Y\n\t\t\t// This is used later to say whether a move to the left or right is possible.\n\t\t\tthis.diff = Math.min((now - this.lastTick) / this.cadence, 1) % 1;\n\n\t\t\t// Grab the current game piece and change it's vertical position\n\t\t\tif (this.gamepiece) {\n\n\t\t\t\t// Can this piece move down?\n\t\t\t\t// Find the matrix\n\t\t\t\tthis.gamepiece.y = parseInt((this.diff + this.gamepiece.gy) * this.th, 10);\n\t\t\t}\n\n\t\t\t// Is this a big move\n\t\t\tif (this.diff === 0) {\n\n\t\t\t\t// Update the lastTick\n\t\t\t\tthis.lastTick = now;\n\n\t\t\t\t// Trigger the tick\n\t\t\t\tthis.tick();\n\t\t\t}\n\t\t}\n\n\t\t// On every frame\n\t\t// Prepare dirty areas\n\t\tthis.collection.prepare();\n\n\t\t// Draw marked items\n\t\tthis.collection.draw();\n\t}\n\n\t// This is the game tick\n\t// The rate at which this is controlled varies depending on the game cadence\n\t// For instance this should initially be set to a fall rate of 1 block every second\n\t// When the game evolves the tick can be called more frequently\n\n\ttick() {\n\n\t\tif (this.gamepiece) {\n\t\t\t// Compare the position of the gamepiece and determine whether it's free to move down\n\t\t\t// - if not trigger the end and fix it in place\n\n\t\t\t// The gamepiece has a structure as does the board\n\t\t\t// Compare the position of the blocks which makes up the game piece\n\t\t\t// - in relation to the relative structure of the board\n\n\t\t\t// Update the gamepieces position...\n\t\t\tthis.move({y: 1});\n\t\t}\n\t\t// Else create a game shape and position it on the board\n\t\telse {\n\n\t\t\tconst {tw, th, nx} = this;\n\t\t\tconst piece = random(pieces);\n\t\t\tconst xlen = piece.structure[0].length;\n\t\t\tconst ylen = piece.structure.length;\n\n\t\t\t// Find the starting grid position of the piece\n\t\t\tconst gx = Math.ceil((nx - xlen) / 2);\n\t\t\tconst gy = -ylen;\n\n\t\t\t// Create the piece\n\t\t\tconst options = Object.assign({\n\t\t\t\tgx,\n\t\t\t\tgy,\n\t\t\t\ttw,\n\t\t\t\tth\n\t\t\t}, piece);\n\n\t\t\tthis.gamepiece = new Piece(options);\n\t\t\tthis.collection.push(this.gamepiece);\n\n\t\t\t// Draw marked items\n\t\t\tthis.collection.sort();\n\t\t}\n\t}\n\n\tclick() {\n\t\t// Find the gamepiece and trigger a rotation\n\t\tthis.rotate();\n\t}\n\n\trotate() {\n\t\t// Find the gamepiece and trigger a rotation\n\t\tif (this.gamepiece) {\n\t\t\tthis.gamepiece.rotate();\n\t\t}\n\t}\n\n\tcanMove(cords) {\n\t\t// Props of the gamepiece\n\t\tconst {gx, gy} = this.gamepiece;\n\t\tconst {x = 0, y = 0} = cords;\n\n\t\t// Can move?\n\t\tconst points = this.gamepiece.points();\n\n\t\t// Is there something at this point on the board?\n\t\treturn !points.find(([px, py]) => {\n\n\t\t\t// For a sideways move having already fallen half way also check an intermediate position\n\t\t\tif (this.diff && x && !y && this.point(px + x + gx, py + y + gy + 1)) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// Check the position\n\t\t\treturn this.point(px + x + gx, py + y + gy);\n\t\t});\n\t}\n\n\tpoint(x, y) {\n\n\t\t// Allow items to fall from beyond the top\n\t\tif (y < 0) {\n\t\t\treturn null;\n\t\t}\n\n\t\t// Out of bounds\n\t\tif ((y >= this.ny) || (x < 0 || x >= this.nx)) {\n\t\t\t// out of bounds\n\t\t\treturn 1;\n\t\t}\n\n\t\t// Whats there?\n\t\treturn this.board[y][x];\n\t}\n\n\t// Triggered when the gamepiece has reached the bottom\n\trestGamepiece() {\n\n\t\t// Set the gamepiece on the board\n\t\tconst points = this.gamepiece.points();\n\t\tconst {gx, gy} = this.gamepiece;\n\n\t\t// Is the item resting on/above the top?\n\t\tif (gy <= 0) {\n\t\t\tthis.end();\n\t\t\treturn;\n\t\t}\n\n\t\t// Mark the board as having filled in\n\t\tpoints.forEach(([px, py]) => {\n\t\t\tconst x = px + gx;\n\t\t\tconst y = py + gy;\n\n\t\t\t// Recreate the square\n\t\t\tconst tile = new Rect(this.tw * x, this.th * y, this.tw, this.th);\n\t\t\ttile.zIndex = 0;\n\t\t\ttile.fillStyle = this.gamepiece.color;\n\t\t\tthis.collection.push(tile);\n\n\t\t\tthis.board[y][x] = tile;\n\t\t});\n\n\t\t// Remove the gamepiece\n\t\tthis.gamepiece.remove();\n\n\t\t// Reset the swipe position\n\t\tthis.swipeStart = null;\n\n\t\t// Create a list of marked row indexes to remove from the board\n\t\tconst marked = [];\n\n\t\t// Completed rows?\n\t\tthis.board.forEach((row, index) => {\n\n\t\t\t// Ignore rows where every tile is not laid\n\t\t\tif (row.filter(a => a).length !== this.nx) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Detach all tile objects\n\t\t\trow.forEach(tile => tile.remove());\n\n\t\t\t// Add this row index to the marked list\n\t\t\tmarked.push(index);\n\t\t});\n\n\t\t// There are rows to remove\n\t\tif (marked.length) {\n\n\t\t\t// Remove items from the bottom\n\t\t\tmarked.reverse().forEach(index => this.board.splice(index, 1));\n\n\t\t\t// Add items to the top\n\t\t\tmarked.forEach(() => {\n\t\t\t\tthis.board.unshift([]);\n\t\t\t});\n\n\t\t\t// Loop through and reposition every tile\n\t\t\tthis.board.forEach((row, rowIndex) => {\n\t\t\t\trow.forEach((tile) => {\n\t\t\t\t\tif (tile) {\n\t\t\t\t\t\ttile.y = rowIndex * this.th;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t// Add a score\n\t\t\tthis.score.text += marked.length;\n\t\t\tthis.score.calc(this);\n\t\t}\n\t}\n\n\tmove({x = 0, y = 0}) {\n\n\t\t// Move the game piece\n\t\tif (this.gamepiece && this.canMove({x, y})) {\n\n\t\t\tthis.gamepiece.gx += x;\n\t\t\tthis.gamepiece.x = (this.gamepiece.gx * this.tw);\n\n\t\t\tthis.gamepiece.gy += y;\n\t\t\tthis.gamepiece.y = (this.gamepiece.gy * this.th);\n\n\t\t\t// Free to continue falling?\n\t\t\tif (!this.canMove({y: 1})) {\n\t\t\t\t// Rest game[iece]\n\t\t\t\tthis.restGamepiece();\n\n\t\t\t\t// Remove it\n\t\t\t\tthis.gamepiece = null;\n\t\t\t}\n\n\t\t\t// This moved successfully\n\t\t\treturn true;\n\t\t}\n\t}\n\n\tkeypress({key}) {\n\t\tswitch (key) {\n\t\t\tcase 'ArrowRight': {\n\t\t\t\tthis.move({x: 1});\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 'ArrowLeft': {\n\t\t\t\tthis.move({x: -1});\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 'ArrowDown': {\n\t\t\t\tthis.move({y: 1});\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 'ArrowUp': {\n\t\t\t\tthis.rotate();\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase ' ': {\n\t\t\t\tthis.rotate();\n\t\t\t}\n\t\t}\n\t}\n\n\tswipe(e) {\n\n\t\t// Set prevent default to stop any mouse events from also being called\n\t\tif ((typeof TouchEvent !== 'undefined') && e instanceof TouchEvent) {\n\t\t\t// Prevent the triggering of the mouse events\n\t\t\te.preventDefault();\n\t\t}\n\n\t\tconst type = e.gesture.type;\n\n\t\tif (type === 'start' && this.ended) {\n\t\t\tthis.reset();\n\t\t\treturn;\n\t\t}\n\n\t\t// Is this a release?\n\t\tif (type === 'release' || type === 'click' || !this.gamepiece) {\n\n\t\t\t// This has ended\n\t\t\tthis.swipeStart = null;\n\n\t\t\tif (e.gesture.deltaTime < 200) {\n\t\t\t\tthis.rotate();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\t// Start a new one\n\t\tif (type === 'start') {\n\t\t\t// Record the new start piece\n\t\t\tthis.swipeStartGamePiece = this.gamepiece;\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.swipeStartGamePiece !== this.gamepiece) {\n\t\t\t// This will force a new touch\n\t\t\treturn;\n\t\t}\n\n\n\t\t// Set the initial position of the block\n\t\tif (!this.swipeStart) {\n\t\t\tthis.swipeStart = {\n\t\t\t\tx: this.gamepiece.gx,\n\t\t\t\ty: this.gamepiece.gy\n\t\t\t};\n\t\t}\n\n\t\t// Using the delta positioning and the tile difference work out how far we can move this\n\t\tconst deltaX = parseInt(e.gesture.deltaX / this.tw, 10);\n\t\tconst deltaY = parseInt(e.gesture.deltaY / this.th, 10);\n\n\t\t// How far has the current grid changed\n\t\tconst x = this.swipeStart.x - this.gamepiece.gx + deltaX;\n\n\t\t// The y value can only be positive\n\t\tconst y = Math.max(this.swipeStart.y - this.gamepiece.gy + deltaY, 0);\n\n\t\t// \n\t\tthis.move({x, y});\n\n\t}\n\n\tend() {\n\t\tthis.credits.visible = true;\n\t\tthis.credits.calc(this);\n\n\n\t\t// Update info\n\t\tthis.info.visible = true;\n\t\tthis.info.calc(this);\n\t\tthis.info.y = this.info.y + this.credits.h;\n\t\tthis.info.text = `You scored ${this.score.text}`;\n\n\n\t\tthis.ended = true;\n\t}\n}\n\n\n// Add Stage to the background\nBackground.add(Stage);\n\n\n// Select a random item in an array\nfunction random(arr) {\n\treturn arr[Math.floor(arr.length * Math.random())];\n}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvdHJpY2tzL2FycmF5L3RvQXJyYXkuanMiLCJub2RlX21vZHVsZXMvdHJpY2tzL2RvbS9lYWNoLmpzIiwibm9kZV9tb2R1bGVzL3RyaWNrcy9kb20vaXNEb20uanMiLCJub2RlX21vZHVsZXMvdHJpY2tzL2V2ZW50cy9jcmVhdGVEdW1teUV2ZW50LmpzIiwibm9kZV9tb2R1bGVzL3RyaWNrcy9ldmVudHMvY3JlYXRlRXZlbnQuanMiLCJub2RlX21vZHVsZXMvdHJpY2tzL2V2ZW50cy9vbi5qcyIsIm5vZGVfbW9kdWxlcy90cmlja3MvZXZlbnRzL3N3aXBlLmpzIiwibm9kZV9tb2R1bGVzL3RyaWNrcy9ldmVudHMvdG91Y2guanMiLCJub2RlX21vZHVsZXMvdHJpY2tzL29iamVjdC9RdWV1ZS5qcyIsIm5vZGVfbW9kdWxlcy90cmlja3Mvb2JqZWN0L2luc3RhbmNlT2YuanMiLCJub2RlX21vZHVsZXMvdHJpY2tzL3N1cHBvcnQvcmVxdWVzdEFuaW1hdGlvbkZyYW1lLmpzIiwic3JjL2NsYXNzZXMvYmFja2dyb3VuZC5qcyIsInNyYy9jbGFzc2VzL2NhbnZhcy5qcyIsInNyYy9jbGFzc2VzL2NvbGxlY3Rpb24uanMiLCJzcmMvY2xhc3Nlcy9yZWN0LmpzIiwic3JjL2NsYXNzZXMvc2hhcGUuanMiLCJzcmMvY2xhc3Nlcy90ZXh0LmpzIiwic3JjL3RldHJpcy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUEsT0FBTyxPQUFQLEdBQWlCO0FBQUEsU0FBTyxNQUFNLFNBQU4sQ0FBZ0IsS0FBaEIsQ0FBc0IsSUFBdEIsQ0FBMkIsR0FBM0IsQ0FBUDtBQUFBLENBQWpCOzs7OztBQ0FBLElBQU0sUUFBUSxRQUFRLFlBQVIsQ0FBZDtBQUNBLElBQU0sYUFBYSxRQUFRLHlCQUFSLENBQW5CO0FBQ0EsSUFBTSxVQUFVLFFBQVEscUJBQVIsQ0FBaEI7O0FB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QVcsR0FBWCxDQUFlLEtBQWY7O0FBR0E7QUFDQSxTQUFTLE1BQVQsQ0FBZ0IsR0FBaEIsRUFBcUI7QUFDcEIsUUFBTyxJQUFJLEtBQUssS0FBTCxDQUFXLElBQUksTUFBSixHQUFhLEtBQUssTUFBTCxFQUF4QixDQUFKLENBQVA7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJtb2R1bGUuZXhwb3J0cyA9IG9iaiA9PiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChvYmopO1xuIiwiY29uc3QgaXNEb20gPSByZXF1aXJlKCcuL2lzRG9tLmpzJyk7XG5jb25zdCBpbnN0YW5jZU9mID0gcmVxdWlyZSgnLi4vb2JqZWN0L2luc3RhbmNlT2YuanMnKTtcbmNvbnN0IHRvQXJyYXkgPSByZXF1aXJlKCcuLi9hcnJheS90b0FycmF5LmpzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gKG1hdGNoZXMsIGNhbGxiYWNrID0gKCkgPT4ge30pID0+IHtcblxuXHRpZiAoaXNEb20obWF0Y2hlcykpIHtcblx0XHRtYXRjaGVzID0gW21hdGNoZXNdO1xuXHR9XG5cdGVsc2UgaWYgKHR5cGVvZihtYXRjaGVzKSA9PT0gJ3N0cmluZycpIHtcblx0XHRtYXRjaGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChtYXRjaGVzKTtcblx0fVxuXG5cdGlmICghaW5zdGFuY2VPZihtYXRjaGVzLCBBcnJheSkpIHtcblx0XHRtYXRjaGVzID0gdG9BcnJheShtYXRjaGVzKTtcblx0fVxuXG5cdGlmIChjYWxsYmFjaykge1xuXHRcdG1hdGNoZXMuZm9yRWFjaChjYWxsYmFjayk7XG5cdH1cblxuXHRyZXR1cm4gbWF0Y2hlcztcbn07XG4iLCJjb25zdCBpbnN0YW5jZU9mID0gcmVxdWlyZSgnLi4vb2JqZWN0L2luc3RhbmNlT2YuanMnKTtcblxuY29uc3QgX0hUTUxFbGVtZW50ID0gdHlwZW9mIEhUTUxFbGVtZW50ICE9PSAndW5kZWZpbmVkJyA/IEhUTUxFbGVtZW50IDogRWxlbWVudDtcbmNvbnN0IF9IVE1MRG9jdW1lbnQgPSB0eXBlb2YgSFRNTERvY3VtZW50ICE9PSAndW5kZWZpbmVkJyA/IEhUTUxEb2N1bWVudCA6IERvY3VtZW50O1xuY29uc3QgX1dpbmRvdyA9IHdpbmRvdy5jb25zdHJ1Y3RvcjtcblxubW9kdWxlLmV4cG9ydHMgPSB0ZXN0ID0+XG5cdGluc3RhbmNlT2YodGVzdCwgX0hUTUxFbGVtZW50KSB8fFxuXHRcdGluc3RhbmNlT2YodGVzdCwgX0hUTUxEb2N1bWVudCkgfHxcblx0XHRpbnN0YW5jZU9mKHRlc3QsIF9XaW5kb3cpXG47XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGUgPT4ge1xuXHRlLnN0b3BQcm9wYWdhdGlvbiA9ICgpID0+IHt9O1xuXHRlLnByZXZlbnREZWZhdWx0ID0gKCkgPT4ge307XG5cdHJldHVybiBlO1xufTtcbiIsIi8vIElFIGRvZXMgbm90IHN1cHBvcnQgYG5ldyBFdmVudCgpYFxuLy8gU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0d1aWRlL0V2ZW50cy9DcmVhdGluZ19hbmRfdHJpZ2dlcmluZ19ldmVudHMgZm9yIGRldGFpbHNcbmNvbnN0IGRpY3QgPSB7YnViYmxlczogdHJ1ZSwgY2FuY2VsYWJsZTogdHJ1ZX07XG5cbmxldCBjcmVhdGVFdmVudCA9IChldmVudG5hbWUsIG9wdGlvbnMgPSBkaWN0KSA9PlxuXHRuZXcgRXZlbnQoZXZlbnRuYW1lLCBvcHRpb25zKTtcblxudHJ5IHtcblx0Y3JlYXRlRXZlbnQoJ3Rlc3QnKTtcbn1cbmNhdGNoIChlKSB7XG5cdGNyZWF0ZUV2ZW50ID0gKGV2ZW50bmFtZSwgb3B0aW9ucyA9IGRpY3QpID0+IHtcblx0XHRjb25zdCBlID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50Jyk7XG5cdFx0ZS5pbml0RXZlbnQoZXZlbnRuYW1lLCAhIW9wdGlvbnMuYnViYmxlcywgISFvcHRpb25zLmNhbmNlbGFibGUpO1xuXHRcdHJldHVybiBlO1xuXHR9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZUV2ZW50O1xuIiwiLy8gb24uanNcbi8vIExpc3RlbiB0byBldmVudHMsIHRoaXMgaXMgYSB3cmFwcGVyIGZvciBhZGRFdmVudExpc3RlbmVyXG5cbmNvbnN0IGVhY2ggPSByZXF1aXJlKCcuLi9kb20vZWFjaC5qcycpO1xuY29uc3QgU0VQRVJBVE9SID0gL1tcXHMsXSsvO1xuXG4vLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL1dJQ0cvRXZlbnRMaXN0ZW5lck9wdGlvbnMvYmxvYi9naC1wYWdlcy9leHBsYWluZXIubWQjZmVhdHVyZS1kZXRlY3Rpb25cbmxldCBzdXBwb3J0c1Bhc3NpdmUgPSBmYWxzZTtcbnRyeSB7XG5cdGNvbnN0IG9wdHMgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdwYXNzaXZlJywge1xuXHRcdGdldCgpIHtcblx0XHRcdHN1cHBvcnRzUGFzc2l2ZSA9IHRydWU7XG5cdFx0fVxuXHR9KTtcblx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Rlc3QnLCBudWxsLCBvcHRzKTtcbn1cbmNhdGNoIChlKSB7XG5cdC8vIENvbnRpbnVlXG59XG5cblxubW9kdWxlLmV4cG9ydHMgPSAoZWxlbWVudHMsIGV2ZW50bmFtZXMsIGNhbGxiYWNrLCBvcHRpb25zID0gZmFsc2UpID0+IHtcblxuXHRpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdvYmplY3QnICYmIG9wdGlvbnMucGFzc2l2ZSAmJiAhc3VwcG9ydHNQYXNzaXZlKSB7XG5cdFx0Ly8gT3ZlcnJpZGUgdGhlIHBhc3NpdmUgbWFya1xuXHRcdG9wdGlvbnMgPSBmYWxzZTtcblx0fVxuXG5cdGV2ZW50bmFtZXMgPSBldmVudG5hbWVzLnNwbGl0KFNFUEVSQVRPUik7XG5cdHJldHVybiBlYWNoKGVsZW1lbnRzLCBlbCA9PiBldmVudG5hbWVzLmZvckVhY2goZXZlbnRuYW1lID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRuYW1lLCBjYWxsYmFjaywgb3B0aW9ucykpKTtcbn07XG4iLCIvLyBzd2lwZVxuLy8gQ2hlY2tzIGZvciBhIHN3aXBlIHRvIHRoZSBsZWZ0IG9yIHRvIHRoZSByaWdodFxuXG5jb25zdCB0b3VjaCA9IHJlcXVpcmUoJy4vdG91Y2guanMnKTtcbmNvbnN0IHtnZXN0dXJlfSA9IHRvdWNoO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChlbGVtZW50cywgY2FsbGJhY2spID0+XG5cblx0dG91Y2goZWxlbWVudHMsIGZ1bmN0aW9uKGUsIG8sIHMpIHtcblxuXHRcdGdlc3R1cmUoZSwgcyk7XG5cblx0XHRlLmdlc3R1cmUudHlwZSA9IGBkcmFnJHtlLmdlc3R1cmUuZGlyZWN0aW9ufWA7XG5cblx0XHRjYWxsYmFjay5jYWxsKHRoaXMsIGUpO1xuXG5cdH0sXG5cdGZ1bmN0aW9uIChlKSB7XG5cdFx0Z2VzdHVyZShlKTtcblx0XHRlLmdlc3R1cmUudHlwZSA9ICdzdGFydCc7XG5cdFx0Y2FsbGJhY2suY2FsbCh0aGlzLCBlKTtcblx0fSxcblx0ZnVuY3Rpb24oZSkge1xuXG5cdFx0Y29uc3QgZyA9IGUuZ2VzdHVyZTtcblxuXHRcdC8vIEhvdyBsb25nIGRpZCB0aGlzIG9wZXJhdGlvbiB0YWtlP1xuXHRcdGlmIChnLmRlbHRhVGltZSA8IDIwMCAmJiBnLmRpc3RhbmNlID4gMjAgJiYgZy52ZWxvY2l0eSA+IDAuMykge1xuXHRcdFx0Zy50eXBlID0gYHN3aXBlJHtnLmRpcmVjdGlvbn1gO1xuXHRcdH1cblx0XHRlbHNlIGlmIChnLmRpc3RhbmNlIDwgMjApIHtcblx0XHRcdGcudHlwZSA9ICdjbGljayc7XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0Zy50eXBlID0gJ3JlbGVhc2UnO1xuXHRcdH1cblxuXHRcdGNhbGxiYWNrLmNhbGwodGhpcywgZSk7XG5cdH0pXG47XG4iLCIvLyBTdGFuZGFyZGl6ZXMgdG91Y2ggZXZlbnRzXG4vLyBDYWxjdWxhdGUgdGhlIGRpZmZlcmVuY2UgZnJvbSB0aGUgc3RhcnRpbmcgcG9zaXRpb24gYW5kIHRoZSBlbmQgcG9zaXRpb24uXG4vLyBSZXR1cm5zIGEgZ2VzdHVyZSBvYmplY3QgZ2l2ZW5cblxuY29uc3Qgb24gPSByZXF1aXJlKCcuL29uLmpzJyk7XG5jb25zdCBlYWNoID0gcmVxdWlyZSgnLi4vZG9tL2VhY2guanMnKTtcblxuLy8gRG9lcyB0aGlzIHN1cHBvcnQgcG9pbnRlciBldmVudHM/XG5jb25zdCBwb2ludGVyRW5hYmxlZCA9IHdpbmRvdy5uYXZpZ2F0b3IucG9pbnRlckVuYWJsZWQ7XG5jb25zdCBldmVudE1vdmVUeXBlcyA9IHBvaW50ZXJFbmFibGVkID8gJ01TUG9pbnRlck1vdmUgcG9pbnRlck1vdmUnIDogJ21vdXNlbW92ZSB0b3VjaG1vdmUnO1xuY29uc3QgZXZlbnRTdGFydFR5cGVzID0gcG9pbnRlckVuYWJsZWQgPyAnTVNQb2ludGVyRG93biBwb2ludGVyRG93bicgOiAnbW91c2Vkb3duIHRvdWNoc3RhcnQnO1xuY29uc3QgZXZlbnRFbmRUeXBlcyA9IHBvaW50ZXJFbmFibGVkID8gJ01TUG9pbnRlclVwIHBvaW50ZXJVcCcgOiAnbW91c2V1cCB0b3VjaGVuZCB0b3VjaGNhbmNlbCc7XG5cbi8vIFRvdWNoXG4vLyBAcGFyYW0gY2FsbGJhY2sgZnVuY3Rpb24gLSBFdmVyeSB0b3VjaCBldmVudCBmaXJlZFxuLy8gQHBhcmFtIGNvbXBsZXRlIGZ1bmN0aW9uLSBPbmNlIGFsbCB0b3VjaCBldmVudCBlbmRzXG5tb2R1bGUuZXhwb3J0cyA9IChlbGVtZW50cywgb25tb3ZlLCBvbnN0YXJ0LCBvbmVuZCkgPT4ge1xuXG5cdC8vIFN0b3JlIGNhbGxiYWNrcywgYW5kIHByZXZpb3VzIHBvaW50ZXIgcG9zaXRpb25cblx0Y29uc3QgY2IgPSB7fTtcblx0Y29uc3QgbXYgPSB7fTtcblx0Y29uc3QgZmluID0ge307XG5cblx0b24oZG9jdW1lbnQsIGV2ZW50TW92ZVR5cGVzLCBtb3ZlRXZlbnQgPT4ge1xuXG5cdFx0Ly8gRml4IEFuZHJvaWQgbm90IGZpcmluZyBtdWx0aXBsZSBtb3Zlc1xuXHRcdC8vIGlmIChlLnR5cGUubWF0Y2goL3RvdWNoL2kpKSB7XG5cdFx0Ly8gXHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0Ly8gfVxuXG5cdFx0Ly8gUG9pbnRlci9Nb3VzZSBkb3duP1xuXHRcdGlmICh2b2lkRXZlbnQobW92ZUV2ZW50KSkge1xuXHRcdFx0Ly8gVGhlIG1vdXNlIGJ1dHRvbnMgaXNuJ3QgcHJlc3NlZCwga2lsbCB0aGlzXG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gdHJpZ2dlciB0aGUgY2FsbFxuXHRcdGNvbnN0IGkgPSBtb3ZlRXZlbnQucG9pbnRlcklkIHx8IDA7XG5cdFx0Y29uc3QgaGFuZGxlciA9IGNiW2ldO1xuXG5cdFx0aWYgKGhhbmRsZXIgJiYgdHlwZW9mKGhhbmRsZXIpID09PSAnZnVuY3Rpb24nKSB7XG5cblx0XHRcdGNvbnN0IHByZXZFdmVudCA9IG12W2ldO1xuXG5cdFx0XHQvLyBFeHRlbmQgdGhlIEV2ZW50IE9iamVjdCB3aXRoICdnZXN0dXJlcydcblx0XHRcdGdlc3R1cmUobW92ZUV2ZW50LCBwcmV2RXZlbnQpO1xuXG5cdFx0XHQvLyBUcmlnZ2VyIGNhbGxiYWNrXG5cdFx0XHRoYW5kbGVyKG1vdmVFdmVudCwgcHJldkV2ZW50KTtcblx0XHR9XG5cblx0XHRtdltpXSA9IG1vdmVFdmVudDtcblx0fSk7XG5cblx0b24oZG9jdW1lbnQsIGV2ZW50RW5kVHlwZXMsIGUgPT4ge1xuXG5cdFx0Y29uc3QgaSA9IGUucG9pbnRlcklkIHx8IDA7XG5cdFx0Y2JbaV0gPSBudWxsO1xuXG5cdFx0aWYgKGUudHlwZSA9PT0gJ3RvdWNoZW5kJyB8fCBlLnR5cGUgPT09ICd0b3VjaGNhbmNlbCcpIHtcblx0XHRcdGUgPSBtdltpXTtcblx0XHR9XG5cblx0XHRjb25zdCBoYW5kbGVyID0gZmluW2ldO1xuXHRcdGlmIChoYW5kbGVyKSB7XG5cdFx0XHRoYW5kbGVyKGUpO1xuXHRcdH1cblxuXHRcdGZpbltpXSA9IG51bGw7XG5cdH0pO1xuXG5cdC8vIGxvb3AgdGhyb3VnaCBhbmQgYWRkIGV2ZW50c1xuXHRlYWNoKGVsZW1lbnRzLCBlbGVtZW50ID0+IHtcblxuXHRcdC8vIGJpbmQgZXZlbnRzXG5cdFx0Ly8gb24oZWxlbWVudCwgJ3RvdWNoZW5kJywgZSA9PiB7XG5cdFx0Ly8gXHRjb25zb2xlLmxvZygnZWw6dG91Y2hlbmQnKTtcblx0XHQvLyBcdGNvbnNvbGUubG9nKGUpO1xuXHRcdC8vIH0pO1xuXG5cdFx0b24oZWxlbWVudCwgJ3NlbGVjdHN0YXJ0JywgKCkgPT4gZmFsc2UpO1xuXG5cdFx0b24oZWxlbWVudCwgZXZlbnRTdGFydFR5cGVzLCBzdGFydEV2ZW50ID0+IHtcblxuXHRcdFx0Ly8gZGVmYXVsdCBwb2ludGVyIElEXG5cdFx0XHRjb25zdCBpID0gc3RhcnRFdmVudC5wb2ludGVySWQgfHwgMDtcblxuXHRcdFx0Ly8gQWRkIEdlc3R1cmVzIHRvIGV2ZW50IE9iamVjdFxuXHRcdFx0Z2VzdHVyZShzdGFydEV2ZW50KTtcblxuXHRcdFx0bXZbaV0gPSBzdGFydEV2ZW50O1xuXHRcdFx0Y2JbaV0gPSAobW92ZUV2ZW50LCBwcmV2TW92ZUV2ZW50KSA9PiB7XG5cdFx0XHRcdG9ubW92ZS5jYWxsKGVsZW1lbnQsIG1vdmVFdmVudCwgcHJldk1vdmVFdmVudCwgc3RhcnRFdmVudCk7XG5cdFx0XHR9O1xuXG5cdFx0XHRpZiAob25lbmQpIHtcblx0XHRcdFx0ZmluW2ldID0gZW5kRXZlbnQgPT4ge1xuXG5cdFx0XHRcdFx0Ly8gQWRkIEdlc3R1cmVzIHRvIGV2ZW50IE9iamVjdFxuXHRcdFx0XHRcdGdlc3R1cmUoZW5kRXZlbnQsIHN0YXJ0RXZlbnQpO1xuXG5cdFx0XHRcdFx0Ly8gZmlyZSBjb21wbGV0ZSBjYWxsYmFja1xuXHRcdFx0XHRcdG9uZW5kLmNhbGwoZWxlbWVudCwgZW5kRXZlbnQsIHN0YXJ0RXZlbnQpO1xuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXG5cdFx0XHQvLyB0cmlnZ2VyIHN0YXJ0XG5cdFx0XHRpZiAob25zdGFydCkge1xuXHRcdFx0XHRvbnN0YXJ0LmNhbGwoZWxlbWVudCwgc3RhcnRFdmVudCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0pO1xufTtcblxuZnVuY3Rpb24gZ2VzdHVyZShjdXJyRXZlbnQsIHByZXZFdmVudCkge1xuXG5cdC8vIFJlc3BvbnNlIE9iamVjdFxuXHRjdXJyRXZlbnQuZ2VzdHVyZSA9IHt9O1xuXG5cdGlmIChjdXJyRXZlbnQgJiYgY3VyckV2ZW50LnRvdWNoZXMgJiYgY3VyckV2ZW50LnRvdWNoZXMubGVuZ3RoID4gMCkge1xuXHRcdGN1cnJFdmVudC5nZXN0dXJlLnRvdWNoZXMgPSBjdXJyRXZlbnQudG91Y2hlcztcblx0fVxuXHRlbHNlIHtcblx0XHRjdXJyRXZlbnQuZ2VzdHVyZS50b3VjaGVzID0gW2N1cnJFdmVudF07XG5cdH1cblxuXHRjdXJyRXZlbnQuZ2VzdHVyZS5zY3JlZW5YID0gY3VyckV2ZW50Lmdlc3R1cmUudG91Y2hlc1swXS5zY3JlZW5YO1xuXHRjdXJyRXZlbnQuZ2VzdHVyZS5zY3JlZW5ZID0gY3VyckV2ZW50Lmdlc3R1cmUudG91Y2hlc1swXS5zY3JlZW5ZO1xuXG5cdGlmICghKCdzY3JlZW5YJyBpbiBjdXJyRXZlbnQpKSB7XG5cdFx0Y3VyckV2ZW50LnNjcmVlblggPSBjdXJyRXZlbnQuZ2VzdHVyZS5zY3JlZW5YO1xuXHR9XG5cdGlmICghKCdzY3JlZW5ZJyBpbiBjdXJyRXZlbnQpKSB7XG5cdFx0Y3VyckV2ZW50LnNjcmVlblkgPSBjdXJyRXZlbnQuZ2VzdHVyZS5zY3JlZW5ZO1xuXHR9XG5cblx0Ly8gSWYgdGhlIHNlY29uZCBwYXJhbWV0ZXIgaXNuJ3QgZGVmaW5lZCB0aGVuIHdlJ3JlIHVuYWJsZSB0byBkZWZpbmUgZ2V0dXJlc1xuXHQvLyBCdXQgaWYgaXQgaXMgdGhlbiB3aG9vcCwgbGV0cyBnby5cblx0aWYgKHByZXZFdmVudCkge1xuXG5cdFx0Y3VyckV2ZW50Lmdlc3R1cmUuZGVsdGFUaW1lID0gKGN1cnJFdmVudC50aW1lU3RhbXAgLSBwcmV2RXZlbnQudGltZVN0YW1wKTtcblxuXHRcdGNvbnN0IGR4ID0gY3VyckV2ZW50Lmdlc3R1cmUuZGVsdGFYID0gY3VyckV2ZW50Lmdlc3R1cmUuc2NyZWVuWCAtIHByZXZFdmVudC5nZXN0dXJlLnNjcmVlblg7XG5cdFx0Y29uc3QgZHkgPSBjdXJyRXZlbnQuZ2VzdHVyZS5kZWx0YVkgPSBjdXJyRXZlbnQuZ2VzdHVyZS5zY3JlZW5ZIC0gcHJldkV2ZW50Lmdlc3R1cmUuc2NyZWVuWTtcblxuXHRcdC8vIFdoaWNoIGlzIHRoZSBiZXN0IGRpcmVjdGlvbiBmb3IgdGhlIGdlc3R1cmU/XG5cdFx0aWYgKE1hdGguYWJzKGR5KSA+IE1hdGguYWJzKGR4KSkge1xuXHRcdFx0Y3VyckV2ZW50Lmdlc3R1cmUuZGlyZWN0aW9uID0gKGR5ID4gMCA/ICd1cCcgOiAnZG93bicpO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdGN1cnJFdmVudC5nZXN0dXJlLmRpcmVjdGlvbiA9IChkeCA+IDAgPyAncmlnaHQnIDogJ2xlZnQnKTtcblx0XHR9XG5cblx0XHQvLyBEaXN0YW5jZVxuXHRcdGN1cnJFdmVudC5nZXN0dXJlLmRpc3RhbmNlID0gTWF0aC5zcXJ0KChkeCAqIGR4KSArIChkeSAqIGR5KSk7XG5cblx0XHQvLyBWZWxvY2l0eVxuXHRcdGN1cnJFdmVudC5nZXN0dXJlLnZlbG9jaXR5ID0gY3VyckV2ZW50Lmdlc3R1cmUuZGlzdGFuY2UgLyBjdXJyRXZlbnQuZ2VzdHVyZS5kZWx0YVRpbWU7XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMuZ2VzdHVyZSA9IGdlc3R1cmU7XG5cbmZ1bmN0aW9uIHZvaWRFdmVudChldmVudCkge1xuXHRjb25zdCB0eXBlID0gZXZlbnQucG9pbnRlclR5cGUgfHwgZXZlbnQudHlwZTtcblx0cmV0dXJuICh0eXBlLm1hdGNoKC9tb3VzZS9pKSAmJiAoZXZlbnQud2hpY2ggfHwgZXZlbnQuYnV0dG9ucykgIT09IDEpO1xufVxuIiwiLy8gQ3JlYXRlIGEgcXVldWluZyBmdW5jdGlvblxuLy8gUXVldWVzIGl0ZW1zIGluIGFuIEFycmF5IGxpa2UgZnVuY3Rpb24gdW50aWwgYSBoYW5kbGVyIGhhcyBiZWVuIGRlZmluZWRcbi8vIFRoZW4gZWFjaCBpdGVtIHdpbGwgYmUgcHJvY2Vzc2VkIGFnYWluc3QgdGhlIGhhbmRsZXIuXG4vLyBVc2VmdWwgZm9yIGNyZWF0aW5nIEdsb2JhbCBBc3luY2hyb25vdXMgUXVldWVzLCBhcyBjYW4gYmUgcmV0cm8gZml0dGVkIHRvIGV4aXN0aW5nIGFycmF5cy5cblxubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBRdWV1ZSB7XG5cblx0Y29uc3RydWN0b3IgKGFyciwgaGFuZGxlcikge1xuXHRcdHRoaXMuaXRlbXMgPSAoQXJyYXkuaXNBcnJheShhcnIpID8gYXJyIDogW10pO1xuXHRcdHRoaXMuaGFuZGxlciA9IGhhbmRsZXI7XG5cdH1cblxuXHQvLyBNaW1pYyB0aGUgQXJyYXkucHVzaCBmdW5jdGlvblxuXHRwdXNoICguLi5hcmdzKSB7XG5cblx0XHQvLyBBcHBlbmQgaXRlbXMgdG8gdGhlIGludGVybmFsIGFycmF5LlxuXHRcdGFyZ3MuZm9yRWFjaChpdGVtID0+IHRoaXMuaXRlbXMucHVzaChpdGVtKSk7XG5cblx0XHQvLyBUcmlnZ2VyIHRoZSBjdXN0b20gaGFuZGxlclxuXHRcdGlmICh0aGlzLl9oYW5kbGVyKSB7XG5cdFx0XHRhcmdzLmZvckVhY2goaXRlbSA9PiB0aGlzLl9oYW5kbGVyKGl0ZW0pKTtcblx0XHR9XG5cdH1cblxuXHQvLyBNaW1pYyB0aGUgbGVuZ3RoXG5cdGdldCBsZW5ndGggKCkge1xuXHRcdHJldHVybiB0aGlzLml0ZW1zLmxlbmd0aDtcblx0fVxuXHRzZXQgbGVuZ3RoICh2YWx1ZSkge1xuXHRcdHJldHVybiB0aGlzLml0ZW1zLmxlbmd0aCA9IHZhbHVlO1xuXHR9XG5cblx0Ly8gU2V0IHRoZSBpdGVtIGhhbmRsZXJcblx0Z2V0IGhhbmRsZXIgKCkge1xuXHRcdHJldHVybiB0aGlzLl9oYW5kbGVyO1xuXHR9XG5cblx0c2V0IGhhbmRsZXIgKGNhbGxiYWNrKSB7XG5cblx0XHR0aGlzLl9oYW5kbGVyID0gY2FsbGJhY2s7XG5cblx0XHRpZiAodGhpcy5faGFuZGxlcikge1xuXHRcdFx0dGhpcy5pdGVtcy5mb3JFYWNoKGl0ZW0gPT4gdGhpcy5faGFuZGxlcihpdGVtKSk7XG5cdFx0fVxuXHR9XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSAodGVzdCwgcm9vdCkgPT4gcm9vdCAmJiB0ZXN0IGluc3RhbmNlb2Ygcm9vdDtcbiIsIi8vIHJlcXVlc3RBbmltYXRpb25GcmFtZSBwb2x5ZmlsbFxud2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9XG5cdHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcblx0d2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuXHR3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG5cdHdpbmRvdy5vUmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG5cdHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuXHQoY2FsbGJhY2sgPT4gc2V0VGltZW91dChjYWxsYmFjaywgMTAwMCAvIDYwKSk7XG5cbm1vZHVsZS5leHBvcnRzID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZS5iaW5kKHdpbmRvdyk7XG4iLCIvLyBCYWNrZ3JvdW5kXG4vLyBFeHBvc2VzIHRoZSBiYXNpYyBwcm9wZXJ0aWVzL21ldGhvZHMgb2YgYSBjb250cm9sbGFibGUgYmFja2dyb3VuZFxuXG5pbXBvcnQgUXVldWUgZnJvbSAndHJpY2tzL29iamVjdC9RdWV1ZSc7XG5cbi8vIEV4dHJhY3QgdGhlIHdpbmRvdy5iYWNrZ3JvdW5kIGl0ZW1zXG5jb25zdCBxdWV1ZSA9IHdpbmRvdy5iYWNrZ3JvdW5kID0gbmV3IFF1ZXVlKHdpbmRvdy5iYWNrZ3JvdW5kKTtcblxuZnVuY3Rpb24gcXVldWVIYW5kbGVyKGNhbGxiYWNrKSB7XG5cdC8vIEVhY2ggaXRlbSBpbiB0aGUgcXVldWUgc2hvdWxkIGJlIGEgZnVuY3Rpb25cblx0Y2FsbGJhY2soQmFja2dyb3VuZCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhY2tncm91bmQge1xuXG5cdHN0YXRpYyBhZGQoc3RhZ2UpIHtcblx0XHQvLyBTdG9yZSB0aGVcblx0XHRCYWNrZ3JvdW5kLnN0YWdlcy5wdXNoKHN0YWdlKTtcblxuXHRcdC8vIFRyaWdnZXIgcmVhZHkgaWYgaXQgaGFzIG5vdCBhbHJlYWR5IGJlZW4gc2V0XG5cdFx0aWYgKEJhY2tncm91bmQuc3RhZ2VzLmxlbmd0aCA9PT0gMSkge1xuXHRcdFx0Ly8gSW5pdGlhdGUgdGhlIHF1ZXVlXG5cdFx0XHRxdWV1ZS5oYW5kbGVyID0gcXVldWVIYW5kbGVyO1xuXHRcdH1cblx0fVxuXG5cdC8vIENyZWF0ZSBhIG5ldyBpbnN0YW5jZSBvZiBhIHN0YWdlXG5cdHN0YXRpYyBpbml0KHRhcmdldCkge1xuXHRcdC8vIEdldCB0aGUgZGVmYXVsdCBzdGFnZSB3aGljaCBoYXMgYmVlbiByZWdpc3RlcmVkIHdpdGggdGhpcyBjbGFzc1xuXHRcdGNvbnN0IHN0YWdlID0gQmFja2dyb3VuZC5zdGFnZXNbMF07XG5cblx0XHQvLyBSZXR1cm4gaW5zdGFuY2Vcblx0XHRpZiAoc3RhZ2UpIHtcblx0XHRcdHJldHVybiBuZXcgc3RhZ2UodGFyZ2V0KTtcblx0XHR9XG5cdH1cbn1cblxuQmFja2dyb3VuZC5zdGFnZXMgPSBbXTtcbiIsIi8vIFNldHVwXG4vLyBUaGlzIGNvbnN0cnVjdHMgdGhlIGNhbnZhcyBvYmplY3RcblxuLy8gSW5jbHVkZXNcbmltcG9ydCAndHJpY2tzL3N1cHBvcnQvcmVxdWVzdEFuaW1hdGlvbkZyYW1lJztcbmltcG9ydCBjcmVhdGVFdmVudCBmcm9tICd0cmlja3MvZXZlbnRzL2NyZWF0ZUV2ZW50JztcbmltcG9ydCBjcmVhdGVEdW1teUV2ZW50IGZyb20gJ3RyaWNrcy9ldmVudHMvY3JlYXRlRHVtbXlFdmVudCc7XG5pbXBvcnQgb24gZnJvbSAndHJpY2tzL2V2ZW50cy9vbic7XG5pbXBvcnQgc3dpcGUgZnJvbSAndHJpY2tzL2V2ZW50cy9zd2lwZSc7XG5cbi8vIENvbnN0YW50c1xuY29uc3QgQkFDS0dST1VORF9IQVNIID0gJ2JhY2tncm91bmQnO1xuY29uc3QgVXNlckV2ZW50cyA9IFsnY2xpY2snLCAnbW91c2Vkb3duJywgJ21vdXNldXAnLCAnbW91c2VvdmVyJywgJ21vdXNlbW92ZScsICdtb3VzZW91dCcsICdmcmFtZScsICdyZXNpemUnLCAna2V5ZG93biddO1xuY29uc3QgVG91Y2hFdmVudHMgPSBbJ3RvdWNobW92ZScsICd0b3VjaHN0YXJ0JywgJ3RvdWNoZW5kJ107XG5cbmNvbnN0IEVWRU5UX1NFUEFSQVRPUiA9IC9bXFxzXFwsXSsvO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYW52YXMge1xuXG5cdC8vIENvbnN0cnVjdCB0aGUgQ2FudmFzIEVsZW1lbnRcblx0Ly8gQHBhcmFtIGNhbnZhcyBzaG91bGQgYmUgYW4gcm9vdCBlbGVtZW50IGNvbnRhaW5lciBmb3IgdGhpcyBpbWFnZXJ5LlxuXHRjb25zdHJ1Y3RvcihjYW52YXMpIHtcblxuXHRcdGxldCBwYXJlbnQ7XG5cblx0XHQvLyBldmVudHNcblx0XHR0aGlzLmV2ZW50cyA9IHt9O1xuXG5cdFx0Ly8gYnJvd3NlciBjaGVja1xuXHRcdGlmICghKCdnZXRDb250ZXh0JyBpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKSkpIHtcblx0XHRcdC8vIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IGNhbnZhc1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICghKGNhbnZhcyAmJiBjYW52YXMgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudCkpIHtcblxuXHRcdFx0Ly8gU2V0IHRoZSBwYXJlbnRcblx0XHRcdHBhcmVudCA9IGNhbnZhcztcblxuXHRcdFx0Ly8gQ3JlYXRlIHRoZSBjYW52YXMgbGF5ZXJcblx0XHRcdGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXHRcdFx0Y2FudmFzLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICd3aGl0ZSc7XG5cblx0XHRcdC8vIE5vdCBhIHBhcmVudFxuXHRcdFx0aWYgKCFwYXJlbnQpIHtcblx0XHRcdFx0Ly8gQXBwZW5kIHRvIHRoZSBib2R5XG5cdFx0XHRcdHBhcmVudCA9IGRvY3VtZW50LmJvZHk7XG5cdFx0XHRcdGNhbnZhcy5zdHlsZS5jc3NUZXh0ID0gJ3Bvc2l0aW9uOmZpeGVkO3otaW5kZXg6LTE7dG9wOjA7bGVmdDowOyc7XG5cdFx0XHRcdGNhbnZhcy5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgMCk7XG5cblx0XHRcdFx0ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLmNzc1RleHQgPSAnbWluLWhlaWdodDoxMDAlOyc7XG5cdFx0XHRcdGRvY3VtZW50LmJvZHkuc3R5bGUuY3NzVGV4dCA9ICdtaW4taGVpZ2h0OjEwMCU7JztcblxuXHRcdFx0XHQvLyBCaW5kIHdpbmRvdyByZXNpemUgZXZlbnRzXG5cdFx0XHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnJlc2l6ZS5iaW5kKHRoaXMpKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQXBwZW5kIHRoaXMgZWxlbWVudFxuXHRcdFx0cGFyZW50Lmluc2VydEJlZm9yZShjYW52YXMsIHBhcmVudC5maXJzdEVsZW1lbnRDaGlsZCk7XG5cblx0XHRcdHRoaXMudGFyZ2V0ID0gY2FudmFzO1xuXG5cdFx0XHR0aGlzLnJlc2l6ZSgpO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdHRoaXMudGFyZ2V0ID0gY2FudmFzO1xuXHRcdFx0cGFyZW50ID0gY2FudmFzLnBhcmVudE5vZGU7XG5cdFx0fVxuXG5cdFx0dGhpcy5jdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuXHRcdC8vIFNldCBpbml0aWFsIHNhdmUgcG9pbnRcblx0XHR0aGlzLmN0eC5zYXZlKCk7XG5cblx0XHQvLyBJbml0aWF0ZSB0aGUgdGltZVxuXHRcdHRoaXMuX3RpbWUgPSAwO1xuXHRcdHRoaXMuX2ZwcyA9IDA7XG5cblx0XHQvLyBJbml0aWF0ZSB0aGUgZHJhd1xuXHRcdHRoaXMuZHJhdygpO1xuXG5cdFx0Ly8gQmluZCBldmVudHNcblx0XHRvbih0aGlzLnRhcmdldCwgVXNlckV2ZW50cy50b1N0cmluZygpLCB0aGlzLmRpc3BhdGNoRXZlbnQuYmluZCh0aGlzKSwge3Bhc3NpdmU6IHRydWV9KTtcblxuXHRcdC8vIEZvcm1hdCBUb3VjaCBldmVudHNcblx0XHRvbih0aGlzLnRhcmdldCwgVG91Y2hFdmVudHMudG9TdHJpbmcoKSwgdGhpcy5kaXNwYXRjaFRvdWNoRXZlbnQuYmluZCh0aGlzKSwge3Bhc3NpdmU6IHRydWV9KTtcblxuXHRcdC8vIEluIElFIHVzZXItZXZlbnRzIGFyZW4ndCBwcm9wYWdhdGVkIHRvIGVsZW1lbnRzIHdoaWNoIGhhdmUgbmVnYXRpdmUgei1JbmRleCdzXG5cdFx0Ly8gTGlzdGVuIHRvIGV2ZW50cyBvbiB0aGUgZG9jdW1lbnQgZWxlbWVudCBhbmQgcHJvcGFnYXRlIHRob3NlIGFjY29yZGluZ2x5XG5cdFx0aWYgKHBhcmVudCA9PT0gZG9jdW1lbnQuYm9keSAmJiBjYW52YXMuc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnei1pbmRleCcpID09PSAnLTEnKSB7XG5cdFx0XHQvLyBCaW5kIGV2ZW50c1xuXHRcdFx0b24oZG9jdW1lbnQsIFVzZXJFdmVudHMudG9TdHJpbmcoKSwgdGhpcy5kaXNwYXRjaEV2ZW50LmJpbmQodGhpcyksIHtwYXNzaXZlOiB0cnVlfSk7XG5cblx0XHRcdC8vIEZvcm1hdCBUb3VjaCBldmVudHNcblx0XHRcdG9uKGRvY3VtZW50LCBUb3VjaEV2ZW50cy50b1N0cmluZygpLCB0aGlzLmRpc3BhdGNoVG91Y2hFdmVudC5iaW5kKHRoaXMpLCB7cGFzc2l2ZTogdHJ1ZX0pO1xuXHRcdH1cblxuXHRcdC8vIExpc3RlbiB0byBoYXNoQ2hhbmdlIGV2ZW50c1xuXHRcdHtcblx0XHRcdC8vIEhBU0ggQ0hBTkdFIERFUFRIXG5cdFx0XHRjb25zdCBzdHlsZSA9IHRoaXMudGFyZ2V0LnN0eWxlO1xuXHRcdFx0Y29uc3QgaW5pdGlhbFogPSBzdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCd6LWluZGV4Jyk7XG5cdFx0XHQvLyBMaXN0ZW4gdG8gY2hhbmdlcyB0byB0aGUgYmFja2dyb3VuZCBoYXNoIHRvIGJyaW5nIHRoZSBjYW52YXMgZWxlbWVudCB0byB0aGUgZnJvbnRcblx0XHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgaGFzaGNoYW5nZS5iaW5kKHN0eWxlLCBpbml0aWFsWikpO1xuXG5cdFx0XHRoYXNoY2hhbmdlLmNhbGwoc3R5bGUsIGluaXRpYWxaKTtcblx0XHR9XG5cblx0XHQvLyBJcyB0aGVyZSBhIHN3aXBlIG1ldGhvZCBoYW5kbGVyXG5cdFx0aWYgKHRoaXMuc3dpcGUpIHtcblx0XHRcdC8vIEJpbmQgdGhlIHN3aXBlIGV2ZW50IGhhbmRsZXIgdG8gdGhlIGV2ZW50XG5cdFx0XHRzd2lwZSh0aGlzLnRhcmdldCwgdGhpcy5zd2lwZS5iaW5kKHRoaXMpKTtcblx0XHR9XG5cdH1cblxuXHQvLyBlbnN1cmUgaXRzIGtlZXBpbmcgdXAuXG5cdGdldCB3aWR0aCgpIHtcblx0XHRyZXR1cm4gdGhpcy50YXJnZXQud2lkdGg7XG5cdH1cblx0c2V0IHdpZHRoKHZhbHVlKSB7XG5cdFx0dGhpcy50YXJnZXQud2lkdGggPSB2YWx1ZTtcblx0XHRyZXR1cm4gdmFsdWU7XG5cdH1cblxuXHRnZXQgaGVpZ2h0KCkge1xuXHRcdHJldHVybiB0aGlzLnRhcmdldC5oZWlnaHQ7XG5cdH1cblx0c2V0IGhlaWdodCh2YWx1ZSkge1xuXHRcdHRoaXMudGFyZ2V0LmhlaWdodCA9IHZhbHVlO1xuXHRcdHJldHVybiB2YWx1ZTtcblx0fVxuXHRnZXQgZnBzKCkge1xuXHRcdHJldHVybiB0aGlzLl9mcHM7XG5cdH1cblx0c2V0IGZwcyh2YWx1ZSkge1xuXG5cdFx0dGhpcy5fZnBzID0gdmFsdWU7XG5cblx0XHRjb25zdCBub3cgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpO1xuXG5cdFx0aWYgKChub3cgLSB0aGlzLl90aW1lKSA+IDEwMDApIHtcblx0XHRcdC8vIGNvbnNvbGUubG9nKCdmcHM6ICVkJywgdGhpcy5fZnBzKTtcblx0XHRcdHRoaXMuX3RpbWUgPSBub3c7XG5cdFx0XHR0aGlzLl9mcHMgPSAwO1xuXHRcdH1cblx0fVxuXG5cblx0cmVzaXplKCkge1xuXHRcdGNvbnN0IHBhcmVudCA9ICh0aGlzLnRhcmdldC5wYXJlbnROb2RlID09PSBkb2N1bWVudC5ib2R5KSA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCA6IHRoaXMudGFyZ2V0LnBhcmVudE5vZGU7XG5cdFx0Y29uc3QgaGVpZ2h0ID0gcGFyZW50LmNsaWVudEhlaWdodDtcblx0XHRjb25zdCB3aWR0aCA9IHBhcmVudC5jbGllbnRXaWR0aDtcblx0XHRsZXQgY2hhbmdlZCA9IGZhbHNlO1xuXG5cdFx0aWYgKHRoaXMud2lkdGggIT09IHdpZHRoKSB7XG5cdFx0XHRjaGFuZ2VkID0gdHJ1ZTtcblx0XHRcdHRoaXMud2lkdGggPSB3aWR0aDtcblx0XHR9XG5cdFx0aWYgKHRoaXMuaGVpZ2h0ICE9PSBoZWlnaHQpIHtcblx0XHRcdGNoYW5nZWQgPSB0cnVlO1xuXHRcdFx0dGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG5cdFx0fVxuXG5cdFx0aWYgKGNoYW5nZWQpIHtcblx0XHRcdHRoaXMudGFyZ2V0LmRpc3BhdGNoRXZlbnQoY3JlYXRlRXZlbnQoJ3Jlc2l6ZScpKTtcblx0XHR9XG5cdH1cblxuXHRjbGVhcigpIHtcblx0XHR0aGlzLmN0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy50YXJnZXQud2lkdGgsIHRoaXMudGFyZ2V0LmhlaWdodCk7XG5cdH1cblxuXHQvLyBCcmluZyB0aGUgY29udGVudCBvZiB0aGUgY2FudmFzIHRvIHRoZSBmcm9udFxuXHRicmluZ1RvRnJvbnQoKSB7XG5cblx0XHQvLyBVcGRhdGUgdGhlIHdpbmRvdy5sb2NhdGlvbiB3aXRoIHRoZSBoYXNoICNiYWNrZ3JvdW5kXG5cdFx0d2luZG93LmxvY2F0aW9uLmhhc2ggPSBCQUNLR1JPVU5EX0hBU0g7XG5cdH1cblxuXHQvLyBUcmlnZ2VyIHRoZSBkcmF3IGZ1bmN0aW9uXG5cdGRyYXcoKSB7XG5cblx0XHQvLyBJbmNyZW1lbnQgdGhlIG51bWJlciBvZiBmcmFtZXNcblx0XHR0aGlzLmZwcysrO1xuXG5cdFx0Ly8gQ2FsbCB0aGUgZnJhbWUgZnVuY3Rpb24gaW4gdGhlIGNvbnRleHQgb2YgdGhlIGZyYW1lIHRvIGRyYXdcblx0XHR0aGlzLnRhcmdldC5kaXNwYXRjaEV2ZW50KGNyZWF0ZUV2ZW50KCdmcmFtZScpKTtcblxuXHRcdC8vIFJlcXVlc3QgYW5vdGhlciBmcmFtZVxuXHRcdHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmRyYXcuYmluZCh0aGlzKSk7XG5cdH1cblxuXHQvLyBUaGUgdXNlciBoYXMgY2xpY2tlZCBhbiBpdGVtIG9uIHRoZSBwYWdlXG5cdGFkZEV2ZW50TGlzdGVuZXIoZXZlbnRuYW1lcywgaGFuZGxlcikge1xuXG5cdFx0ZXZlbnRuYW1lcy5zcGxpdChFVkVOVF9TRVBBUkFUT1IpLmZvckVhY2goZXZlbnRuYW1lID0+IHtcblx0XHRcdC8vIEFkZCB0byB0aGUgZXZlbnRzIGxpc3Rcblx0XHRcdGlmICghKGV2ZW50bmFtZSBpbiB0aGlzLmV2ZW50cykpIHtcblx0XHRcdFx0dGhpcy5ldmVudHNbZXZlbnRuYW1lXSA9IFtdO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLmV2ZW50c1tldmVudG5hbWVdLnB1c2goaGFuZGxlcik7XG5cdFx0fSk7XG5cdH1cblxuXHQvLyBEaXNwYXRjaFxuXHRkaXNwYXRjaEV2ZW50KGUpIHtcblxuXHRcdGlmIChlLnR5cGUgaW4gdGhpcy5ldmVudHMpIHtcblxuXHRcdFx0Y29uc3QgdGFyZ2V0ID0gZS5jdXJyZW50VGFyZ2V0O1xuXG5cdFx0XHQvLyBUaGlzIHdhcyB0cmlnZ2VyZWQgdXNpbmcgZXZlbnQgZGVsZWdhdGlvbiwgYWthIGluIHRoZSBiYWNrZ3JvdW5kXG5cdFx0XHRpZiAodGFyZ2V0ID09PSBkb2N1bWVudCkge1xuXG5cdFx0XHRcdGUgPSBjcmVhdGVEdW1teUV2ZW50KHtcblx0XHRcdFx0XHR0eXBlOiBlLnR5cGUsXG5cdFx0XHRcdFx0dGFyZ2V0OiB0aGlzLnRhcmdldCxcblx0XHRcdFx0XHRvZmZzZXRYOiBlLnBhZ2VYIHx8IGUub2Zmc2V0WCxcblx0XHRcdFx0XHRvZmZzZXRZOiBlLnBhZ2VZIHx8IGUub2Zmc2V0WVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5ldmVudHNbZS50eXBlXS5mb3JFYWNoKGhhbmRsZXIgPT4gaGFuZGxlcihlKSk7XG5cdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdH1cblx0fVxuXG5cdC8vIERpc3BhdGNoXG5cdGRpc3BhdGNoVG91Y2hFdmVudChlKSB7XG5cdFx0Ly8gSWYgdGhpcyB3YXMgYSB0b3VjaCBldmVudFxuXHRcdC8vIERldGVybWluZSB0aGUgb2Zmc2V0IHRvIHRoZSBjYW52YXMgZWxlbWVudCByZWxhdGl2ZSB0byB0aGUgaXRlbSBiZWluZyBjbGlja2VkXG5cdFx0Y29uc3QgdG91Y2ggPSAoZS50b3VjaGVzIHx8IGUuY2hhbmdlZFRvdWNoZXMpWzBdO1xuXHRcdGlmICh0b3VjaCkge1xuXHRcdFx0ZS5vZmZzZXRYID0gTWF0aC5hYnModG91Y2gucGFnZVggfHwgdG91Y2guc2NyZWVuWCk7XG5cdFx0XHRlLm9mZnNldFkgPSBNYXRoLmFicyh0b3VjaC5wYWdlWSB8fCB0b3VjaC5zY3JlZW5ZKTtcblx0XHR9XG5cblx0XHR0aGlzLmRpc3BhdGNoRXZlbnQoZSk7XG5cdH1cbn1cblxuXG5mdW5jdGlvbiBoYXNoY2hhbmdlKHopIHtcblxuXHRjb25zdCB6SW5kZXggPSAnei1pbmRleCc7XG5cblx0aWYgKHdpbmRvdy5sb2NhdGlvbi5oYXNoID09PSBgIyR7IEJBQ0tHUk9VTkRfSEFTSH1gKSB7XG5cdFx0eiA9IDEwMDAwO1xuXHR9XG5cblx0aWYgKHogIT09IHVuZGVmaW5lZCkge1xuXHRcdC8vIFNldCB0aGUgei1JbmRleFxuXHRcdHRoaXMuc2V0UHJvcGVydHkoekluZGV4LCB6KTtcblx0fVxuXHRlbHNlIHtcblx0XHQvLyBSZW1vdmUgdGhlIHotSW5kZXhcblx0XHR0aGlzLnJlbW92ZVByb3BlcnR5KHpJbmRleCk7XG5cdH1cbn1cbiIsIi8vIENvbGxlY3Rpb25cblxuaW1wb3J0IG9uIGZyb20gJ3RyaWNrcy9ldmVudHMvb24nO1xuY29uc3QgVXNlckV2ZW50cyA9IFsnY2xpY2snLCAnbW91c2Vkb3duJywgJ21vdXNldXAnLCAnbW91c2VvdmVyJywgJ21vdXNlbW92ZScsICdtb3VzZW91dCcsICd0b3VjaG1vdmUnLCAndG91Y2hzdGFydCcsICd0b3VjaGVuZCcsICdmcmFtZSddO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb2xsZWN0aW9uIHtcblxuXHRjb25zdHJ1Y3Rvcih0YXJnZXQpIHtcblx0XHQvLyBDcmVhdGUgYW4gZW1wdHkgY2hpbGRyZW5cblx0XHR0aGlzLmNoaWxkcmVuID0gW107XG5cblx0XHQvLyBFdmVudHNcblx0XHR0aGlzLmV2ZW50cyA9IFtdO1xuXG5cdFx0Ly8gc2V0dXAgdGhlIGNhbnZhcyBlbGVtZW50XG5cdFx0dGhpcy5pbml0KHRhcmdldCk7XG5cdH1cblxuXHQvLyBsaXN0ZW4gdG8gY2FudmFzIGV2ZW50c1xuXHRpbml0ICh0YXJnZXQpIHtcblxuXHRcdC8vIERlZmluZSB0aGUgY2FudmFzIG9iamVjdCBhcyB0aGUgdGFyZ2V0IGZvciB0aGUgY29sbGVjdGlvblxuXHRcdHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuXG5cdFx0Ly8gRGVmaW5lIHRoZSBDVFhcblx0XHR0aGlzLmN0eCA9IHRhcmdldC5nZXRDb250ZXh0KCcyZCcpO1xuXG5cdFx0Ly8gbGlzdGVuIHRvIHVzZXIgaW50ZXJhY3RpdmUgZXZlbnRzIGFuZCB0cmlnZ2VyIHRob3NlIG9uIGl0ZW1zXG5cdFx0b24odGFyZ2V0LCBVc2VyRXZlbnRzLnRvU3RyaW5nKCksIHRoaXMuX2ZpbmRBbmREaXNwYXRjaC5iaW5kKHRoaXMpLCB7cGFzc2l2ZTogdHJ1ZX0pO1xuXG5cdH1cblxuXHRwdXNoKGl0ZW0pIHtcblx0XHRpdGVtLmRpcnR5ID0gdHJ1ZTtcblxuXHRcdC8vIElzIHRoaXMgaXRlbSBhbHJlYWR5IGluIHRoZSBjb2xsZWN0aW9uP1xuXHRcdGlmICh0aGlzLmNoaWxkcmVuLmluZGV4T2YoaXRlbSkgPT09IC0xKSB7XG5cdFx0XHRpZiAoaXRlbS5zZXR1cCkge1xuXHRcdFx0XHRpdGVtLnNldHVwKHRoaXMpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2RpcnR5JywgdGhpcy5wcmVwYXJlQ2hpbGQuYmluZCh0aGlzLCBpdGVtKSk7XG5cdFx0XHR0aGlzLmNoaWxkcmVuLnB1c2goaXRlbSk7XG5cdFx0fVxuXHR9XG5cblx0ZmluZEluZGV4KGZuKSB7XG5cdFx0cmV0dXJuIHRoaXMuY2hpbGRyZW4uZmluZEluZGV4KGZuKTtcblx0fVxuXG5cdGZpbmQoZm4pIHtcblx0XHRyZXR1cm4gdGhpcy5jaGlsZHJlbi5maW5kKGZuKTtcblx0fVxuXG5cdGdldCBsZW5ndGggKCkge1xuXHRcdHJldHVybiB0aGlzLmNoaWxkcmVuLmxlbmd0aDtcblx0fVxuXHRzZXQgbGVuZ3RoICh2KSB7XG5cdFx0cmV0dXJuIHRoaXMuY2hpbGRyZW4ubGVuZ3RoID0gdjtcblx0fVxuXG5cblx0Ly8gVG91Y2hcblx0Ly8gTWFyayBpdGVtcyBhbmQgb2JqZWN0cyBpbiB0aGUgc2FtZSBzcGFjZSB0byBiZSByZWRyYXduXG5cdHByZXBhcmUoKSB7XG5cdFx0dGhpcy5jaGlsZHJlbi5mb3JFYWNoKGl0ZW0gPT4ge1xuXHRcdFx0aWYgKGl0ZW0uZGlydHkgPT09IHRydWUpXG5cdFx0XHRcdHRoaXMucHJlcGFyZUNoaWxkKGl0ZW0pO1xuXHRcdH0pO1xuXHR9XG5cblx0Ly8gQ2xlYW4gSXRlbVxuXHRwcmVwYXJlQ2hpbGQoaXRlbSkge1xuXG5cdFx0Y29uc3QgY3R4ID0gdGhpcy5jdHg7XG5cblx0XHRpZiAoaXRlbS5kaXJ0eSA9PT0gJ3BlbmRpbmcnKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gTWFyayB0aGlzIGl0ZW0gYXMgZGlydHlcblx0XHRpdGVtLmRpcnR5ID0gJ3BlbmRpbmcnO1xuXG5cdFx0Ly8gUmVtb3ZlIGZyb20gQ2FudmFzXG5cdFx0Y3R4LmNsZWFyUmVjdChpdGVtLngsIGl0ZW0ueSwgaXRlbS53LCBpdGVtLmgpO1xuXG5cdFx0Ly8gSWYgdGhlIGl0ZW1zIG9sZCBwb3NpdGlvbiBpcyBkaWZmZXJlbnRcblx0XHRpZiAoaXRlbS5wcmV2aW91cyAmJiBkaXNwbGFjZWQoaXRlbS5wcmV2aW91cywgaXRlbSkpIHtcblx0XHRcdGN0eC5jbGVhclJlY3QoaXRlbS5wcmV2aW91cy54LCBpdGVtLnByZXZpb3VzLnksIGl0ZW0ucHJldmlvdXMudywgaXRlbS5wcmV2aW91cy5oKTtcblx0XHR9XG5cblx0XHQvLyBMb29wIHRob3VnaCBvYmplY3RzIGFuZCByZWRyYXcgdGhvc2UgdGhhdCBleGlzdCB3aXRoaW4gdGhlIHBvc2l0aW9uXG5cdFx0dGhpcy5jaGlsZHJlbi5mb3JFYWNoKHRoaXMuX3ByZXBhcmVTaWJsaW5ncy5iaW5kKHRoaXMsIGl0ZW0pKTtcblx0fVxuXG5cdF9wcmVwYXJlU2libGluZ3MoaXRlbSwgc2libGluZykge1xuXG5cdFx0Ly8gRG9lcyB0aGlzIE9iamVjdCBvdmVybGFwIHdpdGggdGhlIGZvY3VzZWQgb2JqZWN0P1xuXHRcdGlmICghc2libGluZy5kaXJ0eSAmJiBzaWJsaW5nLnZpc2libGUgIT09IGZhbHNlICYmIChpbnRlcnNlY3Qoc2libGluZywgaXRlbSkgfHwgKGl0ZW0ucGFzdCA/IGludGVyc2VjdChzaWJsaW5nLCBpdGVtLnBhc3QpIDogZmFsc2UpKSkge1xuXHRcdFx0Ly8gTmVzdGVkIGNsZWFuXG5cdFx0XHR0aGlzLnByZXBhcmVDaGlsZChzaWJsaW5nKTtcblx0XHR9XG5cdH1cblxuXHRzb3J0KCkge1xuXHRcdC8vIFNvcnQgaXRlbXMgYnkgei1pbmRleFxuXHRcdHRoaXMuY2hpbGRyZW4uc29ydCgoYSwgYikgPT4ge1xuXHRcdFx0YSA9IGEuekluZGV4IHx8IDA7XG5cdFx0XHRiID0gYi56SW5kZXggfHwgMDtcblx0XHRcdHJldHVybiArKGEgPiBiKSB8fCAtKGEgPCBiKTtcblx0XHR9KTtcblx0fVxuXG5cdC8vIFRyaWdnZXIgdGhlIGRyYXcgZnVuY3Rpb25cblx0ZHJhdygpIHtcblxuXHRcdGNvbnN0IGN0eCA9IHRoaXMuY3R4O1xuXG5cdFx0Ly8gRmluZCBpdGVtcyB0aGF0IGhhdmUgY2hhbmdlZFxuXHRcdC8vIFJlbW92ZSBiYWNrZ3JvdW5kXG5cdFx0dGhpcy5jaGlsZHJlbi5mb3JFYWNoKGl0ZW0gPT4ge1xuXG5cdFx0XHRpZiAoaXRlbS5mcmFtZSkge1xuXHRcdFx0XHRpdGVtLmZyYW1lKGN0eCk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChpdGVtLmRpcnR5ICYmIGl0ZW0udmlzaWJsZSAhPT0gZmFsc2UpIHtcblx0XHRcdFx0aXRlbS5kcmF3KGN0eCk7XG5cdFx0XHR9XG5cblx0XHRcdGl0ZW0uZGlydHkgPSBmYWxzZTtcblx0XHR9KTtcblx0fVxuXG5cdGVsZW1lbnRGcm9tUG9pbnQoeCwgeSkge1xuXG5cdFx0bGV0IHRhcmdldDtcblxuXHRcdC8vIEZpbmQgdGhlIGNhbnZhcyBpdGVtIHdoaWNoIHRoaXMgdGFyZ2V0cz9cblx0XHRjb25zdCBvYmogPSB7XG5cdFx0XHR4LFxuXHRcdFx0eSxcblx0XHRcdHc6IDEsXG5cdFx0XHRoOiAxXG5cdFx0fTtcblxuXHRcdHRoaXMuY2hpbGRyZW4uZm9yRWFjaChpdGVtID0+IHtcblxuXHRcdFx0aWYgKGl0ZW0udmlzaWJsZSA9PT0gZmFsc2UgfHwgIWl0ZW0udyB8fCAhaXRlbS5oIHx8IGl0ZW0ucG9pbnRlckV2ZW50cyA9PT0gZmFsc2UpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJcyB0aGlzIGEgdGFyZ2V0P1xuXHRcdFx0aWYgKGludGVyc2VjdChvYmosIGl0ZW0pKSB7XG5cdFx0XHRcdC8vIERlZmluZSB0aGlzIGFzIGEgdGFyZ2V0XG5cdFx0XHRcdHRhcmdldCA9IGl0ZW07XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gdGFyZ2V0O1xuXHR9XG5cblx0Ly8gVGhlIHVzZXIgaGFzIGNsaWNrZWQgYW4gaXRlbSBvbiB0aGUgcGFnZVxuXHRhZGRFdmVudExpc3RlbmVyKGV2ZW50bmFtZSwgaGFuZGxlcikge1xuXG5cdFx0Ly8gQWRkIHRvIHRoZSBldmVudHMgbGlzdFxuXHRcdGlmICghKGV2ZW50bmFtZSBpbiB0aGlzLmV2ZW50cykpIHtcblx0XHRcdHRoaXMuZXZlbnRzW2V2ZW50bmFtZV0gPSBbXTtcblx0XHR9XG5cblx0XHR0aGlzLmV2ZW50c1tldmVudG5hbWVdLnB1c2goaGFuZGxlcik7XG5cdH1cblxuXHQvLyBEaXNwYXRjaFxuXHRkaXNwYXRjaEV2ZW50KGUpIHtcblx0XHRpZiAoZS50eXBlIGluIHRoaXMuZXZlbnRzKVxuXHRcdFx0dGhpcy5ldmVudHNbZS50eXBlXS5mb3JFYWNoKGhhbmRsZXIgPT4gaGFuZGxlcihlKSk7XG5cdH1cblxuXHQvLyBGaW5kIGFuZCBfZGlzcGF0Y2hcblx0X2ZpbmRBbmREaXNwYXRjaChlKSB7XG5cdFx0Ly8gSWYgdGhpcyBpcyBub3QgYSBwb2ludGVyRXZlbnQgbGV0cyBqdXN0IHBhc3MgaXQgdGhyb3VnaC5cblx0XHRpZiAoKHR5cGVvZiBNb3VzZUV2ZW50ICE9PSAndW5kZWZpbmVkJyAmJiBlIGluc3RhbmNlb2YgTW91c2VFdmVudCkgfHxcblx0XHRcdCh0eXBlb2YgVG91Y2hFdmVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgZSBpbnN0YW5jZW9mIFRvdWNoRXZlbnQpKSB7XG5cblx0XHRcdC8vIEZpbmQgdGhlIGNhbnZhcyBpdGVtIHdoaWNoIHRoaXMgdGFyZ2V0cz9cblx0XHRcdGNvbnN0IG9iaiA9IHtcblx0XHRcdFx0eDogZS5vZmZzZXRYLFxuXHRcdFx0XHR5OiBlLm9mZnNldFksXG5cdFx0XHRcdHc6IDEsXG5cdFx0XHRcdGg6IDFcblx0XHRcdH07XG5cblx0XHRcdHRoaXMuY2hpbGRyZW4uZm9yRWFjaChpdGVtID0+IHtcblxuXHRcdFx0XHRpZiAoIWl0ZW0udmlzaWJsZSB8fCAhaXRlbS53IHx8ICFpdGVtLmggfHwgIWl0ZW0ucG9pbnRlckV2ZW50cykge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEludGVyc2VjdHM/XG5cdFx0XHRcdGludGVyc2VjdChvYmosIGl0ZW0pICYmIGl0ZW0uZGlzcGF0Y2hFdmVudChlKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxufVxuXG5cbi8vIEludGVyc2VjdFxuLy8gR2l2ZW4gdHdvIG9iamVjdHMgd2l0aCwgeCx5LHcsaCBwcm9wZXJ0aWVzXG4vLyBEbyB0aGVpciByZWN0YW5ndWxhciBkaW1lbnNpb25zIGludGVyc2VjdD9cbi8vIHJldHVybiBCb29sZWFuIHRydWUgZmFsc2UuXG5mdW5jdGlvbiBpbnRlcnNlY3QoYSwgYikge1xuXHRyZXR1cm4gIShhLnggPiAoYi54ICsgYi53KSB8fFxuXHQoYS54ICsgYS53KSA8IGIueCB8fFxuXHRhLnkgPiAoYi55ICsgYi5oKSB8fFxuXHQoYS55ICsgYS5oKSA8IGIueSk7XG59XG5cbmZ1bmN0aW9uIGRpc3BsYWNlZChhLCBiKSB7XG5cdHJldHVybiAoYS54ICE9PSBiLnggfHxcblx0YS55ICE9PSBiLnkgfHxcblx0YS53ICE9PSBiLncgfHxcblx0YS5oICE9PSBiLmgpO1xufVxuIiwiLy9cbi8vIFJlY3RhbmdsZVxuLy9cblxuaW1wb3J0IFNoYXBlIGZyb20gJy4vc2hhcGUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZWN0IGV4dGVuZHMgU2hhcGUge1xuXG5cdGNvbnN0cnVjdG9yKC4uLmFyZ3MpIHtcblx0XHRzdXBlciguLi5hcmdzKTtcblx0fVxuXG5cdGdldCBmaWxsU3R5bGUoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2ZpbGxTdHlsZTtcblx0fVxuXHRzZXQgZmlsbFN0eWxlKHYpIHtcblx0XHRpZiAodGhpcy5fZmlsbFN0eWxlICE9PSB2KSB7XG5cdFx0XHR0aGlzLmRpcnR5ID0gdHJ1ZTtcblx0XHRcdHRoaXMuX2ZpbGxTdHlsZSA9IHY7XG5cdFx0fVxuXHR9XG5cblx0Z2V0IHR5cGUoKSB7XG5cdFx0cmV0dXJuICdyZWN0Jztcblx0fVxuXG5cdGRyYXcoY3R4KSB7XG5cblx0XHRjdHguc2F2ZSgpO1xuXG5cdFx0aWYgKHRoaXMuZHggfHwgdGhpcy5keSkge1xuXHRcdFx0Y3R4LnRyYW5zbGF0ZSh0aGlzLmR4LCB0aGlzLmR5KTtcblx0XHR9XG5cdFx0Y3R4LmZpbGxTdHlsZSA9IHRoaXMuZmlsbFN0eWxlO1xuXHRcdGN0eC5maWxsUmVjdCh0aGlzLngsIHRoaXMueSwgdGhpcy53LCB0aGlzLmgpO1xuXHRcdGN0eC5yZXN0b3JlKCk7XG5cdH1cbn1cbiIsIi8vIFNoYXBlXG4vLyBDYW52YXNTaGFwZXNcbi8vIFRoZSBwYXJlbnQgb2JqZWN0IGRlZmluaW5nIGEgYmFzaWMgc2hhcGUsIHgseSx3LGgsIGZvciBzdGFydGVycy5cbi8vIEFuZCBiYXNpYyBvcGVyYXRpbmdzIHlvdSBtaWdodCBsaWtlIHRvIGluY2x1ZGUgb24gYSBzaGFwZVxuaW1wb3J0IGNyZWF0ZUV2ZW50IGZyb20gJ3RyaWNrcy9ldmVudHMvY3JlYXRlRXZlbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTaGFwZSB7XG5cblx0Y29uc3RydWN0b3IgKC4uLmFyZ3MpIHtcblxuXHRcdC8vIGluaXRpZWF0ZSAgZXZlbnRzXG5cdFx0dGhpcy5ldmVudHMgPSBbXTtcblxuXHRcdC8vIFNldCBwcmV2aW91c1xuXHRcdHRoaXMucHJldmlvdXMgPSB7fTtcblxuXHRcdGlmIChhcmdzLmxlbmd0aCkge1xuXHRcdFx0Ly8gU3RvcmUgdGhlIHZhbHVlc1xuXHRcdFx0dGhpcy5wb3NpdGlvbiguLi5hcmdzKTtcblx0XHR9XG5cdH1cblxuLy9cdFNldCBwcm9wZXJ0eSBsaXN0ZW5lcnNcblx0Z2V0IHgoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX3g7XG5cdH1cblx0c2V0IHgoeCkge1xuXHRcdHRoaXMucG9zaXRpb25PYmooe3h9KTtcblx0fVxuXG5cdGdldCB5KCkge1xuXHRcdHJldHVybiB0aGlzLl95O1xuXHR9XG5cdHNldCB5KHkpIHtcblx0XHR0aGlzLnBvc2l0aW9uT2JqKHt5fSk7XG5cdH1cblxuXHRnZXQgdygpIHtcblx0XHRyZXR1cm4gdGhpcy5fdztcblx0fVxuXHRzZXQgdyh3KSB7XG5cdFx0dGhpcy5wb3NpdGlvbk9iaih7d30pO1xuXHR9XG5cblx0Z2V0IGgoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2g7XG5cdH1cblx0c2V0IGgoaCkge1xuXHRcdHRoaXMucG9zaXRpb25PYmooe2h9KTtcblx0fVxuXG5cdGdldCBkeCgpIHtcblx0XHRyZXR1cm4gdGhpcy5fZHg7XG5cdH1cblx0c2V0IGR4KHYpIHtcblx0XHRpZiAodGhpcy5fZHggIT09IHYpIHtcblx0XHRcdHRoaXMuZGlydHkgPSB0cnVlOyB0aGlzLl9keCA9IHY7XG5cdFx0fVxuXHR9XG5cblx0Z2V0IGR5KCkge1xuXHRcdHJldHVybiB0aGlzLl9keTtcblx0fVxuXHRzZXQgZHkodikge1xuXHRcdGlmICh0aGlzLl9keSAhPT0gdikge1xuXHRcdFx0dGhpcy5kaXJ0eSA9IHRydWU7IHRoaXMuX2R5ID0gdjtcblx0XHR9XG5cdH1cblxuXHRnZXQgdmlzaWJsZSgpIHtcblx0XHRyZXR1cm4gKHRoaXMuX3Zpc2libGUgPT09IHVuZGVmaW5lZCA/IHRydWUgOiB0aGlzLl92aXNpYmxlKTtcblx0fVxuXHRzZXQgdmlzaWJsZSh2KSB7XG5cdFx0aWYgKHRoaXMuX3Zpc2libGUgIT09IHYpIHtcblx0XHRcdHRoaXMuZGlydHkgPSB0cnVlOyB0aGlzLl92aXNpYmxlID0gdjtcblx0XHR9XG5cdH1cblxuXHRnZXQgb3BhY2l0eSgpIHtcblx0XHRyZXR1cm4gKHRoaXMuX29wYWNpdHkgPT09IHVuZGVmaW5lZCA/IDEgOiB0aGlzLl9vcGFjaXR5KTtcblx0fVxuXHRzZXQgb3BhY2l0eSh2KSB7XG5cdFx0aWYgKHRoaXMuX29wYWNpdHkgIT09IHYpIHtcblx0XHRcdHRoaXMuZGlydHkgPSB0cnVlOyB0aGlzLl9vcGFjaXR5ID0gdjtcblx0XHR9XG5cdH1cblxuXHRzZXQgZGlydHkgKHYpIHtcblx0XHQvLyBIYXMgdGhpcyBqdXN0IGJlZW4gbWFkZSBkaXJ0eT9cblx0XHRpZiAoIXRoaXMuX2RpcnR5ICYmIHYpIHtcblx0XHRcdC8vIE1hcmsgYXMgZGlydHlcblx0XHRcdHRoaXMuX2RpcnR5ID0gdjtcblxuXHRcdFx0Ly8gVHJpZ2dlciBhIGNhbnZhcyBjbGVhblxuXHRcdFx0dGhpcy5kaXNwYXRjaEV2ZW50KGNyZWF0ZUV2ZW50KCdkaXJ0eScpKTtcblx0XHR9XG5cdFx0ZWxzZSBpZiAoIXYpIHtcblx0XHRcdC8vIHJlc2V0XG5cdFx0XHR0aGlzLl9kaXJ0eSA9IHY7XG5cblx0XHRcdC8vIFN0b3JlIHRoZSBwcmV2aW91cyB2YWx1ZXNcblx0XHRcdHRoaXMucHJldmlvdXMgPSB7XG5cdFx0XHRcdHg6IHRoaXMuX3gsXG5cdFx0XHRcdHk6IHRoaXMuX3ksXG5cdFx0XHRcdHc6IHRoaXMuX3csXG5cdFx0XHRcdGg6IHRoaXMuX2gsXG5cdFx0XHR9O1xuXHRcdH1cblx0fVxuXHRnZXQgZGlydHkgKCkge1xuXHRcdHJldHVybiB0aGlzLl9kaXJ0eTtcblx0fVxuXG5cdC8vIExldCBldmVudHMgYnViYmxlIHVwXG5cdGdldCBwb2ludGVyRXZlbnRzICgpIHtcblx0XHRyZXR1cm4gKHRoaXMuX3BvaW50ZXJFdmVudHMgPT09IHVuZGVmaW5lZCA/IDEgOiB0aGlzLl9wb2ludGVyRXZlbnRzKTtcblx0fVxuXHRzZXQgcG9pbnRlckV2ZW50cyAodikge1xuXHRcdHRoaXMuX3BvaW50ZXJFdmVudHMgPSB2O1xuXHR9XG5cblx0Ly8gTWFyayB0aGUgc2hhcGUgYXMgdG8gYmUgcmVtb3ZlZCBmcm9tIHRoZSBjb2xsZWN0aW9uXG5cdHJlbW92ZSgpIHtcblx0XHR0aGlzLmRpcnR5ID0gdHJ1ZTtcblx0XHR0aGlzLnZpc2libGUgPSBmYWxzZTtcblx0fVxuXG5cdHBvc2l0aW9uKHggPSAwLCB5ID0gMCwgdyA9IDAsIGggPSAwKSB7XG5cblx0XHQvLyBBc3NpZ24sIHJlY3RhbmdsZSBzaGFwZVxuXHRcdC8vIEhhdmUgYSBiYWNrdXAgZm9vdHByaW50XG5cdFx0dGhpcy5wb3NpdGlvbk9iaih7eCwgeSwgdywgaH0pO1xuXHR9XG5cblx0cG9zaXRpb25PYmooY29vcmRzKSB7XG5cdFx0Zm9yIChjb25zdCBjb29yZCBpbiBjb29yZHMpIHtcblx0XHRcdGNvbnN0IHZhbHVlID0gY29vcmRzW2Nvb3JkXTtcblx0XHRcdGNvbnN0IGN1cnJlbnQgPSB0aGlzW2BfJHtjb29yZH1gXTtcblx0XHRcdGlmIChjdXJyZW50ICE9PSB2YWx1ZSkge1xuXHRcdFx0XHR0aGlzLmRpcnR5ID0gdHJ1ZTtcblx0XHRcdFx0dGhpc1tgXyR7Y29vcmR9YF0gPSB2YWx1ZTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBQbGFjZWhvbGRlciBmdW5jdGlvbiBmb3IgZHJhd2luZyB0byBjYW52YXNcblx0ZnJhbWUoKSB7fVxuXHRkcmF3KCkge31cblx0c2V0dXAoKSB7fVxuXG5cdC8vIEV2ZW50c1xuXHQvLyBBc3NpZ24gRXZlbnRzIHRvIGJlIGZpcmVkIHdoZW4gdGhlIHVzZXIgY2xpY2tzIHRoaXMgb2JqZWN0XG5cdC8vIEF3ZXNvbWVcblx0YWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGNhbGxiYWNrKSB7XG5cdFx0aWYgKCEoZXZlbnROYW1lIGluIHRoaXMuZXZlbnRzKSkge1xuXHRcdFx0dGhpcy5ldmVudHNbZXZlbnROYW1lXSA9IFtdO1xuXHRcdH1cblx0XHR0aGlzLmV2ZW50c1tldmVudE5hbWVdLnB1c2goY2FsbGJhY2spO1xuXHR9XG5cblx0ZGlzcGF0Y2hFdmVudChlKSB7XG5cdFx0aWYgKCEoZS50eXBlIGluIHRoaXMuZXZlbnRzKSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHR0aGlzLmV2ZW50c1tlLnR5cGVdLmZvckVhY2goZm4gPT4gZm4oZSkpO1xuXHR9XG5cblx0Ly8gQXNzaWduIGdldHRlcnMgYW5kIHNldHRlcnMgdG8gZGVmYXVsdCBwcm9wZXJ0aWVzXG5cdF93YXRjaFByb3BlcnR5KHByb3BOYW1lKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIHByb3BOYW1lLCB7XG5cdFx0XHRnZXQ6IHRoaXMuX2dldHRlci5iaW5kKHRoaXMsIHByb3BOYW1lKSxcblx0XHRcdHNldDogdGhpcy5fc2V0dGVyLmJpbmQodGhpcywgcHJvcE5hbWUpXG5cdFx0fSk7XG5cdH1cblxuXHRfZ2V0dGVyKHByb3BOYW1lKSB7XG5cdFx0cmV0dXJuIHRoaXNbYF8keyBwcm9wTmFtZX1gXTtcblx0fVxuXG5cdF9zZXR0ZXIocHJvcE5hbWUsIHYpIHtcblx0XHRpZiAodGhpc1tgXyR7IHByb3BOYW1lfWBdICE9PSB2KSB7XG5cdFx0XHR0aGlzLmRpcnR5ID0gdHJ1ZTtcblx0XHRcdHRoaXNbYF8keyBwcm9wTmFtZX1gXSA9IHY7XG5cdFx0fVxuXHR9XG59XG4iLCIvLyB0ZXh0XG4vLyBUZXh0T2JqZWN0LCBkZWZpbmVzIGEgc2hhcGUgb2JqZWN0IHdoaWNoIGNvbnRhaW5zIHRleHQuXG5cbmltcG9ydCBTaGFwZSBmcm9tICcuL3NoYXBlJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGV4dCBleHRlbmRzIFNoYXBlIHtcblxuXHQvLyBJbml0aWF0ZSBhIG5ldyBzaGFwZSBvYmplY3QuXG5cdGNvbnN0cnVjdG9yICh0ZXh0KSB7XG5cdFx0Ly8gaW5pdGlhdGUgaW5oZXJpdGFuY2Vcblx0XHRzdXBlcigpO1xuXG5cdFx0Ly8gV2F0Y2ggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzIGZvciBjaGFuZ2VzXG5cdFx0Wyd0ZXh0JywgJ3NoYWRvd0JsdXInLCAnc2hhZG93Q29sb3InLCAnZmlsbFN0eWxlJywgJ3N0cm9rZVN0eWxlJywgJ3RleHRBbGlnbicsICd0ZXh0QmFzZWxpbmUnLCAnbGluZVdpZHRoJ10uZm9yRWFjaCh0aGlzLl93YXRjaFByb3BlcnR5LmJpbmQodGhpcykpO1xuXG5cdFx0Ly8gRGVmaW5lIHRleHRcblx0XHR0aGlzLnRleHQgPSB0ZXh0IHx8ICcnO1xuXG5cdFx0dGhpcy5zaGFkb3dDb2xvciA9ICdibGFjayc7XG5cdFx0dGhpcy5maWxsU3R5bGUgPSAnYmxhY2snO1xuXHRcdHRoaXMuc3Ryb2tlU3R5bGUgPSAnd2hpdGUnO1xuXHRcdHRoaXMudGV4dEFsaWduID0gJ2xlZnQnO1xuXHRcdHRoaXMudGV4dEJhc2VsaW5lID0gJ3RvcCc7XG5cdFx0dGhpcy5saW5lV2lkdGggPSAwO1xuXHRcdHRoaXMuYWxpZ24gPSAnbGVmdCB0b3AnO1xuXHRcdHRoaXMuZm9udFNpemUgPSAzMDtcblx0fVxuXG5cdC8vIERlZmluZSB0aGUgdGV4dCBhbmQgdGhlIGFsaWdubWVudCBvZiB0aGUgb2JqZWN0XG5cdGNhbGMgKGNhbnZhcykge1xuXG5cdFx0Ly8gRGVmaW5lIHRleHRcblx0XHRbdGhpcy50ZXh0QWxpZ24sIHRoaXMudGV4dEJhc2VsaW5lXSA9IHRoaXMuYWxpZ24uc3BsaXQoJyAnKTtcblxuXHRcdGNvbnN0IGN0eCA9IGNhbnZhcy5jdHg7XG5cdFx0bGV0IGZvbnRTaXplID0gdGhpcy5mb250U2l6ZTtcblxuXHRcdC8vIFNwbGl0IHRleHQgYnkgbGluZSBicmVha3Ncblx0XHR0aGlzLmxpbmVzID0gdGhpcy50ZXh0LnRvU3RyaW5nKCkuc3BsaXQoJ1xcbicpO1xuXG5cdFx0Ly8gV2hpY2ggaXMgdGhlIGxvbmdlc3QgbGluZT9cblx0XHRsZXQgX3dpZHRoID0gMDtcblx0XHRsZXQgZGVmYXVsdF90ZXh0ID0gdGhpcy5saW5lc1swXTtcblxuXHRcdHRoaXMubGluZXMuZm9yRWFjaChsaW5lID0+IHtcblx0XHRcdGNvbnN0IF93ID0gY3R4Lm1lYXN1cmVUZXh0KGxpbmUpLndpZHRoO1xuXHRcdFx0aWYgKF93ID4gX3dpZHRoKSB7XG5cdFx0XHRcdF93aWR0aCA9IF93O1xuXHRcdFx0XHRkZWZhdWx0X3RleHQgPSBsaW5lO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gRmluZCB0aGUgd2lkdGggYW5kIGhlaWdodCBvZiB0aGUgaXRlbVxuXHRcdC8vIFVzaW5nIHRoZSBjYW52YXMgY29udGV4dFxuXHRcdGN0eC5zYXZlKCk7XG5cblx0XHRjdHguc2hhZG93Q29sb3IgPSAnYmxhY2snO1xuXHRcdGN0eC5maWxsU3R5bGUgPSAnYmxhY2snO1xuXHRcdGN0eC5zdHJva2VTdHlsZSA9ICdyZ2JhKDI1NSwyNTUsMjU1LDAuNSknO1xuXHRcdGN0eC5mb250ID0gYGJvbGQgJHsgZm9udFNpemUgfXB4IEFyaWFsYDtcblxuXHRcdHdoaWxlIChjdHgubWVhc3VyZVRleHQoZGVmYXVsdF90ZXh0KS53aWR0aCA+IGNhbnZhcy53aWR0aCkge1xuXHRcdFx0Zm9udFNpemUgKj0gMC45O1xuXHRcdFx0Zm9udFNpemUgPSBNYXRoLnJvdW5kKGZvbnRTaXplKTtcblx0XHRcdGN0eC5mb250ID0gYGJvbGQgJHsgZm9udFNpemUgfXB4IEFyaWFsYDtcblx0XHR9XG5cblx0XHR0aGlzLnNoYWRvd0JsdXIgPSBjdHguc2hhZG93Qmx1ciA9IE1hdGgucm91bmQoZm9udFNpemUgLyAxMCk7XG5cdFx0dGhpcy5mb250U2l6ZSA9IGZvbnRTaXplO1xuXHRcdHRoaXMuZm9udCA9IGN0eC5mb250O1xuXG5cdFx0dGhpcy53ID0gY3R4Lm1lYXN1cmVUZXh0KGRlZmF1bHRfdGV4dCkud2lkdGggKyAodGhpcy5zaGFkb3dCbHVyICogMik7XG5cdFx0dGhpcy5oID0gKGZvbnRTaXplICsgKHRoaXMuc2hhZG93Qmx1ciAqIDIpKSAqIHRoaXMubGluZXMubGVuZ3RoO1xuXG5cdFx0Y3R4LnJlc3RvcmUoKTtcblxuXHRcdC8vIFN0b3JlIHN0eWxlIGF0dHJpYnV0ZXNcblx0XHQvLyBTdG9yZSB0aGUgbmV3IGF0dHJpYnV0ZXMgb2YgdGhlIHRleHQgaXRlbVxuXHRcdHRoaXMubGluZVdpZHRoID0gTWF0aC5mbG9vcihmb250U2l6ZSAvIDYwKTtcblxuXG5cdFx0Ly8gSEVJR0hUIGFuZCBXSURUSFxuXHRcdHN3aXRjaCAodGhpcy50ZXh0QWxpZ24pIHtcblx0XHRcdGNhc2UgJ2NlbnRlcic6XG5cdFx0XHRjYXNlICdtaWRkbGUnOlxuXHRcdFx0XHR0aGlzLnRleHRBbGlnbiA9ICdjZW50ZXInO1xuXHRcdFx0XHR0aGlzLnggPSAoY2FudmFzLndpZHRoIC8gMikgLSAodGhpcy53IC8gMik7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAnbGVmdCc6XG5cdFx0XHRcdHRoaXMueCA9IDA7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAncmlnaHQnOlxuXHRcdFx0XHR0aGlzLnggPSBjYW52YXMud2lkdGggLSB0aGlzLnc7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdH1cblxuXHRcdHN3aXRjaCAodGhpcy50ZXh0QmFzZWxpbmUpIHtcblx0XHRcdGNhc2UgJ2NlbnRlcic6XG5cdFx0XHRjYXNlICdtaWRkbGUnOlxuXHRcdFx0XHR0aGlzLnRleHRCYXNlbGluZSA9ICdtaWRkbGUnO1xuXHRcdFx0XHR0aGlzLnkgPSAoY2FudmFzLmhlaWdodCAvIDIpIC0gKHRoaXMuaCAvIDIpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ3RvcCc6XG5cdFx0XHRcdHRoaXMueSA9IDA7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAnYm90dG9tJzpcblx0XHRcdFx0dGhpcy55ID0gY2FudmFzLmhlaWdodCAtIHRoaXMuaDtcblx0XHRcdFx0YnJlYWs7XG5cdFx0fVxuXG5cdFx0dGhpcy50ZXh0QWxpZ24gPSAnbGVmdCc7XG5cdFx0dGhpcy50ZXh0QmFzZWxpbmUgPSAndG9wJztcblxuXHRcdGN0eC5yZXN0b3JlKCk7XG5cdH1cblxuXHQvLyBEcmF3XG5cdGRyYXcgKGN0eCkge1xuXG5cdFx0Y3R4LnNhdmUoKTtcblxuXHRcdGN0eC5nbG9iYWxBbHBoYSA9IHRoaXMub3BhY2l0eTtcblxuXHRcdGN0eC5zaGFkb3dDb2xvciA9IHRoaXMuc2hhZG93Q29sb3I7XG5cdFx0aWYgKHRoaXMuc2hhZG93Qmx1cikge1xuXHRcdFx0Y3R4LnNoYWRvd0JsdXIgPSB0aGlzLnNoYWRvd0JsdXI7XG5cdFx0fVxuXHRcdGN0eC5maWxsU3R5bGUgPSB0aGlzLmZpbGxTdHlsZTtcblx0XHRjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLnN0cm9rZVN0eWxlO1xuXHRcdGN0eC5mb250ID0gdGhpcy5mb250O1xuXG5cdFx0Y3R4LnRleHRBbGlnbiA9IHRoaXMudGV4dEFsaWduO1xuXHRcdGN0eC50ZXh0QmFzZWxpbmUgPSB0aGlzLnRleHRCYXNlbGluZTtcblx0XHRjdHgubGluZVdpZHRoID0gdGhpcy5saW5lV2lkdGg7XG5cblx0XHRpZiAodGhpcy5saW5lV2lkdGgpIHtcblx0XHRcdGN0eC5saW5lV2lkdGggPSB0aGlzLmxpbmVXaWR0aDtcblx0XHR9XG5cblx0XHR0aGlzLmxpbmVzID0gdGhpcy50ZXh0LnRvU3RyaW5nKCkuc3BsaXQoJ1xcbicpO1xuXG5cdFx0Y29uc3QgbGVuID0gdGhpcy5saW5lcy5sZW5ndGg7XG5cblx0XHR0aGlzLmxpbmVzLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XG5cdFx0XHRjb25zdCB5ID0gdGhpcy55ICsgKHRoaXMuaCA/IChpbmRleCAqICh0aGlzLmggLyBsZW4pKSA6IDApO1xuXG5cdFx0XHRjdHguZmlsbFRleHQoaXRlbSwgdGhpcy54LCB5KTtcblx0XHRcdGlmICh0aGlzLnN0cm9rZVN0eWxlKSB7XG5cdFx0XHRcdGN0eC5zdHJva2VUZXh0KGl0ZW0sIHRoaXMueCwgeSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRjdHgucmVzdG9yZSgpO1xuXHR9XG59XG4iLCIvLyBUZXRyaXMsIENhbnZhcyBhbmltYXRpb25cbi8vIENvcHlyaWdodCBBbmRyZXcgRG9kc29uLCBKdWx5IDIwMTdcblxuLy8gR2V0IENhbnZhc1xuaW1wb3J0IENhbnZhcyBmcm9tICcuL2NsYXNzZXMvY2FudmFzJztcbmltcG9ydCBDb2xsZWN0aW9uIGZyb20gJy4vY2xhc3Nlcy9jb2xsZWN0aW9uJztcbmltcG9ydCBUZXh0IGZyb20gJy4vY2xhc3Nlcy90ZXh0JztcbmltcG9ydCBTaGFwZSBmcm9tICcuL2NsYXNzZXMvc2hhcGUnO1xuaW1wb3J0IFJlY3QgZnJvbSAnLi9jbGFzc2VzL3JlY3QnO1xuaW1wb3J0IEJhY2tncm91bmQgZnJvbSAnLi9jbGFzc2VzL2JhY2tncm91bmQnO1xuXG4vLyBDcmVhdGUgYSBuZXcgdGlsZVxuLy8gQXJndW1lbnRzIGhhbmRsZWQgYnkgcGFyZW50XG5jbGFzcyBQaWVjZSBleHRlbmRzIFNoYXBlIHtcblxuXHRjb25zdHJ1Y3Rvcih7Z3gsIGd5LCB0dywgdGgsIHN0cnVjdHVyZSwgY29sb3J9KSB7XG5cblx0XHRjb25zdCB4ID0gdHcgKiBneDtcblx0XHRjb25zdCB5ID0gdGggKiBneTtcblx0XHRjb25zdCB3ID0gdHcgKiBzdHJ1Y3R1cmVbMF0ubGVuZ3RoO1xuXHRcdGNvbnN0IGggPSB0aCAqIHN0cnVjdHVyZS5sZW5ndGg7XG5cdFx0c3VwZXIoeCwgeSwgdywgaCk7XG5cblx0XHR0aGlzLnR3ID0gdHc7XG5cdFx0dGhpcy50aCA9IHRoO1xuXHRcdHRoaXMuZ3ggPSBneDtcblx0XHR0aGlzLmd5ID0gZ3k7XG5cdFx0dGhpcy56SW5kZXggPSAwO1xuXHRcdHRoaXMuY29sb3IgPSBjb2xvcjtcblx0XHR0aGlzLnN0cnVjdHVyZSA9IHN0cnVjdHVyZTtcblx0fVxuXG5cdC8vIFJvdGF0ZSB0aGlzIGl0ZW1cblx0cm90YXRlKCkge1xuXHRcdC8vIFJvdGF0ZSBwaWVjZVxuXHRcdGNvbnN0IGEgPSBbXTtcblx0XHRjb25zdCByb3dDb3VudCA9IHRoaXMuc3RydWN0dXJlLmxlbmd0aDtcblx0XHR0aGlzLnN0cnVjdHVyZS5mb3JFYWNoKChyb3csIHJvd0luZGV4KSA9PiB7XG5cdFx0XHRyb3cuZm9yRWFjaCgodmFsdWUsIGNvbEluZGV4KSA9PiB7XG5cdFx0XHRcdC8vIEluaXQgYXJyYXlcblx0XHRcdFx0bGV0IHJvdyA9IGFbY29sSW5kZXhdO1xuXHRcdFx0XHRpZiAoIXJvdykge1xuXHRcdFx0XHRcdHJvdyA9IFtdO1xuXHRcdFx0XHRcdGFbY29sSW5kZXhdID0gcm93O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gVGhlIHhJbmRleCBiZWNvbWVzIHRoZSByb3cgaW5kZXhcblx0XHRcdFx0YVtjb2xJbmRleF1bcm93Q291bnQgLSByb3dJbmRleCAtIDFdID0gdmFsdWU7XG5cdFx0XHR9KTtcblx0XHR9KTtcblxuXHRcdHRoaXMuc3RydWN0dXJlID0gYTtcblx0fVxuXG5cdHBvaW50cygpIHtcblx0XHRjb25zdCBhID0gW107XG5cdFx0dGhpcy5zdHJ1Y3R1cmUuZm9yRWFjaCgocm93LCB5KSA9PiB7XG5cdFx0XHQvLyBGaW5kIHRoZSBibG9ja3MgaW4gdGhlIHJvd1xuXHRcdFx0cm93LmZvckVhY2goKGJsb2NrLCB4KSA9PiB7XG5cdFx0XHRcdGlmIChibG9jaykge1xuXHRcdFx0XHRcdGEucHVzaChbeCwgeV0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0XHRyZXR1cm4gYTtcblx0fVxuXG5cdC8vIEVhY2ggZnVuY3Rpb24gcGFzc2VkIGludG8gdGhlIGNvbGxlY3Rpb24gbXVzdCBoYXZlIGEgZHJhdyBmdW5jdGlvblxuXHRkcmF3KGN0eCkge1xuXHRcdGN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xuXG5cdFx0Ly8gRHJhd1xuXHRcdHRoaXMuc3RydWN0dXJlLmZvckVhY2goKHJvdywgeUluZGV4KSA9PiB7XG5cdFx0XHRjb25zdCB5ID0gKHlJbmRleCAqIHRoaXMudGgpO1xuXHRcdFx0cm93LmZvckVhY2goKHRpbGUsIHhJbmRleCkgPT4ge1xuXHRcdFx0XHRpZiAodGlsZSkge1xuXHRcdFx0XHRcdGNvbnN0IHggPSB4SW5kZXggKiB0aGlzLnR3O1xuXHRcdFx0XHRcdGN0eC5maWxsUmVjdCh0aGlzLnggKyB4LCB0aGlzLnkgKyB5LCB0aGlzLnR3LCB0aGlzLnRoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cbn1cblxuLy8gRGVmaW5lIHRoZSBzaGFwZXMgd2hpY2ggZ28gaW50byBtYWtpbmcgdGhlIGdhbWUuLi5cbmNvbnN0IHBpZWNlcyA9IFtcblx0e1xuXHRcdGNvbG9yOiAncmVkJyxcblx0XHRuYW1lOiAnc3F1YXJlJyxcblx0XHRzdHJ1Y3R1cmU6IFtcblx0XHRcdFsxLCAxXSxcblx0XHRcdFsxLCAxXVxuXHRcdF1cblx0fSxcblx0e1xuXHRcdGNvbG9yOiAnZ3JlZW4nLFxuXHRcdG5hbWU6ICdsZWZ0LWwnLFxuXHRcdHN0cnVjdHVyZTogW1xuXHRcdFx0WzAsIDEsIDBdLFxuXHRcdFx0WzAsIDEsIDBdLFxuXHRcdFx0WzAsIDEsIDFdXG5cdFx0XVxuXHR9LFxuXHR7XG5cdFx0Y29sb3I6ICdncmVlbicsXG5cdFx0bmFtZTogJ3JpZ2h0LWwnLFxuXHRcdHN0cnVjdHVyZTogW1xuXHRcdFx0WzAsIDEsIDBdLFxuXHRcdFx0WzAsIDEsIDBdLFxuXHRcdFx0WzEsIDEsIDBdXG5cdFx0XVxuXHR9LFxuXHR7XG5cdFx0Y29sb3I6ICdvcmFuZ2UnLFxuXHRcdG5hbWU6ICd6aWcnLFxuXHRcdHN0cnVjdHVyZTogW1xuXHRcdFx0WzEsIDAsIDBdLFxuXHRcdFx0WzEsIDEsIDBdLFxuXHRcdFx0WzAsIDEsIDBdXG5cdFx0XVxuXHR9LFxuXHR7XG5cdFx0Y29sb3I6ICdibHVlJyxcblx0XHRuYW1lOiAnemFnJyxcblx0XHRzdHJ1Y3R1cmU6IFtcblx0XHRcdFswLCAxLCAwXSxcblx0XHRcdFsxLCAxLCAwXSxcblx0XHRcdFsxLCAwLCAwXVxuXHRcdF1cblx0fSxcblx0e1xuXHRcdGNvbG9yOiAneWVsbG93Jyxcblx0XHRuYW1lOiAnbGluZScsXG5cdFx0c3RydWN0dXJlOiBbXG5cdFx0XHRbMCwgMSwgMCwgMF0sXG5cdFx0XHRbMCwgMSwgMCwgMF0sXG5cdFx0XHRbMCwgMSwgMCwgMF0sXG5cdFx0XHRbMCwgMSwgMCwgMF1cblx0XHRdXG5cdH0sXG5cdHtcblx0XHRjb2xvcjogJ3B1cnBsZScsXG5cdFx0bmFtZTogJ21pZGRsZScsXG5cdFx0c3RydWN0dXJlOiBbXG5cdFx0XHRbMCwgMSwgMF0sXG5cdFx0XHRbMCwgMSwgMV0sXG5cdFx0XHRbMCwgMSwgMF1cblx0XHRdXG5cdH1cbl07XG5cbmNsYXNzIFN0YWdlIGV4dGVuZHMgQ2FudmFzIHtcblxuXHRjb25zdHJ1Y3Rvcih0YXJnZXQpIHtcblxuXHRcdC8vIEluaXRpYXRlIHRoZSBjYW52YXMgaW4gdGhlIGJhc2Vcblx0XHRzdXBlcih0YXJnZXQpO1xuXG5cdFx0Ly8gQ29sbGVjdGlvblxuXHRcdC8vIERlZmluZSB0aGUgY2FudmFzIHN0YXJ0IGVsZW1lbnRcblx0XHR0aGlzLmNvbGxlY3Rpb24gPSBuZXcgQ29sbGVjdGlvbih0aGlzLnRhcmdldCk7XG5cblx0XHQvLyBBZGQgbGlzdGVuZXJzIHRvIHRoZSBjYW52YXMgRWxlbWVudFxuXHRcdHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignZnJhbWUnLCB0aGlzLmZyYW1lLmJpbmQodGhpcykpO1xuXG5cdFx0Ly8gQWRkIGxpc3RlbmVycyB0byB0aGUgY2FudmFzIEVsZW1lbnRcblx0XHR0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVzZXQuYmluZCh0aGlzKSk7XG5cblx0XHQvLyBTaG93IHRleHRcblx0XHR0aGlzLm9wdGlvbnMgPSB7XG5cdFx0XHRjb250cm9sczogdHJ1ZVxuXHRcdH07XG5cblx0XHQvLyBCb2FyZFxuXHRcdHRoaXMuYm9hcmQgPSBbXTtcblxuXHRcdGNvbnN0IGNyZWRpdHMgPSBuZXcgVGV4dCgpO1xuXHRcdGNyZWRpdHMudGV4dCA9ICdHYW1lIE92ZXInO1xuXHRcdGNyZWRpdHMuekluZGV4ID0gMTtcblx0XHRjcmVkaXRzLmZvbnRTaXplID0gMTUwO1xuXHRcdGNyZWRpdHMuYWxpZ24gPSAnY2VudGVyIGNlbnRlcic7XG5cdFx0Y3JlZGl0cy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMucmVzZXQuYmluZCh0aGlzKSk7XG5cdFx0Y3JlZGl0cy52aXNpYmxlID0gZmFsc2U7XG5cdFx0dGhpcy5jcmVkaXRzID0gY3JlZGl0cztcblxuXHRcdGNvbnN0IHNjb3JlID0gbmV3IFRleHQoKTtcblx0XHRzY29yZS56SW5kZXggPSAxO1xuXHRcdHNjb3JlLnRleHQgPSAwO1xuXHRcdHNjb3JlLmFsaWduID0gJ3JpZ2h0IGJvdHRvbSc7XG5cdFx0c2NvcmUucG9pbnRlckV2ZW50cyA9IGZhbHNlO1xuXHRcdHNjb3JlLmZvbnRTaXplID0gNDA7XG5cdFx0dGhpcy5zY29yZSA9IHNjb3JlO1xuXG5cdFx0Ly8gSXMgdGhpcyBwbGF5aW5nIGFzIGEgYmFja2dyb3VuZCBpbWFnZT9cblx0XHQvLyBXZSB3YW50IHRvIGRpc3BsYXkgYSBidXR0b24gdG8gZW5hYmxlIHBsYXlpbmcgaW4gZnVsbCBzY3JlZW4uXG5cdFx0Y29uc3QgaW5mbyA9IG5ldyBUZXh0KCk7XG5cdFx0aW5mby50ZXh0ID0gJ0NsaWNrIHRvIHN0YXJ0Jztcblx0XHRpbmZvLnpJbmRleCA9IDE7XG5cdFx0aW5mby5hbGlnbiA9ICdjZW50ZXIgY2VudGVyJztcblx0XHRpbmZvLmZvbnRTaXplID0gNDA7XG5cdFx0aW5mby5jYWxjKHRoaXMpO1xuXHRcdHRoaXMuaW5mbyA9IGluZm87XG5cblxuXHRcdC8vIC8vIFVzZXIgaGFzIGNsaWNrZWQgYW4gaXRlbSBvbiB0aGUgY2FudmFzXG5cdFx0Ly8gLy8gV2UnbGwgdXNlIGV2ZW50IGRlbGVnYXRpb24gdG8gdGVsbCB1cyB3aGF0IHRoZSB1c2VyIGhhcyBjbGlja2VkLlxuXHRcdC8vIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsaWNrLmJpbmQodGhpcykpO1xuXG5cdFx0Ly8gVXNlciBoYXMgY2xpY2tlZCBhbiBpdGVtIG9uIHRoZSBjYW52YXNcblx0XHQvLyBXZSdsbCB1c2UgZXZlbnQgZGVsZWdhdGlvbiB0byB0ZWxsIHVzIHdoYXQgdGhlIHVzZXIgaGFzIGNsaWNrZWQuXG5cdFx0dGhpcy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5rZXlwcmVzcy5iaW5kKHRoaXMpKTtcblxuXHRcdC8vIFRoaXMgY2FkZW5jZVxuXHRcdC8vIFRoaXMgc2V0cyB0aGUgcmF0ZSBhdCB3aGljaCBibG9ja3MgbW92ZVxuXHRcdC8vIEFuZCBpcyByb3VnaGx5IHRoZSBbbnVtYmVyXSBvZiBtaWxsaXNlY29uY2QgaXQgdGFrZXMgYSBibG9jayB0byBtb3ZlIHJlbGF0aXZlIHRvIGl0J3Mgb3duIGhlaWdodC5cblx0XHR0aGlzLmNhZGVuY2UgPSAxMDAwO1xuXHRcdHRoaXMubGFzdFRpY2sgPSAwO1xuXHR9XG5cblx0c2V0dXAoKSB7XG5cdFx0dGhpcy5yZXNldCgpO1xuXHR9XG5cblx0cmVzZXQoKSB7XG5cblx0XHQvLyBEaXNhYmxlIHRoZSBlbmRlZCBzdGF0ZVxuXHRcdHRoaXMuZW5kZWQgPSBmYWxzZTtcblxuXHRcdC8vIFJlc2V0IHRoZSBjdXJyZW50bHkgcGxheWluZyBwaWVjZVxuXHRcdHRoaXMuZ2FtZXBpZWNlID0gbnVsbDtcblxuXHRcdC8vIFNldCB0aGUgdGlsZXNpemVcblx0XHRjb25zdCBzaXplID0gNTA7XG5cblx0XHQvLyBSZW1vdmUgZXZlcnl0aGluZ1xuXHRcdHRoaXMuY29sbGVjdGlvbi5sZW5ndGggPSAwO1xuXG5cdFx0Ly8gQm9hcmRcblx0XHQvLyBCcmVhayB0aGUgYm9hcmQgZG93biBpbnRvIHNxdWFyZXNcblx0XHQvLyBBdCBlYWNoIHNxdWFyZSB0aGVyZSBjYW4gZXhpc3QgYSByZWZlcmVuY2UgdG8gYSBwaWVjZVxuXHRcdHRoaXMuYm9hcmQubGVuZ3RoID0gMDtcblxuXHRcdHtcblx0XHRcdC8vIFNldCBudW1iZXIgb2YgdGlsZXMgaG9yaXpvbnRhbGx5IGFuZCB2ZXJ0aWNhbGx5XG5cdFx0XHR0aGlzLm54ID0gTWF0aC5mbG9vcih0aGlzLndpZHRoIC8gc2l6ZSk7XG5cdFx0XHR0aGlzLm55ID0gTWF0aC5mbG9vcih0aGlzLmhlaWdodCAvIHNpemUpO1xuXG5cdFx0XHQvLyBBZGp1c3QgdGhlIHRpbGUgZGltZW5zaW9uc1xuXHRcdFx0dGhpcy50dyA9IHNpemUgKyBNYXRoLmZsb29yKCh0aGlzLndpZHRoICUgKHRoaXMubnggKiBzaXplKSkgLyB0aGlzLm54KTtcblx0XHRcdHRoaXMudGggPSBzaXplICsgTWF0aC5mbG9vcigodGhpcy5oZWlnaHQgJSAodGhpcy5ueSAqIHNpemUpKSAvIHRoaXMubnkpO1xuXG5cdFx0XHQvLyBDcmVhdGUgYm9hcmQgbWF0cml4XG5cdFx0XHRmb3IgKGxldCB5ID0gMDsgeSA8IHRoaXMubnk7IHkrKykge1xuXHRcdFx0XHR0aGlzLmJvYXJkW3ldID0gW107XG5cdFx0XHRcdGZvciAobGV0IHggPSAwOyB4IDwgdGhpcy5ueDsgeCsrKSB7XG5cdFx0XHRcdFx0dGhpcy5ib2FyZFt5XVt4XSA9IG51bGw7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBTY29yZVxuXHRcdHRoaXMuc2NvcmUudGV4dCA9IDA7XG5cdFx0dGhpcy5zY29yZS5jYWxjKHRoaXMpO1xuXG5cdFx0Ly8gQWRkIHRleHQgaXRlbXNcblx0XHR0aGlzLmNvbGxlY3Rpb24ucHVzaCh0aGlzLmNyZWRpdHMpO1xuXHRcdHRoaXMuY29sbGVjdGlvbi5wdXNoKHRoaXMuaW5mbyk7XG5cdFx0dGhpcy5jb2xsZWN0aW9uLnB1c2godGhpcy5zY29yZSk7XG5cblx0XHQvLyBTb3J0IHRoZSBjb2xsZWN0aW9uIGJ5IHotaW5kZXggdGhpcyBlbnN1cmVzIGV2ZXJ5dGhpbmcgaXMgZHJhd24gaW4gdGhlIHJpZ2h0IG9yZGVyXG5cdFx0dGhpcy5jb2xsZWN0aW9uLnNvcnQoKTtcblxuXHRcdC8vIENsZWFyIHRoZSBjYW52YXNcblx0XHR0aGlzLmNsZWFyKCk7XG5cblx0XHQvLyBTaG93IENvbnRyb2xzXG5cdFx0dGhpcy5jb250cm9scygpO1xuXHR9XG5cblx0Y29udHJvbHMoKSB7XG5cdFx0Ly8gU2hvdyBDb250cm9scyBhbmQgaW5mb3JtYXRpb24/XG5cdFx0dGhpcy5zY29yZS52aXNpYmxlID0gdHJ1ZTtcblx0XHR0aGlzLmNyZWRpdHMudmlzaWJsZSA9IHRoaXMuZW5kZWQ7XG5cdFx0dGhpcy5pbmZvLnZpc2libGUgPSB0aGlzLmVuZGVkO1xuXHR9XG5cblx0ZnJhbWUoKSB7XG5cblx0XHRpZiAoIXRoaXMuZW5kZWQpIHtcblxuXHRcdFx0Y29uc3Qgbm93ID0gcGVyZm9ybWFuY2Uubm93KCk7XG5cblx0XHRcdC8vIE1hcmsgdGhhdCB0aGlzIGhhcyBhIGRpZmZlcmVuY2UgaW4gWVxuXHRcdFx0Ly8gVGhpcyBpcyB1c2VkIGxhdGVyIHRvIHNheSB3aGV0aGVyIGEgbW92ZSB0byB0aGUgbGVmdCBvciByaWdodCBpcyBwb3NzaWJsZS5cblx0XHRcdHRoaXMuZGlmZiA9IE1hdGgubWluKChub3cgLSB0aGlzLmxhc3RUaWNrKSAvIHRoaXMuY2FkZW5jZSwgMSkgJSAxO1xuXG5cdFx0XHQvLyBHcmFiIHRoZSBjdXJyZW50IGdhbWUgcGllY2UgYW5kIGNoYW5nZSBpdCdzIHZlcnRpY2FsIHBvc2l0aW9uXG5cdFx0XHRpZiAodGhpcy5nYW1lcGllY2UpIHtcblxuXHRcdFx0XHQvLyBDYW4gdGhpcyBwaWVjZSBtb3ZlIGRvd24/XG5cdFx0XHRcdC8vIEZpbmQgdGhlIG1hdHJpeFxuXHRcdFx0XHR0aGlzLmdhbWVwaWVjZS55ID0gcGFyc2VJbnQoKHRoaXMuZGlmZiArIHRoaXMuZ2FtZXBpZWNlLmd5KSAqIHRoaXMudGgsIDEwKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSXMgdGhpcyBhIGJpZyBtb3ZlXG5cdFx0XHRpZiAodGhpcy5kaWZmID09PSAwKSB7XG5cblx0XHRcdFx0Ly8gVXBkYXRlIHRoZSBsYXN0VGlja1xuXHRcdFx0XHR0aGlzLmxhc3RUaWNrID0gbm93O1xuXG5cdFx0XHRcdC8vIFRyaWdnZXIgdGhlIHRpY2tcblx0XHRcdFx0dGhpcy50aWNrKCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gT24gZXZlcnkgZnJhbWVcblx0XHQvLyBQcmVwYXJlIGRpcnR5IGFyZWFzXG5cdFx0dGhpcy5jb2xsZWN0aW9uLnByZXBhcmUoKTtcblxuXHRcdC8vIERyYXcgbWFya2VkIGl0ZW1zXG5cdFx0dGhpcy5jb2xsZWN0aW9uLmRyYXcoKTtcblx0fVxuXG5cdC8vIFRoaXMgaXMgdGhlIGdhbWUgdGlja1xuXHQvLyBUaGUgcmF0ZSBhdCB3aGljaCB0aGlzIGlzIGNvbnRyb2xsZWQgdmFyaWVzIGRlcGVuZGluZyBvbiB0aGUgZ2FtZSBjYWRlbmNlXG5cdC8vIEZvciBpbnN0YW5jZSB0aGlzIHNob3VsZCBpbml0aWFsbHkgYmUgc2V0IHRvIGEgZmFsbCByYXRlIG9mIDEgYmxvY2sgZXZlcnkgc2Vjb25kXG5cdC8vIFdoZW4gdGhlIGdhbWUgZXZvbHZlcyB0aGUgdGljayBjYW4gYmUgY2FsbGVkIG1vcmUgZnJlcXVlbnRseVxuXG5cdHRpY2soKSB7XG5cblx0XHRpZiAodGhpcy5nYW1lcGllY2UpIHtcblx0XHRcdC8vIENvbXBhcmUgdGhlIHBvc2l0aW9uIG9mIHRoZSBnYW1lcGllY2UgYW5kIGRldGVybWluZSB3aGV0aGVyIGl0J3MgZnJlZSB0byBtb3ZlIGRvd25cblx0XHRcdC8vIC0gaWYgbm90IHRyaWdnZXIgdGhlIGVuZCBhbmQgZml4IGl0IGluIHBsYWNlXG5cblx0XHRcdC8vIFRoZSBnYW1lcGllY2UgaGFzIGEgc3RydWN0dXJlIGFzIGRvZXMgdGhlIGJvYXJkXG5cdFx0XHQvLyBDb21wYXJlIHRoZSBwb3NpdGlvbiBvZiB0aGUgYmxvY2tzIHdoaWNoIG1ha2VzIHVwIHRoZSBnYW1lIHBpZWNlXG5cdFx0XHQvLyAtIGluIHJlbGF0aW9uIHRvIHRoZSByZWxhdGl2ZSBzdHJ1Y3R1cmUgb2YgdGhlIGJvYXJkXG5cblx0XHRcdC8vIFVwZGF0ZSB0aGUgZ2FtZXBpZWNlcyBwb3NpdGlvbi4uLlxuXHRcdFx0dGhpcy5tb3ZlKHt5OiAxfSk7XG5cdFx0fVxuXHRcdC8vIEVsc2UgY3JlYXRlIGEgZ2FtZSBzaGFwZSBhbmQgcG9zaXRpb24gaXQgb24gdGhlIGJvYXJkXG5cdFx0ZWxzZSB7XG5cblx0XHRcdGNvbnN0IHt0dywgdGgsIG54fSA9IHRoaXM7XG5cdFx0XHRjb25zdCBwaWVjZSA9IHJhbmRvbShwaWVjZXMpO1xuXHRcdFx0Y29uc3QgeGxlbiA9IHBpZWNlLnN0cnVjdHVyZVswXS5sZW5ndGg7XG5cdFx0XHRjb25zdCB5bGVuID0gcGllY2Uuc3RydWN0dXJlLmxlbmd0aDtcblxuXHRcdFx0Ly8gRmluZCB0aGUgc3RhcnRpbmcgZ3JpZCBwb3NpdGlvbiBvZiB0aGUgcGllY2Vcblx0XHRcdGNvbnN0IGd4ID0gTWF0aC5jZWlsKChueCAtIHhsZW4pIC8gMik7XG5cdFx0XHRjb25zdCBneSA9IC15bGVuO1xuXG5cdFx0XHQvLyBDcmVhdGUgdGhlIHBpZWNlXG5cdFx0XHRjb25zdCBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG5cdFx0XHRcdGd4LFxuXHRcdFx0XHRneSxcblx0XHRcdFx0dHcsXG5cdFx0XHRcdHRoXG5cdFx0XHR9LCBwaWVjZSk7XG5cblx0XHRcdHRoaXMuZ2FtZXBpZWNlID0gbmV3IFBpZWNlKG9wdGlvbnMpO1xuXHRcdFx0dGhpcy5jb2xsZWN0aW9uLnB1c2godGhpcy5nYW1lcGllY2UpO1xuXG5cdFx0XHQvLyBEcmF3IG1hcmtlZCBpdGVtc1xuXHRcdFx0dGhpcy5jb2xsZWN0aW9uLnNvcnQoKTtcblx0XHR9XG5cdH1cblxuXHRjbGljaygpIHtcblx0XHQvLyBGaW5kIHRoZSBnYW1lcGllY2UgYW5kIHRyaWdnZXIgYSByb3RhdGlvblxuXHRcdHRoaXMucm90YXRlKCk7XG5cdH1cblxuXHRyb3RhdGUoKSB7XG5cdFx0Ly8gRmluZCB0aGUgZ2FtZXBpZWNlIGFuZCB0cmlnZ2VyIGEgcm90YXRpb25cblx0XHRpZiAodGhpcy5nYW1lcGllY2UpIHtcblx0XHRcdHRoaXMuZ2FtZXBpZWNlLnJvdGF0ZSgpO1xuXHRcdH1cblx0fVxuXG5cdGNhbk1vdmUoY29yZHMpIHtcblx0XHQvLyBQcm9wcyBvZiB0aGUgZ2FtZXBpZWNlXG5cdFx0Y29uc3Qge2d4LCBneX0gPSB0aGlzLmdhbWVwaWVjZTtcblx0XHRjb25zdCB7eCA9IDAsIHkgPSAwfSA9IGNvcmRzO1xuXG5cdFx0Ly8gQ2FuIG1vdmU/XG5cdFx0Y29uc3QgcG9pbnRzID0gdGhpcy5nYW1lcGllY2UucG9pbnRzKCk7XG5cblx0XHQvLyBJcyB0aGVyZSBzb21ldGhpbmcgYXQgdGhpcyBwb2ludCBvbiB0aGUgYm9hcmQ/XG5cdFx0cmV0dXJuICFwb2ludHMuZmluZCgoW3B4LCBweV0pID0+IHtcblxuXHRcdFx0Ly8gRm9yIGEgc2lkZXdheXMgbW92ZSBoYXZpbmcgYWxyZWFkeSBmYWxsZW4gaGFsZiB3YXkgYWxzbyBjaGVjayBhbiBpbnRlcm1lZGlhdGUgcG9zaXRpb25cblx0XHRcdGlmICh0aGlzLmRpZmYgJiYgeCAmJiAheSAmJiB0aGlzLnBvaW50KHB4ICsgeCArIGd4LCBweSArIHkgKyBneSArIDEpKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDaGVjayB0aGUgcG9zaXRpb25cblx0XHRcdHJldHVybiB0aGlzLnBvaW50KHB4ICsgeCArIGd4LCBweSArIHkgKyBneSk7XG5cdFx0fSk7XG5cdH1cblxuXHRwb2ludCh4LCB5KSB7XG5cblx0XHQvLyBBbGxvdyBpdGVtcyB0byBmYWxsIGZyb20gYmV5b25kIHRoZSB0b3Bcblx0XHRpZiAoeSA8IDApIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblxuXHRcdC8vIE91dCBvZiBib3VuZHNcblx0XHRpZiAoKHkgPj0gdGhpcy5ueSkgfHwgKHggPCAwIHx8IHggPj0gdGhpcy5ueCkpIHtcblx0XHRcdC8vIG91dCBvZiBib3VuZHNcblx0XHRcdHJldHVybiAxO1xuXHRcdH1cblxuXHRcdC8vIFdoYXRzIHRoZXJlP1xuXHRcdHJldHVybiB0aGlzLmJvYXJkW3ldW3hdO1xuXHR9XG5cblx0Ly8gVHJpZ2dlcmVkIHdoZW4gdGhlIGdhbWVwaWVjZSBoYXMgcmVhY2hlZCB0aGUgYm90dG9tXG5cdHJlc3RHYW1lcGllY2UoKSB7XG5cblx0XHQvLyBTZXQgdGhlIGdhbWVwaWVjZSBvbiB0aGUgYm9hcmRcblx0XHRjb25zdCBwb2ludHMgPSB0aGlzLmdhbWVwaWVjZS5wb2ludHMoKTtcblx0XHRjb25zdCB7Z3gsIGd5fSA9IHRoaXMuZ2FtZXBpZWNlO1xuXG5cdFx0Ly8gSXMgdGhlIGl0ZW0gcmVzdGluZyBvbi9hYm92ZSB0aGUgdG9wP1xuXHRcdGlmIChneSA8PSAwKSB7XG5cdFx0XHR0aGlzLmVuZCgpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIE1hcmsgdGhlIGJvYXJkIGFzIGhhdmluZyBmaWxsZWQgaW5cblx0XHRwb2ludHMuZm9yRWFjaCgoW3B4LCBweV0pID0+IHtcblx0XHRcdGNvbnN0IHggPSBweCArIGd4O1xuXHRcdFx0Y29uc3QgeSA9IHB5ICsgZ3k7XG5cblx0XHRcdC8vIFJlY3JlYXRlIHRoZSBzcXVhcmVcblx0XHRcdGNvbnN0IHRpbGUgPSBuZXcgUmVjdCh0aGlzLnR3ICogeCwgdGhpcy50aCAqIHksIHRoaXMudHcsIHRoaXMudGgpO1xuXHRcdFx0dGlsZS56SW5kZXggPSAwO1xuXHRcdFx0dGlsZS5maWxsU3R5bGUgPSB0aGlzLmdhbWVwaWVjZS5jb2xvcjtcblx0XHRcdHRoaXMuY29sbGVjdGlvbi5wdXNoKHRpbGUpO1xuXG5cdFx0XHR0aGlzLmJvYXJkW3ldW3hdID0gdGlsZTtcblx0XHR9KTtcblxuXHRcdC8vIFJlbW92ZSB0aGUgZ2FtZXBpZWNlXG5cdFx0dGhpcy5nYW1lcGllY2UucmVtb3ZlKCk7XG5cblx0XHQvLyBSZXNldCB0aGUgc3dpcGUgcG9zaXRpb25cblx0XHR0aGlzLnN3aXBlU3RhcnQgPSBudWxsO1xuXG5cdFx0Ly8gQ3JlYXRlIGEgbGlzdCBvZiBtYXJrZWQgcm93IGluZGV4ZXMgdG8gcmVtb3ZlIGZyb20gdGhlIGJvYXJkXG5cdFx0Y29uc3QgbWFya2VkID0gW107XG5cblx0XHQvLyBDb21wbGV0ZWQgcm93cz9cblx0XHR0aGlzLmJvYXJkLmZvckVhY2goKHJvdywgaW5kZXgpID0+IHtcblxuXHRcdFx0Ly8gSWdub3JlIHJvd3Mgd2hlcmUgZXZlcnkgdGlsZSBpcyBub3QgbGFpZFxuXHRcdFx0aWYgKHJvdy5maWx0ZXIoYSA9PiBhKS5sZW5ndGggIT09IHRoaXMubngpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBEZXRhY2ggYWxsIHRpbGUgb2JqZWN0c1xuXHRcdFx0cm93LmZvckVhY2godGlsZSA9PiB0aWxlLnJlbW92ZSgpKTtcblxuXHRcdFx0Ly8gQWRkIHRoaXMgcm93IGluZGV4IHRvIHRoZSBtYXJrZWQgbGlzdFxuXHRcdFx0bWFya2VkLnB1c2goaW5kZXgpO1xuXHRcdH0pO1xuXG5cdFx0Ly8gVGhlcmUgYXJlIHJvd3MgdG8gcmVtb3ZlXG5cdFx0aWYgKG1hcmtlZC5sZW5ndGgpIHtcblxuXHRcdFx0Ly8gUmVtb3ZlIGl0ZW1zIGZyb20gdGhlIGJvdHRvbVxuXHRcdFx0bWFya2VkLnJldmVyc2UoKS5mb3JFYWNoKGluZGV4ID0+IHRoaXMuYm9hcmQuc3BsaWNlKGluZGV4LCAxKSk7XG5cblx0XHRcdC8vIEFkZCBpdGVtcyB0byB0aGUgdG9wXG5cdFx0XHRtYXJrZWQuZm9yRWFjaCgoKSA9PiB7XG5cdFx0XHRcdHRoaXMuYm9hcmQudW5zaGlmdChbXSk7XG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gTG9vcCB0aHJvdWdoIGFuZCByZXBvc2l0aW9uIGV2ZXJ5IHRpbGVcblx0XHRcdHRoaXMuYm9hcmQuZm9yRWFjaCgocm93LCByb3dJbmRleCkgPT4ge1xuXHRcdFx0XHRyb3cuZm9yRWFjaCgodGlsZSkgPT4ge1xuXHRcdFx0XHRcdGlmICh0aWxlKSB7XG5cdFx0XHRcdFx0XHR0aWxlLnkgPSByb3dJbmRleCAqIHRoaXMudGg7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBBZGQgYSBzY29yZVxuXHRcdFx0dGhpcy5zY29yZS50ZXh0ICs9IG1hcmtlZC5sZW5ndGg7XG5cdFx0XHR0aGlzLnNjb3JlLmNhbGModGhpcyk7XG5cdFx0fVxuXHR9XG5cblx0bW92ZSh7eCA9IDAsIHkgPSAwfSkge1xuXG5cdFx0Ly8gTW92ZSB0aGUgZ2FtZSBwaWVjZVxuXHRcdGlmICh0aGlzLmdhbWVwaWVjZSAmJiB0aGlzLmNhbk1vdmUoe3gsIHl9KSkge1xuXG5cdFx0XHR0aGlzLmdhbWVwaWVjZS5neCArPSB4O1xuXHRcdFx0dGhpcy5nYW1lcGllY2UueCA9ICh0aGlzLmdhbWVwaWVjZS5neCAqIHRoaXMudHcpO1xuXG5cdFx0XHR0aGlzLmdhbWVwaWVjZS5neSArPSB5O1xuXHRcdFx0dGhpcy5nYW1lcGllY2UueSA9ICh0aGlzLmdhbWVwaWVjZS5neSAqIHRoaXMudGgpO1xuXG5cdFx0XHQvLyBGcmVlIHRvIGNvbnRpbnVlIGZhbGxpbmc/XG5cdFx0XHRpZiAoIXRoaXMuY2FuTW92ZSh7eTogMX0pKSB7XG5cdFx0XHRcdC8vIFJlc3QgZ2FtZVtpZWNlXVxuXHRcdFx0XHR0aGlzLnJlc3RHYW1lcGllY2UoKTtcblxuXHRcdFx0XHQvLyBSZW1vdmUgaXRcblx0XHRcdFx0dGhpcy5nYW1lcGllY2UgPSBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBUaGlzIG1vdmVkIHN1Y2Nlc3NmdWxseVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHR9XG5cblx0a2V5cHJlc3Moe2tleX0pIHtcblx0XHRzd2l0Y2ggKGtleSkge1xuXHRcdFx0Y2FzZSAnQXJyb3dSaWdodCc6IHtcblx0XHRcdFx0dGhpcy5tb3ZlKHt4OiAxfSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0Y2FzZSAnQXJyb3dMZWZ0Jzoge1xuXHRcdFx0XHR0aGlzLm1vdmUoe3g6IC0xfSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0Y2FzZSAnQXJyb3dEb3duJzoge1xuXHRcdFx0XHR0aGlzLm1vdmUoe3k6IDF9KTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRjYXNlICdBcnJvd1VwJzoge1xuXHRcdFx0XHR0aGlzLnJvdGF0ZSgpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdGNhc2UgJyAnOiB7XG5cdFx0XHRcdHRoaXMucm90YXRlKCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0c3dpcGUoZSkge1xuXG5cdFx0Ly8gU2V0IHByZXZlbnQgZGVmYXVsdCB0byBzdG9wIGFueSBtb3VzZSBldmVudHMgZnJvbSBhbHNvIGJlaW5nIGNhbGxlZFxuXHRcdGlmICgodHlwZW9mIFRvdWNoRXZlbnQgIT09ICd1bmRlZmluZWQnKSAmJiBlIGluc3RhbmNlb2YgVG91Y2hFdmVudCkge1xuXHRcdFx0Ly8gUHJldmVudCB0aGUgdHJpZ2dlcmluZyBvZiB0aGUgbW91c2UgZXZlbnRzXG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgdHlwZSA9IGUuZ2VzdHVyZS50eXBlO1xuXG5cdFx0aWYgKHR5cGUgPT09ICdzdGFydCcgJiYgdGhpcy5lbmRlZCkge1xuXHRcdFx0dGhpcy5yZXNldCgpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIElzIHRoaXMgYSByZWxlYXNlP1xuXHRcdGlmICh0eXBlID09PSAncmVsZWFzZScgfHwgdHlwZSA9PT0gJ2NsaWNrJyB8fCAhdGhpcy5nYW1lcGllY2UpIHtcblxuXHRcdFx0Ly8gVGhpcyBoYXMgZW5kZWRcblx0XHRcdHRoaXMuc3dpcGVTdGFydCA9IG51bGw7XG5cblx0XHRcdGlmIChlLmdlc3R1cmUuZGVsdGFUaW1lIDwgMjAwKSB7XG5cdFx0XHRcdHRoaXMucm90YXRlKCk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIFN0YXJ0IGEgbmV3IG9uZVxuXHRcdGlmICh0eXBlID09PSAnc3RhcnQnKSB7XG5cdFx0XHQvLyBSZWNvcmQgdGhlIG5ldyBzdGFydCBwaWVjZVxuXHRcdFx0dGhpcy5zd2lwZVN0YXJ0R2FtZVBpZWNlID0gdGhpcy5nYW1lcGllY2U7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuc3dpcGVTdGFydEdhbWVQaWVjZSAhPT0gdGhpcy5nYW1lcGllY2UpIHtcblx0XHRcdC8vIFRoaXMgd2lsbCBmb3JjZSBhIG5ldyB0b3VjaFxuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXG5cdFx0Ly8gU2V0IHRoZSBpbml0aWFsIHBvc2l0aW9uIG9mIHRoZSBibG9ja1xuXHRcdGlmICghdGhpcy5zd2lwZVN0YXJ0KSB7XG5cdFx0XHR0aGlzLnN3aXBlU3RhcnQgPSB7XG5cdFx0XHRcdHg6IHRoaXMuZ2FtZXBpZWNlLmd4LFxuXHRcdFx0XHR5OiB0aGlzLmdhbWVwaWVjZS5neVxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyBVc2luZyB0aGUgZGVsdGEgcG9zaXRpb25pbmcgYW5kIHRoZSB0aWxlIGRpZmZlcmVuY2Ugd29yayBvdXQgaG93IGZhciB3ZSBjYW4gbW92ZSB0aGlzXG5cdFx0Y29uc3QgZGVsdGFYID0gcGFyc2VJbnQoZS5nZXN0dXJlLmRlbHRhWCAvIHRoaXMudHcsIDEwKTtcblx0XHRjb25zdCBkZWx0YVkgPSBwYXJzZUludChlLmdlc3R1cmUuZGVsdGFZIC8gdGhpcy50aCwgMTApO1xuXG5cdFx0Ly8gSG93IGZhciBoYXMgdGhlIGN1cnJlbnQgZ3JpZCBjaGFuZ2VkXG5cdFx0Y29uc3QgeCA9IHRoaXMuc3dpcGVTdGFydC54IC0gdGhpcy5nYW1lcGllY2UuZ3ggKyBkZWx0YVg7XG5cblx0XHQvLyBUaGUgeSB2YWx1ZSBjYW4gb25seSBiZSBwb3NpdGl2ZVxuXHRcdGNvbnN0IHkgPSBNYXRoLm1heCh0aGlzLnN3aXBlU3RhcnQueSAtIHRoaXMuZ2FtZXBpZWNlLmd5ICsgZGVsdGFZLCAwKTtcblxuXHRcdC8vIFxuXHRcdHRoaXMubW92ZSh7eCwgeX0pO1xuXG5cdH1cblxuXHRlbmQoKSB7XG5cdFx0dGhpcy5jcmVkaXRzLnZpc2libGUgPSB0cnVlO1xuXHRcdHRoaXMuY3JlZGl0cy5jYWxjKHRoaXMpO1xuXG5cblx0XHQvLyBVcGRhdGUgaW5mb1xuXHRcdHRoaXMuaW5mby52aXNpYmxlID0gdHJ1ZTtcblx0XHR0aGlzLmluZm8uY2FsYyh0aGlzKTtcblx0XHR0aGlzLmluZm8ueSA9IHRoaXMuaW5mby55ICsgdGhpcy5jcmVkaXRzLmg7XG5cdFx0dGhpcy5pbmZvLnRleHQgPSBgWW91IHNjb3JlZCAke3RoaXMuc2NvcmUudGV4dH1gO1xuXG5cblx0XHR0aGlzLmVuZGVkID0gdHJ1ZTtcblx0fVxufVxuXG5cbi8vIEFkZCBTdGFnZSB0byB0aGUgYmFja2dyb3VuZFxuQmFja2dyb3VuZC5hZGQoU3RhZ2UpO1xuXG5cbi8vIFNlbGVjdCBhIHJhbmRvbSBpdGVtIGluIGFuIGFycmF5XG5mdW5jdGlvbiByYW5kb20oYXJyKSB7XG5cdHJldHVybiBhcnJbTWF0aC5mbG9vcihhcnIubGVuZ3RoICogTWF0aC5yYW5kb20oKSldO1xufSJdfQ=="}